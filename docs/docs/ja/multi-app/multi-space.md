---
pkg: "@nocobase/plugin-multi-space"
---
:::tip
このドキュメントはAIによって翻訳されました。不正確な情報については、[英語版](/en)をご参照ください
:::



pkg: "@nocobase/plugin-multi-space"

# マルチスペース

## はじめに

**マルチスペースプラグイン**は、単一のアプリケーションインスタンス内で、論理的な分離によって複数の独立したデータスペースを実現します。

#### 利用シーン
- **複数店舗や工場**: 業務プロセスやシステム設定が高度に統一されており、例えば、統一された在庫管理、生産計画、販売戦略、レポートテンプレートなどを使用している場合。ただし、各事業単位のデータが互いに干渉しないようにする必要があります。
- **複数組織や子会社の管理**: グループ企業傘下の複数の組織や子会社が同じプラットフォームを共有しているが、各ブランドが独立した顧客、製品、注文データを持っている場合。

## インストール

プラグイン管理で **マルチスペース（Multi-Space）** プラグインを見つけて、有効化します。

![](https://static-docs.nocobase.com/multi-space/Plugin-manager-NocoBase-10-15-2025_09_57_AM.png)

## 利用ガイド

### マルチスペースの管理

プラグインを有効化したら、**「ユーザーと権限」** 設定ページに移動し、**スペース** パネルに切り替えることでスペースを管理できます。

> 最初は、組み込みの **未割り当てスペース（Unassigned Space）** が存在します。これは主に、どのスペースにも関連付けられていない古いデータを表示するために使用されます。

![](https://static-docs.nocobase.com/multi-space/Users-Permissions-NocoBase-10-15-2025_09_58_AM.png)

#### スペースの作成

「スペースを追加」ボタンをクリックして、新しいスペースを作成します。

![](https://static-docs.nocobase.com/multi-space/Users-Permissions-NocoBase-10-15-2025_09_58_AM%20(1).png)

#### ユーザーの割り当て

作成済みのスペースを選択したら、右側でそのスペースに所属するユーザーを設定できます。

> **ヒント：** スペースにユーザーを割り当てた後、**手動でページを更新する** 必要があります。そうすることで、右上のスペース切り替えリストが更新され、最新のスペースが表示されます。

![](https://static-docs.nocobase.com/multi-space/Users-Permissions-NocoBase-10-15-2025_09_59_AM.png)

### マルチスペースの切り替えと表示

右上隅で現在のスペースを切り替えることができます。
右側の**目のアイコン**（ハイライト表示されている状態）をクリックすると、複数のスペースのデータを同時に表示できます。

![](https://static-docs.nocobase.com/multi-space/Goods-NocoBase-10-15-2025_10_26_AM.png)

### マルチスペースのデータ管理

プラグインを有効化すると、コレクションを作成する際にシステムが自動的に **スペースフィールド** を追加します。
**このフィールドを含むコレクションのみが、スペース管理のロジックに組み込まれます。**

![](https://static-docs.nocobase.com/multi-space/data-source-manager-main-NocoBase-10-15-2025_10_01_AM.png)

既存のコレクションについては、手動でスペースフィールドを追加することでスペース管理を有効にできます。

![](https://static-docs.nocobase.com/multi-space/data-source-manager-main-NocoBase-10-15-2025_10_03_AM.png)

#### デフォルトのロジック

スペースフィールドを含むコレクションでは、システムが以下のロジックを自動的に適用します。

1. データを新規作成する際、現在選択されているスペースに自動的に関連付けられます。
2. データをフィルタリングする際、現在選択されているスペースのデータに自動的に限定されます。

### 既存データのマルチスペースへの分類

マルチスペースプラグインを有効にする前に存在していたデータについては、以下の手順でスペースに分類できます。

#### 1. スペースフィールドの追加

既存のコレクションにスペースフィールドを手動で追加します。

![](https://static-docs.nocobase.com/multi-space/data-source-manager-main-NocoBase-10-15-2025_10_18_AM.png)

#### 2. 未割り当てスペースへのユーザー割り当て

既存データを管理するユーザーをすべてのスペースに関連付けます。まだスペースに割り当てられていないデータを表示できるように、**未割り当てスペース（Unassigned Space）** も含める必要があります。

![](https://static-docs.nocobase.com/multi-space/Users-Permissions-NocoBase-10-15-2025_10_14_AM.png)

#### 3. すべてのスペースデータの表示に切り替える

上部で、すべてのスペースのデータを表示するように選択します。

![](https://static-docs.nocobase.com/multi-space/Goods-NocoBase-10-15-2025_10_20_AM.png)

#### 4. 既存データ割り当てページの構成

既存データ割り当て用の新しいページを作成します。**リストページ** と **編集ページ** に「スペースフィールド」を表示し、手動で所属スペースを調整できるようにします。

![](https://static-docs.nocobase.com/multi-space/Goods-10-15-2025_10_21_AM.png)

スペースフィールドを編集可能にする

![](https://static-docs.nocobase.com/multi-space/Goods-10-15-2025_10_22_AM.png)

#### 5. データのスペースへの手動割り当て

上記のページを通じて、データを手動で編集し、既存データに正しいスペースを段階的に割り当てます。（一括編集を自分で設定することも可能です）。