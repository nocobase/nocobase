---
pkg: '@nocobase/plugin-audit-logger'
---
:::tip
このドキュメントはAIによって翻訳されました。不正確な情報については、[英語版](/en)をご参照ください
:::


# 監査ログ

## はじめに

監査ログは、システム内のユーザーアクティビティやリソース操作の履歴を記録し、追跡するために使用されます。

![](https://static-docs.nocobase.com/202501031627719.png)

![](https://static-docs.nocobase.com/202501031627922.png)

## パラメーター説明

| パラメーター                  | 説明                                                                                             |
| --------------------- | ------------------------------------------------------------------------------------------------ |
| **Resource**          | 操作の対象となるリソースのタイプです。                                                           |
| **Action**            | 実行された操作のタイプです。                                                                     |
| **User**              | 操作を実行したユーザーです。                                                                     |
| **Role**              | ユーザーが操作を行った際のロールです。                                                           |
| **Data source**       | データソースです。                                                                               |
| **Target collection** | 対象となるコレクションです。                                                                     |
| **Target record UK**  | 対象コレクションの一意の識別子です。                                                             |
| **Source collection** | 関連フィールドのソースコレクションです。                                                         |
| **Source record UK**  | ソースコレクションの一意の識別子です。                                                           |
| **Status**            | 操作リクエストのレスポンスにおけるHTTPステータスコードです。                                     |
| **Created at**        | 操作が行われた日時です。                                                                         |
| **UUID**              | 操作の一意の識別子で、操作リクエストのRequest IDと一致します。アプリケーションログの検索に利用できます。 |
| **IP**                | ユーザーのIPアドレスです。                                                                       |
| **UA**                | ユーザーのUA情報です。                                                                           |
| **Metadata**          | 操作リクエストのパラメーター、リクエストボディ、レスポンス内容などのメタデータです。             |

## 監査対象リソースについて

現在、以下のリソース操作が監査ログに記録されます。

### メインアプリケーション

| 操作             | 説明                 |
| ---------------- | -------------------- |
| `app:resart`     | アプリケーションの再起動 |
| `app:clearCache` | アプリケーションキャッシュのクリア |

### プラグインマネージャー

| 操作         | 説明             |
| ------------ | ---------------- |
| `pm:add`     | プラグインの追加 |
| `pm:update`  | プラグインの更新 |
| `pm:enable`  | プラグインの有効化 |
| `pm:disable` | プラグインの無効化 |
| `pm:remove`  | プラグインの削除 |

### ユーザー認証

| 操作                  | 説明             |
| --------------------- | ---------------- |
| `auth:signIn`         | サインイン       |
| `auth:signUp`         | サインアップ     |
| `auth:signOut`        | サインアウト     |
| `auth:changePassword` | パスワードの変更 |

### ユーザー

| 操作                  | 説明           |
| --------------------- | -------------- |
| `users:updateProfile` | プロフィールの更新 |

### UI設定

| 操作                       | 説明           |
| -------------------------- | -------------- |
| `uiSchemas:insertAdjacent` | UIスキーマの挿入 |
| `uiSchemas:patch`          | UIスキーマの変更 |
| `uiSchemas:remove`         | UIスキーマの削除 |

### コレクション操作

| 操作             | 説明                 |
| ---------------- | -------------------- |
| `create`         | レコードの作成       |
| `update`         | レコードの更新       |
| `destroy`        | レコードの削除       |
| `updateOrCreate` | レコードの更新または作成 |
| `firstOrCreate`  | レコードの検索または作成 |
| `move`           | レコードの移動       |
| `set`            | 関連フィールドレコードの設定 |
| `add`            | 関連フィールドレコードの追加 |
| `remove`         | 関連フィールドレコードの削除 |
| `export`         | レコードのエクスポート |
| `import`         | レコードのインポート |

## その他の監査対象リソースの追加

プラグインを通じて他のリソース操作を拡張し、それらの操作を監査ログに記録したい場合は、[API](/api/server/audit-manager.md) を参照してください。