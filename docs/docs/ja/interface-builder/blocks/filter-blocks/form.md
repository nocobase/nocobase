:::tip
このドキュメントはAIによって翻訳されました。不正確な情報については、[英語版](/en)をご参照ください
:::

# フィルターフォーム

## はじめに

フィルターフォームを使うと、フォームのフィールドに値を入力してデータを絞り込むことができます。テーブルブロック、チャートブロック、リストブロックなど、さまざまなブロックのデータをフィルターする際に活用できます。

## 使い方

まずは簡単な例で、フィルターフォームの基本的な使い方を素早く見ていきましょう。ユーザー情報を含むテーブルブロックがあり、フィルターフォームを使ってデータを絞り込みたいとします。以下のようなイメージです。

![20251031163036_rec_](https://static-docs.nocobase.com/20251031163036_rec_.gif)

設定手順は以下の通りです。

1. 設定モードを有効にし、ページに「フィルターフォーム」ブロックと「テーブル」ブロックを追加します。
![20251031163525_rec_](https://static-docs.nocobase.com/20251031163525_rec_.gif)
2. テーブルブロックとフィルターフォームブロックの両方に「ニックネーム」フィールドを追加します。
![20251031163932_rec_](https://static-docs.nocobase.com/20251031163932_rec_.gif)
3. これで、すぐに使い始めることができます。
![20251031163036_rec_](https://static-docs.nocobase.com/20251031163036_rec_.gif)

## 高度な使い方

フィルターフォームブロックは、より高度な設定にも対応しています。ここでは、いくつかの一般的な使い方をご紹介します。

### 複数のブロックを連携する

1つのフォームフィールドで、複数のブロックのデータを同時に絞り込むことができます。具体的な操作方法は以下の通りです。

1. フィールドの「Connect fields」設定項目をクリックします。
![20251031170300](https://static-docs.nocobase.com/20251031170300.png)
2. 連携したいターゲットブロックを追加します。ここでは、ページ内のリストブロックを選択します。
![20251031170718](https://static-docs.nocobase.com/20251031170718.png)
3. リストブロックから1つまたは複数のフィールドを選択して連携します。ここでは「ニックネーム」フィールドを選択します。
![20251031171039](https://static-docs.nocobase.com/20251031171039.png)
4. 保存ボタンをクリックして設定を完了します。結果は以下のようになります。
![20251031171209_rec_](https://static-docs.nocobase.com/20251031171209_rec_.gif)

### チャートブロックを連携する

参考：[ページフィルターと連携](../../../data-visualization/guide/filters-and-linkage.md)

### カスタムフィールド

データテーブルからフィールドを選択するだけでなく、「カスタムフィールド」を使ってフォームフィールドを作成することもできます。例えば、ドロップダウンの単一選択フィールドを作成し、オプションを自由に設定することが可能です。具体的な操作方法は以下の通りです。

1. 「カスタムフィールド」オプションをクリックすると、設定画面が表示されます。
![20251031173833](https://static-docs.nocobase.com/20251031173833.png)
2. フィールドのタイトルを入力し、フィールドモデルで「Select」を選択して、オプションを設定します。
![20251031174857_rec_](https://static-docs.nocobase.com/20251031174857_rec_.gif)
3. 新しく追加したカスタムフィールドは、ターゲットブロックのフィールドと手動で連携する必要があります。操作方法は以下の通りです。
![20251031181957_rec_](https://static-docs.nocobase.com/20251031181957_rec_.gif)
4. 設定が完了しました。結果は以下のようになります。
![20251031182235_rec_](https://static-docs.nocobase.com/20251031182235_rec_.gif)

現在サポートされているフィールドモデルは以下の通りです。

- Input：単一行テキスト入力
- Number：数値入力
- Date：日付ピッカー
- Select：ドロップダウン（単一選択または複数選択に設定可能）
- Radio group：ラジオボタン
- Checkbox group：チェックボックス

### 折りたたみ

折りたたみボタンを追加すると、フィルターフォームの内容を折りたたんだり展開したりして、ページスペースを節約できます。

![20251031182743](https://static-docs.nocobase.com/20251031182743.png)

以下の設定が可能です。

![20251031182849](https://static-docs.nocobase.com/20251031182849.png)

- **折りたたみ時に表示する行数**：折りたたまれた状態で表示されるフォームフィールドの行数を設定します。
- **デフォルトで折りたたむ**：有効にすると、フィルターフォームはデフォルトで折りたたまれた状態で表示されます。