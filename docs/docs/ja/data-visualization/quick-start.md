:::tip
このドキュメントはAIによって翻訳されました。不正確な情報については、[英語版](/en)をご参照ください
:::

# クイックスタート

ゼロからチャートを構成する手順を説明します。ここでは基本的な機能を使用し、オプション機能については後続の章で詳しく解説します。

事前準備：
- **データソース**と**コレクション**（データテーブル）が設定されており、読み取り権限があること。

## チャートブロックの追加

ページデザイナーで「ブロックを追加」をクリックし、「チャート」を選択してチャートブロックを追加します。

![clipboard-image-1761554593](https://static-docs.nocobase.com/clipboard-image-1761554593.png)

追加後、ブロックの右上にある「設定」をクリックします。

![clipboard-image-1761554709](https://static-docs.nocobase.com/clipboard-image-1761554709.png)

右側にチャートの設定パネルが開きます。これには「データクエリ」、「チャートオプション」、「イベント」の3つのセクションが含まれています。

![clipboard-image-1761554848](https://static-docs.nocobase.com/clipboard-image-1761554848.png)

## データクエリの設定
「データクエリ」パネルでは、**データソース**やクエリのフィルタ条件などを設定できます。

- まず**データソース**と**コレクション**を選択します
  - 「データクエリ」パネルで、クエリのベースとなる**データソース**と**コレクション**を選択します。
  - **コレクション**が選択できない、または空の場合は、まず作成されているか、および現在のユーザーに権限があるかを確認してください。

- メジャー（Measures）の設定
  - 1つ以上の数値フィールドをメジャーとして選択します。
  - 各メジャーに集計方法（Sum / Count / Avg / Max / Min）を設定します。

- ディメンション（Dimensions）の設定
  - グループ化するディメンション（日付、カテゴリ、地域など）として、1つ以上のフィールドを選択します。
  - 日付/時刻フィールドには、`YYYY-MM`、`YYYY-MM-DD`などの形式を設定でき、表示を統一するのに役立ちます。

![clipboard-image-1761555060](https://static-docs.nocobase.com/clipboard-image-1761555060.png)

その他の条件（フィルタ、ソート、ページネーション）はオプションです。

## クエリの実行とデータの表示

- 「クエリを実行」をクリックすると、データがリクエストされ、プレビューチャートが（左側のページに直接）レンダリングされます。
- 「データを表示」をクリックすると、返されたデータ結果をプレビューできます。テーブル/JSON形式の切り替えに対応しています。もう一度クリックするとデータプレビューが閉じます。
- データ結果が空であるか、期待どおりでない場合は、クエリパネルに戻り、**コレクション**の権限、メジャー/ディメンションのフィールドマッピング、およびデータ型を確認してください。

![clipboard-image-1761555228](https://static-docs.nocobase.com/clipboard-image-1761555228.png)

## チャートオプションの設定

「チャートオプション」パネルでは、チャートの選択とチャートオプションの設定ができます。

- まずチャートタイプ（折れ線/エリア、棒/バー、円/ドーナツ、散布図など）を選択します。
- コアフィールドのマッピングを完了します：
  - 折れ線/エリア/棒/バー：`xField`（ディメンション）、`yField`（メジャー）、`seriesField`（シリーズ、オプション）
  - 円/ドーナツ：`Category`（カテゴリディメンション）、`Value`（メジャー）
  - 散布図：`xField`、`yField`（2つのメジャーまたはディメンション）
  - その他のグラフや詳細な設定については、EChartsのドキュメント [Axis](https://echarts.apache.org/handbook/en/concepts/axis) を参照してください。
- 「クエリを実行」をクリックすると、フィールドマッピングはデフォルトで自動的に完了します。ディメンション/メジャーを変更した場合は、マッピングを再度確認してください。

![clipboard-image-1761555586](https://static-docs.nocobase.com/clipboard-image-1761555586.png)

## プレビューと保存
設定の変更はデフォルトでリアルタイムにプレビューに自動更新され、左側のページでチャートを確認できます。ただし、「保存」ボタンをクリックするまでは、すべての変更は実際に保存されていないことにご注意ください。

また、下部のボタンを使用することもできます：

- プレビュー：設定の変更は自動的にリアルタイムでプレビューを更新します。下部の「プレビュー」ボタンをクリックして手動で更新することもできます。
- キャンセル：現在の変更設定が不要な場合は、下部の「キャンセル」ボタンをクリックするか、ページを更新すると、今回の変更が取り消され、前回保存された状態に戻ります。
- 保存：「保存」をクリックすると、現在のすべてのクエリとチャート設定がデータベースに実際に保存され、すべてのユーザーに適用されます。

![clipboard-image-1761555803](https://static-docs.nocobase.com/clipboard-image-1761555803.png)

## よくある注意点

- 最小限の設定：**コレクション**と少なくとも1つのメジャーを選択します。グループ化して表示するためにディメンションを追加することをお勧めします。
- 日付ディメンションには、適切な形式（例：月ごとの統計には `YYYY-MM`）を設定することをお勧めします。これにより、X軸が不連続になったり、乱れたりするのを防ぎます。
- クエリが空の場合、またはチャートが表示されない場合：
  - **コレクション**/権限とフィールドマッピングを確認してください。
  - 「データを表示」で、列名とタイプがチャートマッピングと一致しているか確認してください。
- プレビューは一時的な状態です：検証と調整のみに使用され、「保存」をクリックした後にのみ正式に有効になります。