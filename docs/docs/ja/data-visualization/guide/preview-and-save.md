:::tip
このドキュメントはAIによって翻訳されました。不正確な情報については、[英語版](/en)をご参照ください
:::

# プレビューと保存

- プレビュー：設定パネルでの変更を一時的にページ上のチャートに反映し、効果を確認します。
- 保存：設定パネルでの変更をデータベースに実際に保存します。

## アクセス方法

![clipboard-image-1761479218](https://static-docs.nocobase.com/clipboard-image-1761479218.png)

- ビジュアル（Basic）モードでの変更は、デフォルトで自動的にプレビューが適用されます。
- SQLモードおよびCustomモードで変更を行った場合は、右側の「プレビュー」ボタンをクリックすると、プレビューが適用されます。
- 設定パネル全体の最下部には、共通の「プレビュー」ボタンが用意されています。

## プレビューの動作
- 設定は一時的にページに表示されますが、データベースには書き込まれません。ページを更新したり、操作をキャンセルしたりすると、プレビュー結果は保持されません。
- デバウンス機能内蔵：短時間に複数回更新がトリガーされた場合でも、頻繁なリクエストを避けるため、最後の1回のみ実行されます。
- 再度「プレビュー」をクリックすると、前回のプレビュー結果が上書きされます。

## エラーメッセージ
- クエリエラーまたは検証失敗：「データ表示」エリアにエラーメッセージが表示されます。
- チャート設定エラー（Basicマッピングの欠落、Custom JSでの例外発生など）：チャートエリアまたはコンソールにエラーが表示されますが、ページは操作可能な状態を維持します。
- エラーを効果的に減らすには、フィールドマッピングやCustomコードの記述を行う前に、まず「データ表示」で列名とデータ型を確認することをおすすめします。

## 保存とキャンセル
- 保存：現在のパネルでの変更をブロック設定に書き込み、すぐにページに適用します。
- キャンセル：現在のパネルでの未保存の変更を破棄し、最後に保存された状態に戻します。
- 保存範囲：
  - データクエリ：Builderのクエリパラメータ。SQLモードでは、SQLテキストも同時に保存されます。
  - チャートオプション：Basicのタイプ、フィールドマッピング、プロパティ。CustomのJSテキスト。
  - インタラクションイベント：イベントのJSテキストとバインディングロジック。
- 保存後、ブロックは全ての訪問者に適用されます（ページ権限設定によります）。

## 推奨される操作フロー
- データクエリを設定 → クエリを実行 → 「データ表示」で列名と型を確認 → チャートオプションを設定し、コアフィールドをマッピング → プレビューで検証 → 保存して適用。