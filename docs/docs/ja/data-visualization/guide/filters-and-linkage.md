:::tip
このドキュメントはAIによって翻訳されました。不正確な情報については、[英語版](/en)をご参照ください
:::

# ページフィルターと連携

ページフィルター（Filter Block）は、ページレベルでフィルター条件を一元的に入力し、それらをチャートのクエリに統合するために使用されます。これにより、複数のチャート間で一貫したフィルター処理と連携が可能になります。

## 機能概要
- ページに「フィルターブロック」を追加すると、現在のページのすべてのチャートに対して、一元的なフィルター入力が提供されます。
- 「フィルター」「リセット」「折りたたむ」ボタンを使って、フィルターの適用、クリア、および折りたたむ操作ができます。
- フィルターでチャートに関連付けられたフィールドを選択すると、その値は自動的にチャートのクエリリクエストに統合され、チャートの更新がトリガーされます。
- フィルターではカスタムフィールドを作成し、コンテキスト変数に登録できます。これにより、チャート、テーブル、フォームなどのデータブロックで参照できるようになります。

![clipboard-image-1761487702](https://static-docs.nocobase.com/clipboard-image-1761487702.png)

ページフィルターのより詳しい使い方や、チャートなどのデータブロックとの連携については、「ページフィルター」ドキュメントをご参照ください。

## チャートクエリでのページフィルター値の使用
- Builderモード（推奨）
  - **自動マージ:** 同じデータソースとコレクションを使用している場合、チャートクエリで追加の変数を記述する必要はありません。ページフィルターは`$and`でマージされます。
  - **手動選択:** フィルター条件で、ページフィルターの「カスタムフィールド」の値を能動的に選択することもできます。

- SQLモード（変数インジェクション経由）
  - SQLステートメントで「変数を選択」し、ページフィルターの「カスタムフィールド」の値を挿入します。