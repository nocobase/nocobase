:::tip
このドキュメントはAIによって翻訳されました。不正確な情報については、[英語版](/en)をご参照ください
:::

# 高度な設定

## 実行モード

ワークフローは、作成時に選択されたトリガータイプに基づいて、「非同期」または「同期」のいずれかの方法で実行されます。非同期モードでは、特定のイベントがトリガーされた後、ワークフローはキューに入り、バックグラウンドスケジューリングによって順次実行されます。一方、同期モードでは、トリガーされた後にスケジューリングキューに入ることなく、直接実行が開始され、完了後すぐにフィードバックが返されます。

コレクションイベント、アクション後イベント、カスタムアクションイベント、スケジュールイベント、および承認イベントは、デフォルトで非同期で実行されます。アクション前イベントは、デフォルトで同期で実行されます。コレクションイベントとフォームイベントは両方のモードをサポートしており、ワークフロー作成時に選択できます。

![同期モード_同期ワークフローの作成](https://static-docs.nocobase.com/39bc0821f50c1bde4729c531c6236795.png)

:::info{title=ヒント}
同期モードのワークフローは、その性質上、「待機」状態を発生させるノード（例えば「手動処理」など）を内部で使用することはできません。
:::

## 実行履歴の自動削除

ワークフローが頻繁にトリガーされる場合、実行履歴の自動削除を設定することで、煩雑さを軽減し、同時にデータベースのストレージ負荷も軽減できます。

同様に、ワークフローの新規作成・編集ダイアログで、そのワークフローの実行履歴を自動削除するかどうかを設定できます。

![実行履歴の自動削除設定](https://static-docs.nocobase.com/b2e4c08e7a01e21306795.png)

自動削除は、実行結果のステータスに基づいて設定できます。ほとんどの場合、「完了」ステータスのみをチェックすることをお勧めします。そうすることで、実行失敗の記録を保持し、後続の問題調査に役立てることができます。

ワークフローのデバッグ時には、実行履歴の自動削除を有効にしないことをお勧めします。これは、履歴を通じてワークフローの実行ロジックが期待通りであるかを確認できるようにするためです。

:::info{title=ヒント}
ワークフローの履歴を削除しても、ワークフローの実行回数が減ることはありません。
:::