:::tip
このドキュメントはAIによって翻訳されました。不正確な情報については、[英語版](/en)をご参照ください
:::

# 条件判断

## はじめに

プログラミング言語の `if` 文のように、設定された条件判断の結果に基づいて、その後のワークフローの進行方向を決定します。

## ノードの作成

条件判断には2つのモードがあります。それぞれ「真の場合に続行」と「真/偽で分岐」です。ノード作成時にどちらかのモードを選択する必要があり、作成後はノードの設定で変更できません。

![条件判断_モード選択](https://static-docs.nocobase.com/3de27308c1179523d8606c66bf3a5fb4.png)

「真の場合に続行」モードでは、条件判断の結果が「真」の場合、ワークフローは後続のノードを実行し続けます。それ以外の場合、ワークフローは終了し、失敗ステータスで途中で終了します。

![“是”则继续模式](https://static-docs.nocobase.com/0f6ae1afe61d501f8eb1f6dedb3d4ad7.png)

このモードは、条件が満たされない場合にワークフローを続行しないシナリオに適しています。例えば、「操作前イベント」に紐付けられたフォームの送信ボタンで注文を送信する際、注文対象商品の在庫が不足している場合は、注文の生成を続行せずに失敗として終了する、といったケースです。

「真/偽で分岐」モードでは、条件ノードの後に2つの分岐ワークフローが生成されます。それぞれ条件判断の結果が「真」の場合と「偽」の場合に対応します。2つの分岐ワークフローはそれぞれ後続のノードを設定できます。いずれかの分岐の実行が完了した後、条件ノードがある上位の分岐に自動的に合流し、その後のノードの実行を続行します。

![“是”和“否”分别继续模式](https://static-docs.nocobase.com/974a1fcd8603629b64ffce6c55d59282.png)

このモードは、条件が満たされる場合と満たされない場合で、それぞれ異なる操作を実行する必要があるシナリオに適しています。例えば、あるデータが存在するかどうかを確認し、存在しない場合は新規作成、存在する場合は更新する、といったケースです。

## ノードの設定

### 計算エンジン

現在、以下の3種類のエンジンをサポートしています。

- **基本**: シンプルな二項演算と「AND」、「OR」によるグループ化を通じて、論理的な結果を得ます。
- **Math.js**: [Math.js](https://mathjs.org/) エンジンがサポートする式を計算して、論理的な結果を得ます。
- **Formula.js**: [Formula.js](https://formulajs.info/) エンジンがサポートする式を計算して、論理的な結果を得ます。

これら3種類の計算すべてにおいて、ワークフローコンテキストの変数をパラメーターとして使用できます。