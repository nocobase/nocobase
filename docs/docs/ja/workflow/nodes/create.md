:::tip
このドキュメントはAIによって翻訳されました。不正確な情報については、[英語版](/en)をご参照ください
:::

# レコードの新規作成

**コレクション**に新しいレコードを追加するために使用します。

新規作成するレコードのフィールド値には、**ワークフロー**のコンテキスト変数を利用できます。関連フィールドに値を割り当てる場合は、コンテキスト内の対応するデータ変数（オブジェクトまたは外部キー値）を直接参照できます。変数を使用しない場合は、外部キーの値を手動で入力する必要があります。多対多のリレーションシップにおける複数の外部キー値は、カンマ区切りで指定してください。

## ノードの作成

**ワークフロー**の設定画面で、フロー内のプラス（「+」）ボタンをクリックし、「レコードの新規作成」ノードを追加します。

![「レコードの新規作成」ノードの追加](https://static-docs.nocobase.com/386c8c01c89b1eeab848510e77f4841a.png)

## ノードの設定

![「レコードの新規作成」ノード_例_ノード設定](https://static-docs.nocobase.com/5f7b97a51b64a1741cf82a4d4455b610.png)

### コレクション

新しいレコードを追加する**コレクション**を選択します。

### フィールド値

**コレクション**のフィールドに値を割り当てます。**ワークフロー**のコンテキスト変数を使用することも、静的な値を手動で入力することもできます。

:::info{title="ヒント"}
**ワークフロー**の「レコードの新規作成」ノードで作成されたデータは、「作成者」や「最終更新者」などのユーザーデータを自動的に処理しません。これらのフィールドの値は、必要に応じてご自身で設定してください。
:::

### 関連データのプリロード

新規作成するレコードのフィールドに**関連フィールド**が含まれており、後続の**ワークフロー**ステップでその**関連データ**を使用したい場合は、プリロード設定で該当する**関連フィールド**をチェックしてください。これにより、レコードの新規作成が完了した後、対応する**関連データ**が自動的にロードされ、ノードの結果データに一緒に保存されます。

## 例

例えば、「記事」**コレクション**のレコードが新規作成または更新された際に、記事の変更履歴を記録するために「記事バージョン」レコードを自動的に新規作成する必要がある場合、「レコードの新規作成」ノードを使用することでこれを実現できます。

![「レコードの新規作成」ノード_例_ワークフロー設定](https://static-docs.nocobase.com/dfb4820d49c145fa33183fc09c9161f.png)

![「レコードの新規作成」ノード_例_ノード設定](https://static-docs.nocobase.com/1a0992e66170be12a068da6503298868.png)

この設定で**ワークフロー**を有効にすると、「記事」**コレクション**のレコードが変更された際に、「記事バージョン」レコードが自動的に新規作成され、記事の変更履歴が記録されます。