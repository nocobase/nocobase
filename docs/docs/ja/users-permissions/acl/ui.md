---
pkg: '@nocobase/plugin-acl'
---
:::tip
このドキュメントはAIによって翻訳されました。不正確な情報については、[英語版](/en)をご参照ください
:::


# UIでの権限設定

## コレクションブロックの権限

コレクションブロックの表示・非表示は「表示」操作の権限によって制御されます。個別に設定された権限は、グローバル設定よりも優先されます。

例えば、以下の図のように、グローバル権限では `admin` ロールがすべての権限を持っていますが、`注文` コレクションには個別の権限が設定されており（非表示）、グローバル設定よりも優先されます。

グローバル権限の設定は以下の通りです。

![](https://static-docs.nocobase.com/3d026311739c7cf5fdcd03f710d09bc4.png)

`注文` コレクションの個別権限設定は以下の通りです。

![](https://static-docs.nocobase.com/a88c1cad47001c1610bf402a4a2c1.png)

UI上では、`注文` コレクションのすべてのブロックが表示されなくなります。

設定の全手順は以下のGIFをご覧ください。

![](https://static-docs.nocobase.com/b283c004ffe0b746fddbffcf4f27b1df.gif)

## フィールドの権限

**表示**: フィールドレベルで特定のフィールドが表示されるかどうかを制御します。例えば、特定のロールに対して `注文` コレクションのどのフィールドを表示するかを制御できます。

![](https://static-docs.nocobase.com/30dea84d984d95039e6f7b180955a6cf.png)

UI上では、`注文` コレクションのブロック内には、権限が設定されているフィールドのみが表示されます。システムフィールド（`Id`、`CreatedAt`、`Last updated at`）は、特に設定しなくても表示権限を持っています。

![](https://static-docs.nocobase.com/40cc9e79dcc.png)

- **編集**: フィールドが編集・保存（更新）できるかどうかを制御します。

  図のように、`注文` コレクションのフィールドの編集権限を設定します（`数量` と関連する `商品` に編集権限があります）。

  ![](https://static-docs.nocobase.com/6531ca4122f0887547b5719e2146ba93.png)

  UI上では、`注文` コレクションブロックの編集操作フォームブロックには、編集権限のあるフィールドのみが表示されます。

  ![](https://static-docs.nocobase.com/12982450c311ec1bf87eb9dc5fb04650.png)

  設定の全手順は以下のGIFをご覧ください。

  ![](https://static-docs.nocobase.com/1dbe559a9579c2e052e194e50edc74a7.gif)

- **追加**: フィールドが追加（作成）できるかどうかを制御します。

  図のように、`注文` コレクションのフィールドの追加権限を設定します（`注文番号`、`数量`、`商品`、`運送状` に追加権限があります）。

  ![](https://static-docs.nocobase.com/3ab1bbe41e61915e920fd257f2e0da7e.png)

  UI上では、`注文` コレクションブロックの追加操作フォームブロックには、追加権限のあるフィールドのみが表示されます。

  ![](https://static-docs.nocobase.com/8d0c07893b63771c428974f9e126bf35.png)

- **エクスポート**: フィールドをエクスポートできるかどうかを制御します。
- **インポート**: フィールドがインポートをサポートするかどうかを制御します。

## 操作の権限

個別に設定された権限が最も高い優先順位を持ちます。個別の権限が設定されている場合はそれが適用され、設定されていない場合はグローバル設定の権限が適用されます。

- **追加**: ブロック内の追加操作ボタンが表示されるかどうかを制御します。

  図のように、`注文` コレクションの操作権限を個別に設定し、追加を許可します。

  ![](https://static-docs.nocobase.com/2e3123b5dbc72ae78942481360626629.png)

  UI上では、`注文` コレクションブロックの操作エリアに追加ボタンが表示されます。

  ![](https://static-docs.nocobase.com/f0458980d450544d94c73160d75ba96c.png)

- **表示**: コレクションブロックが表示されるかどうかを制御します。

  図のように、グローバル権限は以下の通り設定されています（表示権限なし）。

  ![](https://static-docs.nocobase.com/6e4a1e6ea92f50bf84959dedbf1d5683.png)

  `注文` コレクションの個別権限設定は以下の通りです。

  ![](https://static-docs.nocobase.com/f2dd142a40fe19fb657071fd901b2291.png)

  UI上では、他のすべてのコレクションブロックは表示されず、`注文` コレクションブロックのみが表示されます。

  設定の全手順は以下のGIFをご覧ください。

  ![](https://static-docs.nocobase.com/b92f0edc51a27b52e85cdeb76271b936.gif)

- **編集**: ブロック内の編集操作ボタンが表示されるかどうかを制御します。

  ![](https://static-docs.nocobase.com/fb1c0290e2a833f1c2b415c761e54c45.gif)

  データ範囲を設定することで、操作の権限をさらに細かく制御できます。

  例えば、`注文` コレクションで、ユーザーが自分のデータのみを編集できるように設定します。

  ![](https://static-docs.nocobase.com/b082308f62a3a9084cab78a370c14a9f.gif)

- **削除**: ブロック内の削除操作ボタンが表示されるかどうかを制御します。

  ![](https://static-docs.nocobase.com/021c9e79bcc1ad221b606a9555ff5644.gif)

- **エクスポート**: ブロック内のエクスポート操作ボタンが表示されるかどうかを制御します。

- **インポート**: ブロック内のインポート操作ボタンが表示されるかどうかを制御します。

## リレーションの権限

### フィールドとして使用する場合

- リレーションフィールドの権限は、ソースコレクションのフィールド権限によって制御されます。これにより、リレーションフィールドコンポーネント全体が表示されるかどうかが制御されます。

例えば、`注文` コレクションのリレーションフィールド「`顧客`」には、表示、インポート、エクスポートの権限のみが設定されています。

![](https://static-docs.nocobase.com/d0dc797aae73feeabc436af285dd4f59.png)

UI上では、`注文` コレクションブロックの追加および編集操作ブロックに「`顧客`」リレーションフィールドは表示されません。

設定の全手順は以下のGIFをご覧ください。

![](https://static-docs.nocobase.com/372f8a4f414feea097c23b2ba326c0ef.gif)

- リレーションフィールドコンポーネント内（例: サブテーブル/サブフォーム）のフィールドの権限は、ターゲットコレクションの権限によって決定されます。

リレーションフィールドコンポーネントがサブフォームの場合:

以下の図のように、`注文` コレクションのリレーションフィールド「`顧客`」はすべての権限を持っていますが、`顧客` コレクション自体は読み取り専用の個別権限が設定されています。

`注文` コレクションの個別権限設定は以下の通りです。「`顧客`」リレーションフィールドはすべてのフィールド権限を持っています。

![](https://static-docs.nocobase.com/3a3ab9722f14a7b3a35361219d67fa40.png)

`顧客` コレクションの個別権限設定は以下の通りです。`顧客` コレクションのフィールドは表示権限のみを持っています。

![](https://static-docs.nocobase.com/46704d179b931006a9a22852e6c5089e.png)

UI上では、`注文` コレクションブロックに「`顧客`」リレーションフィールドが表示されます。しかし、サブフォームに切り替えると（サブフォーム内のフィールドは詳細表示では見えますが、新規作成および編集操作では表示されません）。

設定の全手順は以下のGIFをご覧ください。

![](https://static-docs.nocobase.com/932dbf6ac46e36ee357ff3e8b9ea1423.gif)

サブフォーム内のフィールド権限をさらに制御するには、個別のフィールドに権限を付与できます。

図のように、`顧客` コレクションのフィールド権限を個別に設定します（`顧客名` は表示されず、編集もできません）。

![](https://static-docs.nocobase.com/e7b875521cbc4e28640f027f36d0413c.png)

設定の全手順は以下のGIFをご覧ください。

![](https://static-docs.nocobase.com/7a07e68c2fe2a13f0c2cef19be489264.gif)

リレーションフィールドコンポーネントがサブテーブルの場合も、サブフォームと同様です。

図のように、`注文` コレクションにリレーションフィールド「`運送状`」があり、このリレーションフィールド「`運送状`」はすべての権限を持っていますが、`運送状` コレクションは読み取り専用の個別権限が設定されています。

UI上では、このリレーションフィールドは表示されます。しかし、サブテーブルに切り替えると（サブテーブル内のフィールドは表示操作では見えますが、新規作成および編集操作では表示されません）。

![](https://static-docs.nocobase.com/fd4b7d81cdd765db789d9c85cf9dc324.gif)

サブテーブル内のフィールド権限をさらに制御するには、個別のフィールドに権限を付与できます。

![](https://static-docs.nocobase.com/51d70a624cb2b0366e421bcdc8abb7fd.gif)

### ブロックとして使用する場合

- リレーションブロックの表示は、対応するリレーションフィールドのターゲットコレクションの権限によって制御され、リレーションフィールド自体の権限とは関係ありません。

例えば、「`顧客`」リレーションブロックが表示されるかどうかは、`顧客` コレクションの権限によって制御されます。

![](https://static-docs.nocobase.com/633ebb301767430b740ecfce11df47b3.gif)

- リレーションブロック内のフィールドは、ターゲットコレクションのフィールド権限によって制御されます。

図のように、`顧客` コレクションの個別のフィールドに表示権限を設定できます。

![](https://static-docs.nocobase.com/35af9426c20911ecf81bac8fc.gif)