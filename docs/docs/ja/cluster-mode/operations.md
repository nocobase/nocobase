:::tip
このドキュメントはAIによって翻訳されました。不正確な情報については、[英語版](/en)をご参照ください
:::

# メンテナンス手順

## 初回アプリケーション起動

アプリケーションを初めて起動する際は、まず1つのノードを起動し、**プラグイン**のインストールと有効化が完了するのを待ってから、他のノードを起動してください。

## バージョンアップグレード

NocoBaseのバージョンをアップグレードする必要がある場合は、この手順を参照してください。

:::warning{title=注意}
クラスターの**本番環境**では、**プラグイン**管理やバージョンアップグレードなどの機能は、慎重に使用するか、使用を禁止してください。

NocoBaseは現在、クラスターバージョンのオンラインアップグレードには対応していません。データの一貫性を確保するため、アップグレード中は外部サービスを一時停止する必要があります。
:::

手順：

1.  現在のサービスを停止します

    すべてのNocoBaseアプリケーションインスタンスを停止し、ロードバランサーのトラフィックを503ステータスページに転送してください。

2.  データをバックアップします

    アップグレード前に、アップグレードプロセス中に異常が発生するのを防ぐため、データベースのデータをバックアップすることを強くお勧めします。

3.  バージョンを更新します

    [Docker アップグレード](../get-started/upgrading/docker) を参照して、NocoBaseアプリケーションイメージのバージョンを更新してください。

4.  サービスを起動します

    1.  クラスター内の1つのノードを起動し、更新が完了して正常に起動するのを待ちます。
    2.  機能が正しいことを確認します。異常があり、トラブルシューティングで解決できない場合は、前のバージョンにロールバックできます。
    3.  他のノードを起動します。
    4.  ロードバランサーのトラフィックをアプリケーションクラスターに転送します。

## アプリケーション内メンテナンス

アプリケーション内メンテナンスとは、アプリケーションが稼働している状態で、以下のようなメンテナンス関連の操作を行うことを指します。

*   **プラグイン**管理（**プラグイン**のインストール、有効化、無効化など）
*   バックアップと復元
*   環境移行管理

手順：

1.  ノードを縮小します

    クラスター内でアプリケーションを実行しているノードを1つに縮小し、他のノードはサービスを停止してください。

2.  **プラグイン**のインストールと有効化、データのバックアップなど、アプリケーション内メンテナンス操作を実行します。

3.  ノードを復元します

    メンテナンス操作が完了し、機能が正しく動作することを確認した後、他のノードを起動します。ノードが正常に起動したことを確認したら、クラスターの稼働状態を復元してください。