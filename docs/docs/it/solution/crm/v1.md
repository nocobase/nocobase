# Legacy CRM (v1)

> **For preview only**: This version is fairly comprehensive in terms of features, but the overall data model design has known limitations: it lacks multi-language localization support, and the CRM tables are tightly coupled with the project management tables. These issues motivated the redesign of CRM 2.0. The current recommended version is [CRM 2.0](./index.md), which features a more rational data model, easier extensibility, and full multi-language localization.

## Interface Preview

![ticketing-imgs-2026-01-01-00-47-06](https://static-docs.nocobase.com/ticketing-imgs-2026-01-01-00-47-06.jpg)

## What's Included

The legacy CRM includes the following modules:

- **Customer Management**: Customer profiles, contacts, customer grading
- **Sales Pipeline**: Lead management, opportunity tracking, sales funnel
- **Order Management**: Quotations, orders, contracts
- **Project Management** (not included in v2)
- **Communication & Collaboration**: Email, comments, approval workflows
- **Data Analysis**: Dashboards, reports, data visualization

## Installation

> This version is deployed via **backup restoration**.

Before you begin, please ensure:

- You have a basic NocoBase running environment. See the [official installation guide](https://docs-cn.nocobase.com/welcome/getting-started/installation) for details.
- NocoBase version **v2.1.0-beta.2 or above**
- You have downloaded the CRM v1 files:
  - **Backup file**: [nocobase_crm_v1_backup_260224.nbdata](https://static-docs.nocobase.com/nocobase_crm_v1_backup_260224.nbdata) — for Method 1
  - **SQL file**: [nocobase_crm_v1_sql_260224.zip](https://static-docs.nocobase.com/nocobase_crm_v1_sql_260224.zip) — for Method 2

**Important notes**:
- This solution is built on **PostgreSQL 16**. Ensure your environment uses PostgreSQL 16.
- **DB_UNDERSCORED must not be true**: Check your `docker-compose.yml` and ensure `DB_UNDERSCORED` is not set to `true`, otherwise the restoration will fail.

---

## Method 1: Restore Using Backup Manager (Recommended for Pro/Enterprise Users)

This method uses NocoBase's built-in "[Backup Manager](https://docs-cn.nocobase.com/handbook/backups)" (Pro/Enterprise) plugin for one-click restoration.

### Steps

**Step 1: Enable the "Backup Manager" plugin**

1. Log in to your NocoBase system.
2. Go to **`Plugin Management`**.
3. Find and enable the **`Backup Manager`** plugin.

**Step 2: Restore from local backup file**

1. After enabling the plugin, refresh the page.
2. Go to **`System Management`** -> **`Backup Manager`** in the left menu.
3. Click the **`Restore from Local Backup`** button in the upper right corner.
4. Drag the downloaded backup file to the upload area.
5. Click **`Submit`** and wait for the restoration to complete.

### Notes

* **Pro/Enterprise Only**: "Backup Manager" is an enterprise plugin, available only to Pro/Enterprise users.
* **Commercial Plugin Matching**: Ensure you have enabled all commercial plugins required by the solution.

---

## Method 2: Direct SQL File Import (Universal)

This method restores data by directly operating the database, applicable to all NocoBase users.

### Steps

**Step 1: Prepare a clean database**

Prepare a brand new, empty database for the data you're about to import.

**Step 2: Import the `.sql` file into the database**

* **Via command line (Docker example)**:

  ```bash
  # Copy the sql file into the container
  docker cp nocobase_crm_v1_sql_260224.sql my-nocobase-db:/tmp/
  # Enter the container and execute the import command
  docker exec -it my-nocobase-db psql -U nocobase -d nocobase -f /tmp/nocobase_crm_v1_sql_260224.sql
  ```

* **Via database client**: Use tools like DBeaver, Navicat, or pgAdmin to connect to the database and execute the SQL file.

**Step 3: Connect to the database and start the application**

Configure NocoBase startup parameters to point to the database with imported data, then start the service.
