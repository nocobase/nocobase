---
pkg: '@nocobase/plugin-audit-logger'
---
:::tip Уведомление о переводе ИИ
Эта документация была автоматически переведена ИИ.
:::



# Журнал аудита

## Введение

Журнал аудита используется для записи и отслеживания действий пользователей и истории операций с ресурсами внутри системы.

![](https://static-docs.nocobase.com/202501031627719.png)

![](https://static-docs.nocobase.com/202501031627922.png)

## Описание параметров

| Параметр                  | Описание                                                                                                  |
| ------------------------- | --------------------------------------------------------------------------------------------------------- |
| **Resource**              | Тип целевого ресурса операции                                                                             |
| **Action**                | Тип выполняемой операции                                                                                  |
| **User**                  | Пользователь, выполняющий операцию                                                                        |
| **Role**                  | Роль пользователя во время операции                                                                       |
| **Data source**           | Источник данных                                                                                           |
| **Target collection**     | Целевая коллекция                                                                                         |
| **Target record UK**      | Уникальный идентификатор целевой коллекции                                                                |
| **Source collection**     | Исходная коллекция поля связи                                                                             |
| **Source record UK**      | Уникальный идентификатор исходной коллекции                                                               |
| **Status**                | HTTP-статус-код ответа на запрос операции                                                                 |
| **Created at**            | Время операции                                                                                            |
| **UUID**                  | Уникальный идентификатор операции, соответствующий Request ID запроса операции; может использоваться для поиска логов приложения |
| **IP**                    | IP-адрес пользователя                                                                                     |
| **UA**                    | Информация User-Agent пользователя                                                                        |
| **Metadata**              | Метаданные, такие как параметры запроса, тело запроса и содержимое ответа операции                        |

## Описание ресурсов аудита

В настоящее время в журнал аудита будут записываться следующие операции с ресурсами:

### Основное приложение

| Операция         | Описание                |
| ---------------- | ----------------------- |
| `app:resart`     | Перезапуск приложения   |
| `app:clearCache` | Очистка кэша приложения |

### Менеджер плагинов

| Операция     | Описание          |
| ------------ | ----------------- |
| `pm:add`     | Добавить плагин   |
| `pm:update`  | Обновить плагин   |
| `pm:enable`  | Включить плагин   |
| `pm:disable` | Отключить плагин  |
| `pm:remove`  | Удалить плагин    |

### Аутентификация пользователя

| Операция              | Описание         |
| --------------------- | ---------------- |
| `auth:signIn`         | Вход             |
| `auth:signUp`         | Регистрация      |
| `auth:signOut`        | Выход            |
| `auth:changePassword` | Смена пароля     |

### Пользователь

| Операция              | Описание         |
| --------------------- | ---------------- |
| `users:updateProfile` | Обновить профиль |

### Конфигурация UI

| Операция                   | Описание             |
| -------------------------- | -------------------- |
| `uiSchemas:insertAdjacent` | Вставить UI-схему    |
| `uiSchemas:patch`          | Изменить UI-схему    |
| `uiSchemas:remove`         | Удалить UI-схему     |

### Операции с коллекциями

| Операция         | Описание                      |
| ---------------- | ----------------------------- |
| `create`         | Создать запись                |
| `update`         | Обновить запись               |
| `destroy`        | Удалить запись                |
| `updateOrCreate` | Обновить или создать запись   |
| `firstOrCreate`  | Найти или создать запись      |
| `move`           | Переместить запись            |
| `set`            | Установить запись поля связи  |
| `add`            | Добавить запись поля связи    |
| `remove`         | Удалить запись поля связи     |
| `export`         | Экспортировать записи         |
| `import`         | Импортировать записи          |

## Добавление других ресурсов аудита

Если вы расширили операции с ресурсами с помощью плагинов и хотите записывать эти действия в журнал аудита, обратитесь к [API](/api/server/audit-manager.md).