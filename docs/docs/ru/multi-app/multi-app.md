---
pkg: "@nocobase/plugin-multi-app-manager"
---
:::tip Уведомление о переводе ИИ
Эта документация была автоматически переведена ИИ.
:::


# Мультиприложение


## Введение

**Плагин Мультиприложение** позволяет динамически создавать и управлять несколькими независимыми приложениями без необходимости отдельного развертывания. Каждое дочернее приложение является полностью независимым экземпляром со своей собственной базой данных, плагинами и конфигурацией.

#### Сценарии использования
- **Мультитенантность**: Предоставление независимых экземпляров приложений, где каждый клиент имеет свои собственные данные, конфигурации плагинов и систему разрешений.
- **Основные и дочерние системы для различных бизнес-областей**: Крупная система, состоящая из нескольких независимо развернутых небольших приложений.


:::warning
Сам по себе плагин Мультиприложение не предоставляет возможности совместного использования пользователей.  
Если вам необходимо обеспечить общий доступ к пользователям между несколькими приложениями, вы можете использовать его в сочетании с **[плагином Аутентификация](/auth-verification)**.
:::


## Установка

В менеджере плагинов найдите **плагин Мультиприложение** и активируйте его.

![](https://static-docs.nocobase.com/multi-app/Plugin-manager-NocoBase-10-16-2025_03_07_PM.png)


## Руководство по использованию


### Создание дочернего приложения

В меню системных настроек нажмите «Мультиприложение», чтобы перейти на страницу управления мультиприложениями:

![](https://static-docs.nocobase.com/multi-app/Multi-app-NocoBase-10-16-2025_03_48_PM.png)

Нажмите кнопку «Добавить», чтобы создать новое дочернее приложение:

![](https://static-docs.nocobase.com/multi-app/Multi-app-NocoBase-10-16-2025_03_50_PM.png)

#### Описание полей формы

*   **Имя**: Идентификатор дочернего приложения, глобально уникальный.
*   **Отображаемое имя**: Имя дочернего приложения, отображаемое в интерфейсе.
*   **Режим запуска**:
    *   **Запускать при первом посещении**: Дочернее приложение запускается только тогда, когда пользователь впервые обращается к нему по URL.
    *   **Запускать вместе с основным приложением**: Дочернее приложение запускается одновременно с основным приложением (это увеличит время запуска основного приложения).
*   **Порт**: Номер порта, используемый дочерним приложением во время выполнения.
*   **Пользовательский домен**: Настройте независимый поддомен для дочернего приложения.
*   **Закрепить в меню**: Закрепите запись дочернего приложения в левой части верхней панели навигации.
*   **Подключение к базе данных**: Используется для настройки источника данных для дочернего приложения, поддерживая следующие три метода:
    *   **Новая база данных**: Повторно использовать текущий сервис данных для создания независимой базы данных.
    *   **Новое подключение к данным**: Настройте совершенно новый сервис базы данных.
    *   **Режим схемы**: Создайте независимую схему для дочернего приложения в PostgreSQL.
*   **Обновление**: Если подключенная база данных содержит старую версию структуры данных NocoBase, она будет автоматически обновлена до текущей версии.


### Запуск и остановка дочернего приложения

Нажмите кнопку **Запустить**, чтобы запустить дочернее приложение;  
> Если при создании был установлен флажок *«Запускать при первом посещении»*, оно запустится автоматически при первом посещении.  

Нажмите кнопку **Просмотреть**, чтобы открыть дочернее приложение в новой вкладке.

![](https://static-docs.nocobase.com/multi-app/Multi-app-NocoBase-10-16-2025_04_00_PM.png)


### Состояние и журналы дочернего приложения

В списке вы можете просмотреть использование памяти и ЦП каждым приложением.

![](https://static-docs.nocobase.com/multi-app/Multi-app-NocoBase-10-21-2025_10_31_AM.png)

Нажмите кнопку **Журналы**, чтобы просмотреть журналы выполнения дочернего приложения.  
> Если дочернее приложение недоступно после запуска (например, из-за поврежденной базы данных), вы можете использовать журналы для устранения неполадок.

![](https://static-docs.nocobase.com/multi-app/Multi-app-NocoBase-10-16-2025_04_02_PM.png)


### Удаление дочернего приложения

Нажмите кнопку **Удалить**, чтобы удалить дочернее приложение.  
> При удалении вы можете выбрать, удалять ли базу данных. Пожалуйста, действуйте осторожно, так как это действие необратимо.


### Доступ к дочернему приложению
По умолчанию доступ к дочерним приложениям осуществляется по пути `/_app/:appName/admin/`, например:
```
http://localhost:13000/_app/a_7zkxoarusnx/admin/
```
Вы также можете настроить независимый поддомен для дочернего приложения. Вам потребуется разрешить домен на текущий IP-адрес, и если вы используете Nginx, необходимо добавить домен в конфигурацию Nginx.


### Управление дочерними приложениями через командную строку

В корневой директории проекта вы можете использовать командную строку для управления экземплярами дочерних приложений через **PM2**:

```bash
yarn nocobase pm2 list              # Просмотреть список запущенных экземпляров
yarn nocobase pm2 stop [appname]    # Остановить процесс дочернего приложения
yarn nocobase pm2 delete [appname]  # Удалить процесс дочернего приложения
yarn nocobase pm2 kill              # Принудительно завершить все запущенные процессы (может включать экземпляры основного приложения)
```

### Миграция данных из старого мультиприложения

Перейдите на старую страницу управления мультиприложениями и нажмите кнопку **Перенести данные в новое мультиприложение**, чтобы выполнить миграцию данных.

![](https://static-docs.nocobase.com/multi-app/Multi-app-manager-deprecated-NocoBase-10-21-2025_10_32_AM.png)


## Часто задаваемые вопросы

#### 1. Управление плагинами
Дочерние приложения могут использовать те же плагины, что и основное приложение (включая версии), но их можно настраивать и использовать независимо.

#### 2. Изоляция базы данных
Дочерние приложения могут быть настроены с независимыми базами данных. Если вы хотите обмениваться данными между приложениями, вы можете сделать это через внешние источники данных.

#### 3. Резервное копирование и миграция данных
В настоящее время резервное копирование данных в основном приложении не включает данные дочерних приложений (только базовую информацию о дочерних приложениях). Вам необходимо вручную выполнять резервное копирование и миграцию данных внутри каждого дочернего приложения.

#### 4. Развертывание и обновления
Версия дочернего приложения будет автоматически обновляться вместе с основным приложением, обеспечивая согласованность версий между основным и дочерними приложениями.

#### 5. Управление ресурсами
Потребление ресурсов каждым дочерним приложением в основном такое же, как и у основного приложения. В настоящее время одно приложение использует около 500-600 МБ оперативной памяти.