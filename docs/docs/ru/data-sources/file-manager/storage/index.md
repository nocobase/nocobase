:::tip Уведомление о переводе ИИ
Эта документация была автоматически переведена ИИ.
:::

# Обзор

## Встроенные движки

В настоящее время NocoBase поддерживает следующие типы встроенных движков:

- [Локальное хранилище](./local.md)
- [Alibaba Cloud OSS](./aliyun-oss.md)
- [Amazon S3](./amazon-s3.md)
- [Tencent Cloud COS](./tencent-cos.md)

При установке системы автоматически добавляется движок локального хранилища, который можно сразу использовать. Вы также можете добавлять новые движки или редактировать параметры существующих.

## Общие параметры движка

Помимо специфических параметров для каждого типа движка, ниже представлены общие параметры (на примере локального хранилища):

![Пример настройки движка файлового хранилища](https://static-docs.nocobase.com/20240529115151.png)

### Заголовок

Название движка хранилища, используемое для идентификации человеком.

### Системное имя

Системное имя движка хранилища, используемое для идентификации системой. Оно должно быть уникальным в рамках всей системы. Если поле оставить пустым, имя будет сгенерировано системой автоматически.

### Базовый URL для доступа

Префикс URL-адреса, по которому файл будет доступен извне. Это может быть базовый URL CDN, например: "`https://cdn.nocobase.com/app`" (без завершающего символа "`/`").

### Путь

Относительный путь, используемый при сохранении файлов. Эта часть также будет автоматически добавлена к конечному URL при доступе к файлу. Например: "`user/avatar`" (без начального или конечного символа "`/`").

### Ограничение размера файла

Ограничение размера файлов, загружаемых в этот движок хранилища. Файлы, превышающие установленный размер, не будут загружены. По умолчанию система устанавливает лимит в 20 МБ, максимальный регулируемый лимит составляет 1 ГБ.

### Тип файла

Позволяет ограничить типы загружаемых файлов, используя формат описания [MIME](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types). Например, `image/*` означает файлы изображений. Несколько типов можно разделить запятыми, например: `image/*, application/pdf` разрешает загрузку файлов изображений и PDF-файлов.

### Движок хранилища по умолчанию

Если этот параметр отмечен, движок устанавливается как движок хранилища по умолчанию для системы. Если для поля вложения или **коллекции** файлов не указан конкретный движок хранилища, загруженные файлы будут сохраняться в движке по умолчанию. Движок хранилища по умолчанию удалить нельзя.

### Сохранять файлы при удалении записей

Если этот параметр отмечен, загруженные файлы в движке хранилища сохраняются даже при удалении записей данных из таблицы вложений или **коллекции** файлов. По умолчанию этот параметр не отмечен, что означает, что файлы в движке хранилища удаляются вместе с записями.

:::info{title=Совет}
После загрузки файла окончательный путь доступа формируется путем объединения нескольких частей:

```
<Базовый URL для доступа>/<Путь>/<Имя файла><Расширение>
```

Например: `https://cdn.nocobase.com/app/user/avatar/20240529115151.png`.
:::