---
pkg: "@nocobase/plugin-field-m2m-array"
---
:::tip Уведомление о переводе ИИ
Эта документация была автоматически переведена ИИ.
:::


# Связь «многие ко многим» (массив)

## Введение

Эта функция позволяет вам использовать поля-массивы в коллекции данных для хранения нескольких уникальных ключей из целевой коллекции. Таким образом, вы можете установить связь «многие ко многим» между двумя коллекциями. Например, представьте сущности «Статьи» и «Теги». Одна статья может быть связана с несколькими тегами, и в этом случае коллекция статей будет хранить идентификаторы соответствующих записей из коллекции тегов в виде массива.

:::warning{title=Внимание}

- Пожалуйста, по возможности используйте промежуточную коллекцию для установления стандартной связи [«многие ко многим»](../data-modeling/collection-fields/associations/m2m/index.md). Старайтесь избегать использования этого типа связи.
- В настоящее время только PostgreSQL поддерживает фильтрацию данных исходной коллекции с использованием полей из целевой коллекции для связей «многие ко многим», установленных с помощью полей-массивов. Например, в описанном выше сценарии вы сможете фильтровать статьи по другим полям коллекции тегов, таким как заголовок.

  :::

### Конфигурация поля

![many-to-many(array) field configuration](https://static-docs.nocobase.com/202407051108180.png)

## Описание параметров

### Source collection

Исходная коллекция, то есть коллекция, в которой находится текущее поле.

### Target collection

Целевая коллекция, с которой устанавливается связь.

### Foreign key

Поле-массив в исходной коллекции, которое хранит целевой ключ из целевой коллекции.

Соответствие типов полей-массивов:

| NocoBase | PostgreSQL | MySQL  | SQLite |
| -------- | ---------- | ------ | ------ |
| `set`    | `array`    | `JSON` | `JSON` |

### Target key

Поле в целевой коллекции, которое соответствует значениям, хранящимся в поле-массиве исходной коллекции. Это поле должно быть уникальным.