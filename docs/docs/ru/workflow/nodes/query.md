:::tip Уведомление о переводе ИИ
Эта документация была автоматически переведена ИИ.
:::

# Запрос данных

Этот узел позволяет запрашивать и получать записи данных из коллекции, соответствующие определённым условиям.

Вы можете настроить его для запроса одной или нескольких записей. Результат запроса можно использовать как переменную в последующих узлах. При запросе нескольких записей результат представляет собой массив. Если результат запроса пуст, вы можете выбрать, продолжать ли выполнение последующих узлов.

## Создание узла

В интерфейсе настройки рабочего процесса нажмите кнопку плюса («+») в потоке, чтобы добавить узел «Запрос данных»:

![Добавление узла «Запрос данных»](https://static-docs.nocobase.com/c1ef2b851b437806faf7a39c6ab9d33a.png)

## Настройка узла

![Настройка узла запроса](https://static-docs.nocobase.com/20240520131324.png)

### Коллекция

Выберите коллекцию, из которой нужно получить данные.

### Тип результата

Тип результата делится на «Одна запись» и «Несколько записей»:

-   **Одна запись**: Результат представляет собой объект, содержащий только первую соответствующую запись, или `null`.
-   **Несколько записей**: Результат будет массивом, содержащим записи, соответствующие условиям. Если совпадений нет, будет возвращен пустой массив. Вы можете обрабатывать их по одной с помощью узла «Цикл».

### Условия фильтрации

Аналогично условиям фильтрации при обычном запросе к коллекции, вы можете использовать контекстные переменные рабочего процесса.

### Сортировка

При запросе одной или нескольких записей вы можете использовать правила сортировки для управления желаемым результатом. Например, чтобы запросить самую последнюю запись, вы можете отсортировать по полю «Время создания» в порядке убывания.

### Пагинация

Когда набор результатов может быть очень большим, вы можете использовать пагинацию для управления количеством результатов запроса. Например, чтобы запросить 10 последних записей, вы можете отсортировать по полю «Время создания» в порядке убывания, а затем установить пагинацию на 1 страницу с 10 записями.

### Обработка пустых результатов

В режиме одной записи, если данные не соответствуют условиям, результат запроса будет `null`. В режиме нескольких записей это будет пустой массив (`[]`). Вы можете выбрать, устанавливать ли флажок «Выйти из рабочего процесса, если результат запроса пуст». Если флажок установлен и результат запроса пуст, последующие узлы не будут выполняться, и рабочий процесс завершится досрочно со статусом «ошибка».