:::tip
이 문서는 AI로 번역되었습니다. 부정확한 내용이 있을 경우 [영어 버전](/en)을 참조하세요
:::

# 개요

## 소개

스토리지 엔진은 파일을 특정 서비스에 저장하는 데 사용되며, 로컬 스토리지(서버 하드 드라이브에 저장) 및 클라우드 스토리지 등이 포함됩니다.

파일을 업로드하기 전에 먼저 스토리지 엔진을 설정해야 합니다. 시스템 설치 시 로컬 스토리지 엔진이 자동으로 추가되어 바로 사용할 수 있습니다. 새 엔진을 추가하거나 기존 엔진의 매개변수를 편집할 수도 있습니다.

## 스토리지 엔진 유형

현재 NocoBase에서 기본으로 지원하는 엔진 유형은 다음과 같습니다:

- [로컬 스토리지](./local)
- [Amazon S3](./amazon-s3)
- [Aliyun OSS](./aliyun-oss)
- [Tencent COS](./tencent-cos)
- [S3 Pro](./s3-pro)

시스템 설치 시 로컬 스토리지 엔진이 자동으로 추가되어 바로 사용할 수 있습니다. 새 엔진을 추가하거나 기존 엔진의 매개변수를 편집할 수도 있습니다.

## 공통 매개변수

각 엔진 유형별 고유한 매개변수 외에도 다음은 공통 매개변수입니다(로컬 스토리지를 예시로 설명합니다):

![파일 스토리지 엔진 설정 예시](https://static-docs.nocobase.com/20240529115151.png)

### 제목

스토리지 엔진의 이름으로, 사용자가 식별하는 데 사용됩니다.

### 시스템 이름

스토리지 엔진의 시스템 이름으로, 시스템이 식별하는 데 사용됩니다. 시스템 내에서 고유해야 하며, 입력하지 않으면 시스템이 자동으로 무작위로 생성합니다.

### 접근 URL 접두사

파일에 외부에서 접근할 수 있는 URL 주소의 접두사 부분입니다. CDN 접근 URL의 기본 주소가 될 수 있으며, 예: “`https://cdn.nocobase.com/app`”과 같습니다(끝에 “`/`”는 필요 없습니다).

### 경로

파일을 저장할 때 사용되는 상대 경로입니다. 접근 시 이 부분은 최종 URL에 자동으로 추가됩니다. 예: “`user/avatar`”와 같습니다(시작과 끝에 “`/`”는 필요 없습니다).

### 파일 크기 제한

이 스토리지 엔진에 파일을 업로드할 때의 크기 제한입니다. 설정된 크기를 초과하는 파일은 업로드할 수 없습니다. 시스템 기본 제한은 20MB이며, 최대 1GB까지 조정할 수 있습니다.

### 파일 유형

업로드할 수 있는 파일 유형을 제한할 수 있으며, [MIME](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types) 문법 형식으로 설명합니다. 예: `image/*`는 이미지 파일을 나타냅니다. 여러 유형은 쉼표(,)로 구분할 수 있으며, 예: `image/*, application/pdf`는 이미지 및 PDF 파일 유형을 허용합니다.

### 기본 스토리지 엔진

선택하면 시스템의 기본 스토리지 엔진으로 설정됩니다. 첨부 파일 필드 또는 파일 컬렉션에서 스토리지 엔진을 지정하지 않은 경우, 업로드된 파일은 모두 기본 스토리지 엔진에 저장됩니다. 기본 스토리지 엔진은 삭제할 수 없습니다.

### 레코드 삭제 시 파일 유지

선택하면 첨부 파일 컬렉션 또는 파일 컬렉션의 데이터 레코드가 삭제될 때 스토리지 엔진에 이미 업로드된 파일은 유지됩니다. 기본적으로 선택되어 있지 않으며, 이는 레코드 삭제 시 스토리지 엔진의 파일도 함께 삭제됨을 의미합니다.

:::info{title=팁}
파일이 업로드되면 최종 접근 경로는 여러 부분으로 구성됩니다:

```
<접근 URL 접두사>/<경로>/<파일 이름><확장자>
```

예: `https://cdn.nocobase.com/app/user/avatar/20240529115151.png`.
:::