---
pkg: '@nocobase/plugin-workflow-subflow'
---
:::tip
이 문서는 AI로 번역되었습니다. 부정확한 내용이 있을 경우 [영어 버전](/en)을 참조하세요
:::


# 워크플로우 호출

## 소개

하나의 워크플로우에서 다른 워크플로우를 호출할 때 사용합니다. 현재 워크플로우의 변수를 서브 워크플로우의 입력으로 사용하고, 서브 워크플로우의 출력을 현재 워크플로우의 변수로 활용하여 이후 노드에서 사용할 수 있습니다.

워크플로우 호출 과정은 아래 그림과 같습니다:

![20241230134634](https://static-docs.nocobase.com/20241230134634.png)

워크플로우 호출을 통해 이메일, SMS 발송 등과 같은 공통 로직을 재사용할 수 있으며, 복잡한 워크플로우를 여러 서브 워크플로우로 분할하여 관리 및 유지보수를 용이하게 할 수 있습니다.

본질적으로 워크플로우는 특정 프로세스가 서브 워크플로우인지 구분하지 않습니다. 어떤 워크플로우든 다른 워크플로우에 의해 서브 워크플로우로 호출될 수 있으며, 다른 워크플로우를 호출할 수도 있습니다. 모든 워크플로우는 동등하며, 호출하고 호출되는 관계만 존재합니다.

마찬가지로, 워크플로우 호출은 두 가지 상황에서 사용됩니다:

1.  메인 워크플로우에서: 호출자로서, "워크플로우 호출" 노드를 통해 다른 워크플로우를 호출합니다.
2.  서브 워크플로우에서: 피호출자로서, "워크플로우 출력" 노드를 통해 현재 워크플로우에서 출력해야 할 변수를 저장하며, 현재 워크플로우를 호출한 워크플로우의 이후 노드에서 사용될 수 있습니다.

## 노드 생성

워크플로우 설정 화면에서, 워크플로우 내의 더하기("+"") 버튼을 클릭하여 "워크플로우 호출" 노드를 추가합니다:

![워크플로우 호출 노드 추가](https://static-docs.nocobase.com/20241230001323.png)

## 노드 설정

### 워크플로우 선택

호출할 워크플로우를 선택합니다. 검색창을 통해 빠르게 찾을 수 있습니다:

![워크플로우 선택](https://static-docs.nocobase.com/20241230001534.png)

:::info{title=팁}
*   비활성화된 워크플로우도 서브 워크플로우로 호출될 수 있습니다.
*   현재 워크플로우가 동기 모드일 경우, 동기 모드의 서브 워크플로우만 호출할 수 있습니다.
:::

### 워크플로우 트리거 변수 설정

워크플로우를 선택한 후에는 트리거 변수를 설정해야 합니다. 이는 서브 워크플로우를 트리거하는 입력 데이터로 사용됩니다. 정적 데이터를 직접 선택하거나, 현재 워크플로우의 변수를 선택할 수 있습니다:

![트리거 변수 설정](https://static-docs.nocobase.com/20241230162722.png)

트리거 유형에 따라 필요한 변수가 다릅니다. 필요에 따라 폼에서 설정을 완료할 수 있습니다.

## 워크플로우 출력 노드

[워크플로우 출력](./output.md) 노드의 내용을 참조하여 서브 워크플로우의 출력 변수를 설정합니다.

## 워크플로우 출력 사용

메인 워크플로우로 돌아와서, 워크플로우 호출 노드 아래의 다른 노드에서 서브 워크플로우의 출력 값을 사용하려면, 워크플로우 호출 노드의 결과를 선택할 수 있습니다. 서브 워크플로우가 문자열, 숫자, 논리값, 날짜(UTC 형식의 문자열) 등과 같은 단순 값을 출력하는 경우, 직접 사용할 수 있습니다. 만약 복잡한 객체(예: 컬렉션의 객체)인 경우, JSON 파싱 노드를 통해 매핑한 후에야 해당 속성을 사용할 수 있으며, 그렇지 않으면 전체 객체로만 사용해야 합니다.

서브 워크플로우에 워크플로우 출력 노드가 설정되어 있지 않거나 출력 값이 없는 경우, 메인 워크플로우에서 워크플로우 호출 노드의 결과를 사용할 때 빈 값(`null`)만 얻게 됩니다.