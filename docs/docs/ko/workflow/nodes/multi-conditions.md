:::tip
이 문서는 AI로 번역되었습니다. 부정확한 내용이 있을 경우 [영어 버전](/en)을 참조하세요
:::

# 다중 조건 분기 <Badge>v2.0.0+</Badge>

## 소개

프로그래밍 언어의 `switch / case` 또는 `if / else if` 문과 유사합니다. 시스템은 설정된 여러 조건을 순서대로 하나씩 판단하며, 어떤 조건이 충족되면 해당 분기 아래의 워크플로우를 실행하고 이후 조건 판단은 건너뜁니다. 모든 조건이 충족되지 않으면 ‘그 외’ 분기를 실행합니다.

## 노드 생성

워크플로우 설정 화면에서 워크플로우 내의 더하기('+' ) 버튼을 클릭하여 ‘다중 조건 분기’ 노드를 추가합니다.

![다중 조건 분기 생성](https://static-docs.nocobase.com/20251123222134.png)

## 분기 관리

### 기본 분기

노드 생성 후, 기본적으로 두 개의 분기가 포함됩니다.

1.  **조건 분기**: 구체적인 판단 조건을 설정할 수 있습니다.
2.  **그 외 분기**: 모든 조건 분기가 충족되지 않을 때 이 분기로 진입하며, 조건을 설정할 필요가 없습니다.

노드 아래의 ‘분기 추가’ 버튼을 클릭하면 더 많은 조건 분기를 추가할 수 있습니다.

![20251123222540](https://static-docs.nocobase.com/20251123222540.png)

### 분기 추가

‘분기 추가’를 클릭하면 새로운 분기가 ‘그 외’ 분기 앞에 추가됩니다.

![20251123222805](https://static-docs.nocobase.com/20251123222805.png)

### 분기 삭제

여러 조건 분기가 있을 때, 분기 오른쪽에 있는 휴지통 아이콘을 클릭하여 해당 분기를 삭제할 수 있습니다. 조건 분기가 하나만 남아있는 경우 삭제할 수 없습니다.

![20251123223127](https://static-docs.nocobase.com/20251123223127.png)

:::info{title=참고}
분기를 삭제하면 해당 분기 내의 모든 노드도 함께 삭제되므로 주의하여 진행해 주십시오.

‘그 외’ 분기는 내장된 분기이므로 삭제할 수 없습니다.
:::

## 노드 설정

### 조건 설정

분기 상단의 조건 이름을 클릭하면 구체적인 조건 내용을 편집할 수 있습니다.

![20251123223352](https://static-docs.nocobase.com/20251123223352.png)

#### 조건 레이블

사용자 정의 레이블을 지원합니다. 입력하면 워크플로우 다이어그램에 조건 이름으로 표시됩니다. 설정하지 않거나 (또는 비워두면) 기본적으로 ‘조건 1’, ‘조건 2’ 등으로 순서대로 표시됩니다.

![20251123224209](https://static-docs.nocobase.com/20251123224209.png)

#### 연산 엔진

현재 세 가지 엔진을 지원합니다.

-   **기본**: 간단한 논리 비교(예: 같음, 포함 등)와 ‘AND’, ‘OR’ 조합을 통해 판단 결과를 도출합니다.
-   **Math.js**: [Math.js](https://mathjs.org/) 문법의 표현식 계산을 지원합니다.
-   **Formula.js**: [Formula.js](https://formulajs.info/) 문법의 표현식 계산을 지원하며 (Excel 수식과 유사합니다).

세 가지 모드 모두 워크플로우 컨텍스트 변수를 매개변수로 사용하는 것을 지원합니다.

### 모든 조건이 충족되지 않을 때

노드 설정 패널에서 모든 조건이 충족되지 않을 때의 다음 동작을 설정할 수 있습니다.

![20251123224348](https://static-docs.nocobase.com/20251123224348.png)

*   **워크플로우를 실패로 종료 (기본값)**: 워크플로우 상태를 실패로 표시하고 프로세스를 종료합니다.
*   **다음 노드 계속 실행**: 현재 노드 실행이 완료된 후 워크플로우의 다음 노드를 계속 실행합니다.

:::info{title=참고}
어떤 처리 방식을 선택하든, 모든 조건이 충족되지 않으면 워크플로우는 먼저 ‘그 외’ 분기로 진입하여 해당 노드를 실행합니다.
:::

## 실행 기록

워크플로우의 실행 기록에서 다중 조건 분기 노드는 각 조건의 판단 결과를 다른 색상으로 표시합니다.

-   **초록색**: 조건 충족 시 해당 분기로 진입하여 실행됩니다.
-   **빨간색**: 조건 불충족 (또는 계산 오류) 시 해당 분기를 건너뜁니다.
-   **파란색**: 판단 미실행 (이전 조건이 이미 충족되어 이후 판단을 건너뛴 경우).

![20251123225455](https://static-docs.nocobase.com/20251123225455.png)

설정 오류로 인해 조건 계산에 예외가 발생하면, 빨간색으로 표시되는 것 외에도 조건 이름에 마우스를 올리면 구체적인 오류 정보가 표시됩니다.

![20251123231014](https://static-docs.nocobase.com/20251123231014.png)

조건 계산에 예외가 발생하면 다중 조건 분기 노드는 ‘오류’ 상태로 종료되며 이후 노드를 더 이상 실행하지 않습니다.