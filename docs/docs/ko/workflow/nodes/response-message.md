---
pkg: '@nocobase/plugin-workflow-response-message'
---
:::tip
이 문서는 AI로 번역되었습니다. 부정확한 내용이 있을 경우 [영어 버전](/en)을 참조하세요
:::


# 응답 메시지

## 소개

응답 메시지 노드는 특정 유형의 워크플로우에서 액션을 제출한 클라이언트에게 워크플로우 내에서 사용자 지정 메시지를 전달하는 역할을 합니다.

:::info{title=참고}
현재 동기 모드의 “액션 전 이벤트” 및 “사용자 지정 액션 이벤트” 유형 워크플로우에서 사용할 수 있습니다.
:::

## 노드 생성

지원되는 워크플로우 유형에서는 워크플로우의 어느 위치든 “응답 메시지” 노드를 추가할 수 있습니다. 워크플로우에서 더하기(“+”) 버튼을 클릭하여 “응답 메시지” 노드를 추가해 보세요.

![노드 추가](https://static-docs.nocobase.com/eac2b3565e95e4ce59f340624062ed3d.png)

응답 메시지는 전체 요청 과정에서 배열 형태로 존재합니다. 워크플로우에서 응답 메시지 노드가 실행될 때마다 새로운 메시지 내용이 배열에 추가됩니다. 서버에서 응답 내용을 보낼 때, 모든 메시지가 클라이언트에게 함께 전송됩니다.

## 노드 설정

메시지 내용은 전체적으로 템플릿 문자열이며, 변수를 삽입할 수 있습니다. 노드 설정에서 이 템플릿 내용을 자유롭게 구성할 수 있습니다.

![노드 설정](https://static-docs.nocobase.com/d5fa5f4002d50baf3ba16048818fddfc.png)

워크플로우가 이 노드를 실행하면 템플릿을 파싱하여 메시지 내용 결과를 생성합니다. 위 설정에서 변수 “로컬 변수 / 모든 제품 반복 / 반복 객체 / 제품 / 제목”은 실제 워크플로우에서 특정 값으로 대체됩니다. 예를 들어 다음과 같습니다:

```
제품 “iPhone 14 pro”의 재고가 부족합니다.
```

![메시지 내용](https://static-docs.nocobase.com/06bd4a6b6ec499c853f0c39987f63a6a.png)

## 워크플로우 설정

응답 메시지의 상태 알림은 해당 워크플로우 실행의 성공 또는 실패 상태에 따라 결정됩니다. 어떤 노드라도 실행에 실패하면 전체 워크플로우가 실패하게 되며, 이때 메시지 내용은 실패 상태로 클라이언트에 반환되어 표시됩니다.

워크플로우에서 실패 상태를 명시적으로 정의해야 하는 경우, 워크플로우에서 “종료 노드”를 사용하고 실패 상태로 설정할 수 있습니다. 이 노드가 실행되면 워크플로우는 실패 상태로 종료되며, 메시지는 실패 상태로 클라이언트에 반환됩니다.

전체 워크플로우에서 실패 상태가 발생하지 않고 성공적으로 끝까지 실행되면, 메시지 내용은 성공 상태로 클라이언트에 반환됩니다.

:::info{title=참고}
워크플로우에 여러 개의 응답 메시지 노드가 정의된 경우, 실행된 노드는 메시지 내용을 배열에 추가합니다. 최종적으로 클라이언트에 반환될 때, 모든 메시지 내용이 함께 반환되어 표시됩니다.
:::

## 사용 사례

### “액션 전 이벤트” 워크플로우

“액션 전 이벤트” 워크플로우에서 응답 메시지를 사용하면 워크플로우가 끝난 후 클라이언트에게 해당 메시지 피드백을 보낼 수 있습니다. 자세한 내용은 [액션 전 이벤트](../triggers/pre-action.md)를 참고하세요.

### “사용자 지정 액션 이벤트” 워크플로우

동기 모드의 “사용자 지정 액션 이벤트”에서 응답 메시지를 사용하면 워크플로우가 끝난 후 클라이언트에게 해당 메시지 피드백을 보낼 수 있습니다. 자세한 내용은 [사용자 지정 액션 이벤트](../triggers/custom-action.md)를 참고하세요.