:::tip
이 문서는 AI로 번역되었습니다. 부정확한 내용이 있을 경우 [영어 버전](/en)을 참조하세요
:::

# 이벤트 흐름

FlowEngine에서 인터페이스의 모든 컴포넌트는 **이벤트 기반(Event-driven)**입니다.
컴포넌트의 동작, 상호작용 및 데이터 변경은 이벤트(Event)에 의해 트리거되고 흐름(Flow)을 통해 실행됩니다.

## 정적 흐름과 동적 흐름

FlowEngine에서 흐름(Flow)은 두 가지 유형으로 나눌 수 있습니다.

### **1. 정적 흐름(Static Flow)**

- 개발자가 코드에 정의합니다.
- 특정 **모델 클래스의 모든 인스턴스**에 적용됩니다.
- 주로 특정 모델 클래스의 일반적인 로직을 처리하는 데 사용됩니다.

### **2. 동적 흐름(Dynamic Flow)**

- 사용자가 인터페이스에서 구성합니다.
- 특정 인스턴스에만 적용됩니다.
- 주로 특정 시나리오의 개별화된 동작에 사용됩니다.

간단히 말해, **정적 흐름은 클래스에 정의된 로직 템플릿이며, 동적 흐름은 인스턴스에 정의된 개별화된 로직입니다.**

## 연동 규칙과 동적 흐름

FlowEngine의 구성 시스템에는 이벤트 로직을 구현하는 두 가지 방법이 있습니다.

### **1. 연동 규칙(Linkage Rules)**

- **내장된 이벤트 흐름 단계(Step)의 캡슐화**입니다.
- 구성이 더 간단하고 의미 전달력이 더 명확합니다.
- 본질적으로는 여전히 **이벤트 흐름(Flow)**의 간소화된 형태입니다.

### **2. 동적 흐름(Dynamic Flow)**

- 완전한 흐름(Flow) 구성 기능을 제공합니다.
- 다음과 같이 사용자 정의할 수 있습니다.
  - **트리거(on)**: 언제 트리거될지 정의합니다.
  - **실행 단계(steps)**: 실행할 로직을 정의합니다.
- 더 복잡하고 유연한 비즈니스 로직에 적합합니다.

따라서 **연동 규칙은 간소화된 이벤트 흐름**과 같으며, 두 가지 모두 핵심 메커니즘은 동일합니다.

## FlowAction의 일관성

**연동 규칙**이든 **이벤트 흐름**이든 동일한 **FlowAction** 집합을 사용해야 합니다.
즉, 다음을 의미합니다.

- **FlowAction**은 흐름(Flow)에 의해 호출될 수 있는 작업을 정의합니다.
- 두 가지 모두 별개의 시스템이 아닌 하나의 작업 시스템을 공유합니다.
- 이를 통해 로직 재사용과 일관된 확장을 보장할 수 있습니다.

## 개념 계층 구조

개념적으로 FlowModel의 핵심 추상 관계는 다음과 같습니다.

```bash
FlowModel
 └── FlowDefinition
      ├── FlowEventDefinition
      │     ├── 전역 이벤트 (Global Events)
      │     └── 지역 이벤트 (Local Events)
      └── FlowActionDefinition
            ├── 전역 작업 (Global Actions)
            └── 지역 작업 (Local Actions)
```

### 계층 구조 설명

- **FlowModel**
  구성 가능하며 흐름 로직을 실행할 수 있는 모델 엔티티를 나타냅니다.

- **FlowDefinition**
  트리거 조건과 실행 단계를 포함하는 완전한 흐름 로직 집합을 정의합니다.

- **FlowEventDefinition**
  흐름의 트리거 소스를 정의하며, 다음을 포함합니다.
  - **전역 이벤트**: 애플리케이션 시작, 데이터 로딩 완료 등
  - **지역 이벤트**: 필드 변경, 버튼 클릭 등

- **FlowActionDefinition**
  흐름이 실행할 수 있는 작업을 정의하며, 다음을 포함합니다.
  - **전역 작업**: 페이지 새로고침, 전역 알림 등
  - **지역 작업**: 필드 값 수정, 컴포넌트 상태 전환 등

## 요약

| 개념 | 역할 | 적용 범위 |
|------|------|-----------|
| **정적 흐름 (Static Flow)** | 코드에 정의된 흐름 로직 | 모든 XXModel 인스턴스 |
| **동적 흐름 (Dynamic Flow)** | 인터페이스에 정의된 흐름 로직 | 단일 FlowModel 인스턴스 |
| **FlowEvent** | 트리거(언제 트리거될지)를 정의합니다. | 전역 또는 지역 |
| **FlowAction** | 실행 로직을 정의합니다. | 전역 또는 지역 |
| **연동 규칙 (Linkage Rule)** | 간소화된 이벤트 흐름 단계(Step)의 캡슐화 | 블록, 작업 수준 |