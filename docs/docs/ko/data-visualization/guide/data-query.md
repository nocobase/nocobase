:::tip
이 문서는 AI로 번역되었습니다. 부정확한 내용이 있을 경우 [영어 버전](/en)을 참조하세요
:::

# 데이터 쿼리

차트 설정 패널은 크게 세 부분으로 나뉩니다. 바로 **데이터 쿼리**, **차트 옵션**, **상호작용 이벤트**이며, 하단에는 취소, 미리보기, 저장 버튼이 있습니다.

먼저 "데이터 쿼리" 패널을 살펴보면서 두 가지 쿼리 모드(Builder/SQL)와 자주 사용되는 기능들을 알아보겠습니다.

## 패널 구조
![clipboard-image-1761466636](https://static-docs.nocobase.com/clipboard-image-1761466636.png)

> 팁: 현재 내용을 더 쉽게 설정하려면 다른 패널들을 먼저 접을 수 있습니다.

가장 위쪽은 작업 표시줄입니다.
- **모드**: Builder (그래픽 기반으로 간단하고 편리합니다) / SQL (직접 쿼리문을 작성하여 더 유연합니다).
- **쿼리 실행**: 클릭하여 데이터 쿼리 요청을 실행합니다.
- **결과 보기**: 데이터 결과 패널을 열고, Table/JSON 보기로 전환할 수 있습니다. 다시 클릭하면 패널이 닫힙니다.

위에서 아래로 순서는 다음과 같습니다.
- **데이터 소스 및 컬렉션**: 필수 항목입니다. 데이터 소스와 컬렉션(데이터 테이블)을 선택합니다.
- **측정값 (Measures)**: 필수 항목입니다. 표시할 숫자 필드입니다.
- **차원 (Dimensions)**: 필드별로 그룹화합니다 (예: 날짜, 카테고리, 지역 등).
- **필터**: 필터 조건을 설정합니다 (=, ≠, >, <, 포함, 범위 등). 여러 조건을 조합할 수 있습니다.
- **정렬**: 정렬할 필드와 오름차순/내림차순을 선택합니다.
- **페이지네이션**: 데이터 범위와 반환 순서를 제어합니다.

## Builder 모드

### 데이터 소스 및 컬렉션 선택
- "데이터 쿼리" 패널에서 모드를 "Builder"로 선택합니다.
- 데이터 소스와 컬렉션(데이터 테이블)을 선택합니다. 컬렉션을 선택할 수 없거나 비어 있는 경우, 먼저 권한과 생성 여부를 확인해야 합니다.

### 측정값 (Measures) 설정
- 하나 이상의 숫자 필드를 선택하고, `Sum`, `Count`, `Avg`, `Max`, `Min` 중 하나로 집계를 설정합니다.
- 일반적인 사용 사례: `Count`는 레코드 수를 세고, `Sum`은 총액을 계산합니다.

### 차원 (Dimensions) 설정
- 하나 이상의 필드를 그룹화 차원으로 선택합니다.
- 날짜 및 시간 필드는 `YYYY-MM`, `YYYY-MM-DD`와 같은 형식으로 설정하여 월별/일별 그룹화에 편리하게 사용할 수 있습니다.

### 필터, 정렬 및 페이지네이션
- **필터**: 조건(=, ≠, 포함, 범위 등)을 추가합니다. 여러 조건을 조합할 수 있습니다.
- **정렬**: 필드와 오름차순/내림차순 정렬 순서를 선택합니다.
- **페이지네이션**: `Limit`과 `Offset`을 설정하여 반환되는 행 수를 제어합니다. 디버깅 시에는 작은 `Limit` 값을 설정하는 것이 좋습니다.

### 쿼리 실행 및 결과 보기
- "쿼리 실행"을 클릭하여 실행합니다. 결과가 반환되면 "결과 보기"에서 `Table / JSON`으로 전환하여 열과 값을 확인합니다.
- 차트 필드를 매핑하기 전에, 여기서 열 이름과 유형을 미리 확인하여 나중에 차트가 비어 있거나 오류가 발생하는 것을 방지해야 합니다.

![20251026174338](https://static-docs.nocobase.com/20251026174338.png)

### 후속 필드 매핑
나중에 "차트 옵션"을 설정할 때, 선택한 데이터 소스와 컬렉션의 테이블 필드를 기반으로 필드를 매핑합니다.

## SQL 모드

### 쿼리 작성
- "SQL" 모드로 전환하고, 쿼리문을 입력한 다음 "쿼리 실행"을 클릭합니다.
- 예시 (날짜별 주문 총액 통계):
```sql
SELECT
  TO_CHAR(order_date, 'YYYY-MM') as mon,
  SUM(total_amount) AS total
FROM "order"
GROUP BY mon
ORDER BY mon ASC
LIMIT 100;
```

![20251026175952](https://static-docs.nocobase.com/20251026175952.png)

### 쿼리 실행 및 결과 보기
- "쿼리 실행"을 클릭하여 실행합니다. 결과가 반환되면 "결과 보기"에서 `Table / JSON`으로 전환하여 열과 값을 확인합니다.
- 차트 필드를 매핑하기 전에, 여기서 열 이름과 유형을 미리 확인하여 나중에 차트가 비어 있거나 오류가 발생하는 것을 방지해야 합니다.

### 후속 필드 매핑
나중에 "차트 옵션"을 설정할 때, 쿼리 결과의 열을 기반으로 필드를 매핑합니다.

> [!TIP]
> SQL 모드에 대한 더 자세한 내용은 [고급 사용법 — SQL 모드에서 데이터 쿼리](#)를 참조하십시오.