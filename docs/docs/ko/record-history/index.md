---
pkg: '@nocobase/plugin-record-history'
---
:::tip
이 문서는 AI로 번역되었습니다. 부정확한 내용이 있을 경우 [영어 버전](/en)을 참조하세요
:::


# 이력 기록

## 소개

이력 기록 플러그인은 데이터 변경 과정을 추적하여 생성, 수정, 삭제 작업의 스냅샷과 차이 기록을 자동으로 저장합니다. 이를 통해 사용자는 데이터 변경 사항을 빠르게 확인하고 작업 활동을 감사할 수 있습니다.

![](https://static-docs.nocobase.com/202511011338499.png)

## 이력 기록 활성화

### 컬렉션 및 필드 추가

먼저 이력 기록 플러그인 설정 페이지로 이동하여 작업 이력을 기록할 컬렉션과 필드를 추가합니다. 기록 효율성을 높이고 데이터 중복을 피하기 위해 필수적인 컬렉션과 필드만 설정하는 것을 권장합니다. 예를 들어, 고유 ID, 생성일, 업데이트일, 생성자, 업데이트자 등의 필드는 일반적으로 기록할 필요가 없습니다.

![](https://static-docs.nocobase.com/202511011315010.png)

![](https://static-docs.nocobase.com/202511011316342.png)

### 이력 데이터 스냅샷 동기화

- 이력 기록 활성화 전에 생성된 데이터는 첫 번째 업데이트 시 스냅샷이 생성된 후에야 후속 변경 사항이 기록됩니다. 따라서 최초 업데이트 또는 삭제는 이력으로 남지 않습니다.
- 기존 데이터의 이력을 보존해야 하는 경우, 한 번의 스냅샷 동기화를 수행할 수 있습니다.
- 컬렉션별 스냅샷 데이터 양 = 기록 수 × 기록할 필드 수.
- 데이터 양이 방대한 경우, 데이터 범위를 필터링하여 중요한 데이터만 동기화하는 것을 권장합니다.

![](https://static-docs.nocobase.com/202511011319386.png)

![](https://static-docs.nocobase.com/202511011319284.png)

“이력 기록 스냅샷 동기화” 버튼을 클릭하고 동기화할 필드와 데이터 범위를 설정하면 동기화를 시작할 수 있습니다.

![](https://static-docs.nocobase.com/202511011320958.png)

동기화 작업은 백그라운드에서 대기열에 추가되어 진행됩니다. 목록을 새로 고쳐 작업 완료 상태를 확인할 수 있습니다.

## 이력 기록 블록 사용

### 블록 추가

이력 기록 블록을 선택하고 컬렉션을 선택하면 해당 컬렉션의 이력 기록 블록을 추가할 수 있습니다.

![](https://static-docs.nocobase.com/202511011323410.png)

![](https://static-docs.nocobase.com/202511011331667.png)

특정 데이터 기록 팝업에서 이력 기록 블록을 추가하는 경우, “현재 기록”을 선택하여 해당 데이터 기록에 대한 이력 기록 블록을 추가할 수 있습니다.

![](https://static-docs.nocobase.com/202511011338042.png)

![](https://static-docs.nocobase.com/202511011338499.png)

### 설명 템플릿 편집

블록 설정에서 “템플릿 편집”을 클릭하면 작업 기록의 설명 문구를 설정할 수 있습니다.

![](https://static-docs.nocobase.com/202511011340406.png)

현재 생성, 업데이트, 삭제 기록에 대한 설명 문구를 각각 설정할 수 있습니다. 업데이트 기록의 경우, 필드 변경에 대한 설명 문구도 설정할 수 있으며, 이는 전체 필드에 대한 통합 설정과 특정 필드에 대한 개별 설정을 모두 지원합니다.

![](https://static-docs.nocobase.com/202511011346400.png)

문구를 설정할 때 변수를 사용할 수 있습니다.

![](https://static-docs.nocobase.com/202511011347163.png)

설정 완료 후, “현재 컬렉션의 모든 이력 기록 블록”에 적용하거나 “현재 이력 기록 블록에만” 적용하도록 선택할 수 있습니다.

![](https://static-docs.nocobase.com/202511011348885.png)