---
pkg: "@nocobase/plugin-action-import-pro"
---
:::tip
이 문서는 AI로 번역되었습니다. 부정확한 내용이 있을 경우 [영어 버전](/en)을 참조하세요
:::

# 임포트 Pro

## 소개

임포트 Pro 플러그인은 일반 임포트 기능에 더해 향상된 기능을 제공합니다.

## 설치

이 플러그인은 비동기 태스크 관리 플러그인에 의존합니다. 사용하기 전에 비동기 태스크 관리 플러그인을 먼저 활성화해야 합니다.

## 기능 향상

![20251029172052](https://static-docs.nocobase.com/20251029172052.png)

- 비동기 임포트 작업을 지원하며, 독립적인 스레드에서 실행되어 대량의 데이터를 임포트할 수 있습니다.

![20251029172129](https://static-docs.nocobase.com/20251029172129.png)

- 고급 임포트 옵션을 지원합니다.

## 사용 설명서

### 비동기 임포트

임포트 실행 후, 임포트 프로세스는 사용자가 수동으로 설정할 필요 없이 독립적인 백그라운드 스레드에서 실행됩니다. 사용자 인터페이스에서 임포트 작업을 시작하면 우측 상단에 현재 실행 중인 임포트 태스크가 표시되며, 태스크 진행 상황이 실시간으로 나타납니다.

![index-2024-12-30-09-21-05](https://static-docs.nocobase.com/index-2024-12-30-09-21-05.png)

임포트가 완료되면 임포트 태스크에서 결과를 확인할 수 있습니다.

#### 성능 관련

대규모 데이터 임포트의 성능을 평가하기 위해 다양한 시나리오, 필드 유형 및 트리거 설정에서 비교 테스트를 수행했습니다 (서버 및 데이터베이스 구성에 따라 결과가 다를 수 있으며, 참고용입니다).

| 데이터 양 | 필드 유형 | 임포트 설정 | 처리 시간 |
|------|---------|---------|---------|
| 100만 건 | 문자열, 숫자, 날짜, 이메일, 장문 텍스트 | • 워크플로우 트리거: 아니요<br>• 중복 식별자: 없음 | 약 1분 |
| 50만 건 | 문자열, 숫자, 날짜, 이메일, 장문 텍스트, 다대다 | • 워크플로우 트리거: 아니요<br>• 중복 식별자: 없음 | 약 16분|
| 50만 건 | 문자열, 숫자, 날짜, 이메일, 장문 텍스트, 다대다, 다대일 | • 워크플로우 트리거: 아니요<br>• 중복 식별자: 없음 | 약 22분 |
| 50만 건 | 문자열, 숫자, 날짜, 이메일, 장문 텍스트, 다대다, 다대일 | • 워크플로우 트리거: 비동기 트리거 알림<br>• 중복 식별자: 없음 | 약 22분 |
| 50만 건 | 문자열, 숫자, 날짜, 이메일, 장문 텍스트, 다대다, 다대일 | • 워크플로우 트리거: 비동기 트리거 알림<br>• 중복 식별자: 중복 업데이트, 5만 건의 중복 데이터 포함 | 약 3시간 |

위 성능 테스트 결과와 현재 설계에 기반하여, 성능에 영향을 미치는 요인에 대한 설명과 제안은 다음과 같습니다.

1.  **중복 레코드 처리 메커니즘**: **중복 레코드 업데이트** 또는 **중복 레코드만 업데이트** 옵션을 선택하면 시스템이 레코드를 한 줄씩 조회하고 업데이트 작업을 수행하므로 임포트 효율이 크게 저하됩니다. Excel 파일에 불필요한 중복 데이터가 있는 경우 임포트 속도에 더욱 큰 영향을 미치므로, 임포트하기 전에 Excel 파일에서 불필요한 중복 데이터를 정리(예: 전문 중복 제거 도구 사용)한 다음 시스템으로 임포트하여 불필요한 시간을 낭비하지 않도록 하는 것이 좋습니다.

2.  **관계 필드 처리 효율성**: 시스템은 관계 필드를 처리할 때 연결된 데이터를 한 줄씩 조회하는 방식을 사용하는데, 이는 대량 데이터 시나리오에서 성능 병목 현상이 될 수 있습니다. 간단한 관계 구조(예: 두 컬렉션 간의 일대다 연결)의 경우, 단계별 임포트 전략을 사용하는 것이 좋습니다. 먼저 기본 컬렉션의 기본 데이터를 임포트한 후, 완료되면 컬렉션 간의 관계를 설정합니다. 비즈니스 요구사항상 관계 데이터를 동시에 임포트해야 하는 경우, 위 표의 성능 테스트 결과를 참조하여 임포트 시간을 합리적으로 계획하십시오.

3.  **워크플로우 트리거 메커니즘**: 대규모 데이터 임포트 시나리오에서 워크플로우 트리거를 활성화하는 것은 권장하지 않습니다. 주요 고려 사항은 다음과 같습니다.
    -   임포트 태스크 상태가 100%로 표시되더라도 즉시 완료되는 것은 아닙니다. 시스템은 워크플로우 실행 계획을 생성하는 데 추가 시간이 필요합니다. 이 단계에서 시스템은 임포트된 각 데이터에 대해 해당 워크플로우 실행 계획을 생성하며, 이는 임포트 스레드를 점유하지만 이미 임포트된 데이터의 사용에는 영향을 미치지 않습니다.
    -   임포트 태스크가 완전히 완료된 후, 대량의 워크플로우가 동시에 실행되면 시스템 리소스가 부족해져 전체 시스템 응답 속도와 사용자 경험에 영향을 미칠 수 있습니다.

위 3가지 영향 요인은 향후 추가 최적화를 고려할 예정입니다.

### 임포트 설정

#### 임포트 옵션 - 워크플로우 트리거 여부

![20251029172235](https://static-docs.nocobase.com/20251029172235.png)

임포트 시 워크플로우 트리거 여부를 선택할 수 있습니다. 이 옵션을 선택하고 해당 데이터 컬렉션이 워크플로우(컬렉션 이벤트)에 바인딩되어 있는 경우, 임포트는 각 행에 대해 워크플로우 실행을 트리거합니다.

#### 임포트 옵션 - 중복 레코드 식별

![20251029172421](https://static-docs.nocobase.com/20251029172421.png)

이 옵션을 선택하고 해당 모드를 선택하면 임포트 시 중복 레코드를 식별하고 처리합니다.

임포트 설정의 옵션은 기본값으로 적용되며, 관리자는 업로더가 이러한 옵션(워크플로우 트리거 옵션 제외)을 수정할 수 있도록 허용할지 여부를 제어할 수 있습니다.

**업로더 권한 설정**

![20251029172516](https://static-docs.nocobase.com/20251029172516.png)

- 업로더가 임포트 옵션을 수정하도록 허용

![20251029172617](https://static-docs.nocobase.com/20251029172617.png)

- 업로더가 임포트 옵션을 수정하는 것을 금지

![20251029172655](https://static-docs.nocobase.com/20251029172655.png)

##### 모드 설명

- 중복 레코드 건너뛰기: "식별 필드"의 내용을 기반으로 기존 레코드를 조회합니다. 레코드가 이미 존재하면 해당 행을 건너뛰고, 존재하지 않으면 새 레코드로 임포트합니다.
- 중복 레코드 업데이트: "식별 필드"의 내용을 기반으로 기존 레코드를 조회합니다. 레코드가 이미 존재하면 해당 레코드를 업데이트하고, 존재하지 않으면 새 레코드로 임포트합니다.
- 중복 레코드만 업데이트: "식별 필드"의 내용을 기반으로 기존 레코드를 조회합니다. 레코드가 이미 존재하면 해당 레코드를 업데이트하고, 존재하지 않으면 건너뜁니다.

##### 식별 필드

시스템은 이 필드의 값을 기반으로 해당 행이 중복 레코드인지 식별합니다.

- [연동 규칙](/interface-builder/actions/action-settings/linkage-rule): 버튼 동적 표시/숨기기;
- [버튼 편집](/interface-builder/actions/action-settings/edit-button): 버튼의 제목, 유형, 아이콘 편집;