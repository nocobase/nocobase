---
pkg: "@nocobase/plugin-collection-sql"
---
:::tip
이 문서는 AI로 번역되었습니다. 부정확한 내용이 있을 경우 [영어 버전](/en)을 참조하세요
:::


# SQL 컬렉션

## 소개

SQL 컬렉션은 SQL 쿼리를 사용하여 데이터를 가져오는 강력한 방법을 제공합니다. SQL 쿼리를 통해 데이터 필드를 추출하고 관련 필드 메타데이터를 구성하면, 사용자는 일반 테이블을 사용하는 것처럼 이 필드들을 활용할 수 있습니다. 이 기능은 복잡한 조인 쿼리, 통계 분석 등 다양한 시나리오에서 특히 유용합니다.

## 사용 설명서

### 새 SQL 컬렉션 생성

<img src="https://static-docs.nocobase.com/202405191452918.png"/>

<p>1. SQL 입력 상자에 SQL 쿼리를 입력한 후 `실행 (Execute)` 버튼을 클릭합니다. 시스템은 SQL 쿼리에 사용된 테이블과 필드를 분석하여 원본 테이블에서 관련 필드 메타데이터를 자동으로 추출합니다.</p>

<img src="https://static-docs.nocobase.com/202405191453556.png"/>

<p>2. 시스템이 자동으로 분석한 원본 테이블과 필드가 올바르지 않은 경우, 해당 필드의 메타데이터를 사용하기 위해 올바른 테이블과 필드를 수동으로 선택할 수 있습니다. 먼저 원본 테이블을 선택한 다음, 아래 필드 소스 섹션에서 해당 테이블의 필드를 선택해야 합니다.</p>

<img src="https://static-docs.nocobase.com/202405191453579.png"/>

<p>3. 원본 필드가 없는 필드의 경우, 시스템은 데이터 유형을 기반으로 필드 유형을 추론합니다. 추론 결과가 올바르지 않으면 필드 유형을 수동으로 선택할 수 있습니다.</p>

<img src="https://static-docs.nocobase.com/202405191454703.png"/>

<p>4. 각 필드를 구성하는 동안 미리보기 영역에서 해당 표시 효과를 확인할 수 있어, 설정 변경의 즉각적인 영향을 볼 수 있습니다.</p>

<img src="https://static-docs.nocobase.com/202405191455439.png"/>

<p>5. 구성이 완료되고 모든 것이 올바른지 확인한 후, SQL 입력 상자 아래의 `확인 (Confirm)` 버튼을 클릭하여 최종 제출을 완료합니다.</p>

<img src="https://static-docs.nocobase.com/202405191455302.png"/>

### 편집

1. SQL 쿼리를 수정해야 할 경우, `수정 (Edit)` 버튼을 클릭하여 SQL 문을 직접 변경하고 필요에 따라 필드를 재구성할 수 있습니다.

2. 필드 메타데이터를 조정하려면 `필드 구성 (Configure fields)` 옵션을 사용하여 일반 테이블과 동일하게 필드 설정을 업데이트할 수 있습니다.

### 동기화

SQL 쿼리는 변경되지 않았지만, 기본 데이터베이스 테이블 구조가 수정된 경우, `필드 구성 (Configure fields)` - `데이터베이스에서 동기화 (Sync from database)`를 선택하여 필드를 동기화하고 재구성할 수 있습니다.

<img src="https://static-docs.nocobase.com/202405191456216.png"/>

### SQL 컬렉션과 연결된 데이터베이스 뷰 비교

| 템플릿 유형 | 최적의 사용 사례 | 구현 방식 | CRUD 작업 지원 |
| :--- | :--- | :--- | :--- |
| SQL | 간단한 모델, 경량 사용 사례<br />데이터베이스와의 제한적인 상호 작용<br />뷰 유지 관리 불필요<br />UI 기반 작업 선호 | SQL 서브쿼리 | 지원 안 함 |
| 데이터베이스 뷰 연결 | 복잡한 모델<br />데이터베이스 상호 작용 필요<br />데이터 수정 필요<br />더 강력하고 안정적인 데이터베이스 지원 필요 | 데이터베이스 뷰 | 부분적으로 지원 |

:::warning
SQL 컬렉션을 사용할 때는 NocoBase 내에서 관리 가능한 데이터 테이블을 선택해야 합니다. 동일한 데이터베이스에 있지만 NocoBase에 연결되지 않은 다른 테이블을 사용하면 SQL 쿼리 구문 분석이 정확하지 않을 수 있습니다. 이러한 요구 사항이 있는 경우 뷰를 생성하고 연결하는 방법을 고려해 보세요.
:::