---
pkg: "@nocobase/plugin-field-m2m-array"
---
:::tip
이 문서는 AI로 번역되었습니다. 부정확한 내용이 있을 경우 [영어 버전](/en)을 참조하세요
:::


# 다대다 (배열)

## 소개

이 기능은 데이터 컬렉션에서 배열 필드를 사용하여 대상 컬렉션의 여러 고유 키를 저장함으로써 두 컬렉션 간에 다대다 관계를 설정할 수 있도록 지원합니다. 예를 들어, 게시물과 태그라는 두 엔티티가 있다고 가정해 봅시다. 하나의 게시물은 여러 태그와 연결될 수 있으며, 이때 게시물 컬렉션에서는 태그 컬렉션의 해당 레코드 ID를 배열 필드에 저장합니다.

:::warning{title=참고}

- 가능한 한 중간 컬렉션을 사용하여 표준 [다대다](../data-modeling/collection-fields/associations/m2m/index.md) 관계를 설정하는 것이 좋습니다. 이러한 관계 유형은 사용하지 않는 것이 좋습니다.
- 배열 필드를 사용하여 설정된 다대다 관계의 경우, 현재 PostgreSQL에서만 대상 컬렉션의 필드를 사용하여 원본 컬렉션 데이터를 필터링하는 것을 지원합니다. 예를 들어, 위 시나리오에서 태그 컬렉션의 다른 필드(예: 제목)를 사용하여 게시물을 필터링할 수 있습니다.

  :::

### 필드 설정

![many-to-many(array) field configuration](https://static-docs.nocobase.com/202407051108180.png)

## 파라미터 설명

### Source collection

현재 필드가 위치하는 원본 컬렉션입니다.

### Target collection

관계가 설정될 대상 컬렉션입니다.

### Foreign key

원본 컬렉션에서 대상 컬렉션의 Target key를 저장하는 배열 필드입니다.

배열 필드 유형의 대응 관계는 다음과 같습니다:

| NocoBase | PostgreSQL | MySQL  | SQLite |
| -------- | ---------- | ------ | ------ |
| `set`    | `array`    | `JSON` | `JSON` |

### Target key

원본 컬렉션의 배열 필드에 저장된 값에 해당하는 대상 컬렉션의 필드입니다. 이 필드는 고유해야 합니다.