:::tip
이 문서는 AI로 번역되었습니다. 부정확한 내용이 있을 경우 [영어 버전](/en)을 참조하세요
:::

# 일대일 (One-to-One)

직원과 개인 프로필 간의 관계에서, 각 직원은 하나의 개인 프로필 기록만 가질 수 있으며, 각 개인 프로필 기록 또한 하나의 직원에게만 해당될 수 있습니다. 이러한 경우, 직원과 개인 프로필의 관계는 일대일 관계라고 합니다.

일대일 관계에서 외래 키(Foreign Key)는 원본 컬렉션 또는 대상 컬렉션 중 어느 곳에든 배치할 수 있습니다. 만약 "하나를 가짐(has one)"을 나타낸다면 외래 키는 대상 컬렉션에 두는 것이 더 적절합니다. 반대로 "소속됨(belongs to)" 관계를 나타낸다면 원본 컬렉션에 두는 것이 더 적합합니다.

예를 들어, 위에서 언급한 것처럼 직원이 하나의 개인 프로필만 가지고 있고, 개인 프로필이 직원에게 소속되는 경우, 외래 키는 개인 프로필 컬렉션에 두는 것이 적절합니다.

## 일대일 (하나를 가짐)

이 관계는 특정 직원이 개인 프로필 기록을 하나 가지고 있음을 나타냅니다.

ER 관계

![alt text](https://static-docs.nocobase.com/4359e128936bbd7c9ff51bcff1d646dd.png)

필드 설정

![alt text](https://static-docs.nocobase.com/7659e128936bbd7c9ff51bcff1d646dd.png)

## 일대일 (소속됨)

이 관계는 특정 개인 프로필이 특정 직원에게 소속되어 있음을 나타냅니다.

ER 관계

![](https://static-docs.nocobase.com/31e7cc3e630220cf1e98753ca24ac72d.png)

필드 설정

![alt text](https://static-docs.nocobase.com/4f09eeb3c7717d61a34982da43c187c.png)

## 파라미터 설명

### Source collection (원본 컬렉션)

현재 필드가 위치한 컬렉션입니다.

### Target collection (대상 컬렉션)

관계를 맺을 대상 컬렉션입니다.

### Foreign key (외래 키)

두 컬렉션 간의 관계를 설정하는 데 사용됩니다. 일대일 관계에서 외래 키는 원본 컬렉션 또는 대상 컬렉션 중 어느 곳에든 배치할 수 있습니다. "하나를 가짐"을 나타낸다면 대상 컬렉션에 두는 것이 더 적절하며, "소속됨" 관계를 나타낸다면 원본 컬렉션에 두는 것이 더 적합합니다.

### Source key <- Foreign key (외래 키가 대상 컬렉션에 있는 경우)

외래 키 제약 조건이 참조하는 필드는 고유해야 합니다. 외래 키가 대상 컬렉션에 있을 때, 이는 "하나를 가짐"을 나타냅니다.

### Target key <- Foreign key (외래 키가 원본 컬렉션에 있는 경우)

외래 키 제약 조건이 참조하는 필드는 고유해야 합니다. 외래 키가 원본 컬렉션에 있을 때, 이는 "소속됨"을 나타냅니다.

### ON DELETE

ON DELETE는 부모 컬렉션의 레코드를 삭제할 때, 관련 자식 컬렉션의 외래 키 참조에 대한 동작 규칙을 의미합니다. 이는 외래 키 제약 조건을 정의할 때 설정하는 옵션입니다. 일반적인 ON DELETE 옵션은 다음과 같습니다.

- CASCADE: 부모 컬렉션의 레코드를 삭제할 때, 자식 컬렉션에 있는 모든 관련 레코드를 자동으로 삭제합니다.
- SET NULL: 부모 컬렉션의 레코드를 삭제할 때, 자식 컬렉션에 있는 관련 외래 키 값을 NULL로 설정합니다.
- RESTRICT: 기본 옵션으로, 부모 컬렉션의 레코드를 삭제하려고 할 때 관련 자식 컬렉션 레코드가 존재하면 부모 컬렉션 레코드 삭제를 거부합니다.
- NO ACTION: RESTRICT와 유사하게, 관련 자식 컬렉션 레코드가 존재하면 부모 컬렉션 레코드 삭제를 거부합니다.