:::tip
이 문서는 AI로 번역되었습니다. 부정확한 내용이 있을 경우 [영어 버전](/en)을 참조하세요
:::

# 다대일 (Many-to-One)

도서관 데이터베이스에는 '도서'와 '저자'라는 두 가지 엔티티가 있습니다. 한 저자가 여러 권의 책을 쓸 수 있지만, 각 책은 일반적으로 한 명의 저자만 가집니다. 이 경우, 저자와 도서 간의 관계는 다대일(Many-to-One)입니다. 여러 권의 책이 동일한 저자와 연결될 수 있지만, 각 책은 오직 한 명의 저자만 가질 수 있습니다.

ER 다이어그램은 다음과 같습니다:

![alt text](https://static-docs.nocobase.com/eaeeac974844db05c75cf0deeedf3652.png)

필드 설정:

![alt text](https://static-docs.nocobase.com/3b4484ebb98d82f832f3dbf752bd84c9.png)

## 파라미터 설명

### Source collection

소스 컬렉션은 현재 필드가 속해 있는 컬렉션을 의미합니다.

### Target collection

타겟 컬렉션은 연결될 컬렉션을 의미합니다.

### Foreign key

소스 컬렉션의 필드로, 두 컬렉션 간의 연결을 설정하는 데 사용됩니다.

### Target key

외래 키 제약 조건이 참조하는 타겟 컬렉션의 필드입니다. 이 필드는 고유해야 합니다.

### ON DELETE

ON DELETE는 부모 컬렉션의 레코드를 삭제할 때, 관련 자식 컬렉션의 외래 키 참조에 적용되는 규칙을 의미합니다. 이는 외래 키 제약 조건을 정의할 때 사용하는 옵션입니다. 일반적인 ON DELETE 옵션은 다음과 같습니다:

- CASCADE: 부모 컬렉션의 레코드를 삭제할 때, 자식 컬렉션에 있는 모든 관련 레코드를 자동으로 삭제합니다.
- SET NULL: 부모 컬렉션의 레코드를 삭제할 때, 자식 컬렉션에 있는 관련 레코드의 외래 키 값을 NULL로 설정합니다.
- RESTRICT: 기본 옵션입니다. 부모 컬렉션의 레코드를 삭제하려고 할 때, 관련 자식 컬렉션 레코드가 존재하면 부모 컬렉션 레코드 삭제를 거부합니다.
- NO ACTION: RESTRICT와 유사하게, 관련 자식 컬렉션 레코드가 존재하면 부모 컬렉션 레코드 삭제를 거부합니다.