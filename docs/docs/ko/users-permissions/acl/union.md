---
pkg: '@nocobase/plugin-acl'
---
:::tip
이 문서는 AI로 번역되었습니다. 부정확한 내용이 있을 경우 [영어 버전](/en)을 참조하세요
:::


# 역할 병합

역할 병합은 권한 관리 모드입니다. 시스템 설정에 따라 시스템 개발자는 다양한 권한 요구사항을 충족하기 위해 `독립 역할`, `역할 병합 허용` 또는 `역할 병합만` 사용하도록 선택할 수 있습니다.

![20250312184651](https://static-docs.nocobase.com/20250312184651.png)

## 독립 역할

시스템은 기본적으로 독립 역할을 사용합니다. 역할 병합을 사용하지 않으며, 사용자는 자신이 가진 역할을 개별적으로 전환해야 합니다.

![20250312184729](https://static-docs.nocobase.com/20250312184729.png)
![20250312184826](https://static-docs.nocobase.com/20250312184826.png)

## 역할 병합 허용

시스템 개발자는 역할 병합을 사용하도록 허용할 수 있습니다. 이는 사용자가 자신이 가진 모든 역할의 권한을 동시에 사용할 수 있도록 하며, 동시에 사용자가 자신의 역할을 개별적으로 전환할 수 있도록 허용합니다.

![20250312185006](https://static-docs.nocobase.com/20250312185006.png)

## 역할 병합만

사용자는 역할 병합만 사용하도록 강제되며, 개별적으로 역할을 전환할 수 없습니다.

![20250312185105](https://static-docs.nocobase.com/20250312185105.png)

## 역할 병합 규칙

역할 병합은 모든 역할에 걸쳐 최대 권한을 부여합니다. 아래에서는 역할 설정이 동일한 항목에서 충돌할 때 역할 권한을 어떻게 결정해야 하는지 설명합니다.

### 작업 권한 병합

예시: 역할 1 (role1)은 인터페이스 구성을 허용하도록 설정되어 있고, 역할 2 (role2)는 플러그인 설치, 활성화, 비활성화를 허용하도록 설정되어 있습니다.

![20250312190133](https://static-docs.nocobase.com/20250312190133.png)

![20250312190352](https://static-docs.nocobase.com/20250312190352.png)

**모든 권한** 역할을 사용하여 로그인하면, 사용자는 이 두 가지 권한을 동시에 갖게 됩니다.

![20250312190621](https://static-docs.nocobase.com/20250312190621.png)

### 데이터 범위 병합

#### 데이터 행

시나리오 1: 여러 역할이 동일한 필드에 조건을 설정하는 경우

역할 A, 조건 설정: Age < 30

| UserID | Name | Age |
| ------ | ---- | --- |
| 1      | Jack | 23  |
| 2      | Lily | 29  |

역할 B, 조건 설정: Age > 25

| UserID | Name | Age |
| ------ | ---- | --- |
| 2      | Lily | 29  |
| 3      | Sam  | 32  |

병합 후:

| UserID | Name | Age |
| ------ | ---- | --- |
| 1      | Jack | 23  |
| 2      | Lily | 29  |
| 3      | Sam  | 32  |

시나리오 2: 다른 역할이 다른 필드를 조건으로 설정하는 경우

역할 A, 조건 설정: Age < 30

| UserID | Name | Age |
| ------ | ---- | --- |
| 1      | Jack | 23  |
| 2      | Lily | 29  |

역할 B, 조건 설정: Name에 "Ja" 포함

| UserID | Name   | Age |
| ------ | ------ | --- |
| 1      | Jack   | 23  |
| 3      | Jasmin | 27  |

병합 후:

| UserID | Name   | Age |
| ------ | ------ | --- |
| 1      | Jack   | 23  |
| 2      | Lily   | 29  |
| 3      | Jasmin | 27  |

#### 데이터 열

역할 A, 표시 필드 설정: Name, Age

| UserID | Name | Age |
| ------ | ---- | --- |
| 1      | Jack | 23  |
| 2      | Lily | 29  |

역할 B, 표시 필드 설정: Name, Sex

| UserID | Name | Sex   |
| ------ | ---- | ----- |
| 1      | Jack | Man   |
| 2      | Lily | Woman |

병합 후:

| UserID | Name | Age | Sex   |
| ------ | ---- | --- | ----- |
| 1      | Jack | 23  | Man   |
| 2      | Lily | 29  | Woman |

#### 행렬 혼합

역할 A, 조건 설정: Age < 30, 표시 필드: Name, Age

| UserID | Name | Age |
| ------ | ---- | --- |
| 1      | Jack | 23  |
| 2      | Lily | 29  |

역할 B, 조건 설정: Name에 "Ja" 포함, 표시 필드: Name, Sex

| UserID | Name  | Sex   |
| ------ | ----- | ----- |
| 3      | Jade  | Woman |
| 4      | James | Man   |

병합 후:

| UserID | Name  | Age                                              | Sex                                                 |
| ------ | ----- | ------------------------------------------------ | --------------------------------------------------- |
| 1      | Jack  | 23                                               | <span style="background-color:#FFDDDD">Man</span>   |
| 2      | Lily  | 29                                               | <span style="background-color:#FFDDDD">Woman</span> |
| 3      | Jade  | <span style="background-color:#FFDDDD">27</span> | Woman                                               |
| 4      | James | <span style="background-color:#FFDDDD">31</span> | Man                                                 |

**참고: 빨간색 배경으로 표시된 셀은 개별 역할에서는 보이지 않지만, 병합된 역할에서는 보이는 데이터를 나타냅니다.**

#### 요약

역할 병합의 데이터 범위 규칙은 다음과 같습니다:

1.  행 간에는 어떤 조건이든 하나라도 충족되면 권한이 부여됩니다.
2.  열 간에는 필드가 합쳐집니다.
3.  행과 열이 동시에 설정된 경우, 행과 행, 열과 열이 각각 병합되며, (행+열)과 (행+열)의 조합으로 병합되지 않습니다.