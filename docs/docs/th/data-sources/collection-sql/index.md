---
pkg: "@nocobase/plugin-collection-sql"
---
:::tip
เอกสารนี้แปลโดย AI หากมีข้อมูลที่ไม่ถูกต้อง โปรดดู[เวอร์ชันภาษาอังกฤษ](/en)
:::


# คอลเลกชัน SQL

## บทนำ

คอลเลกชัน SQL เป็นวิธีที่มีประสิทธิภาพในการดึงข้อมูลโดยใช้คำสั่ง SQL ครับ/ค่ะ เมื่อดึงฟิลด์ข้อมูลด้วยคำสั่ง SQL และกำหนดค่าเมตาดาต้าของฟิลด์ที่เกี่ยวข้องแล้ว ผู้ใช้สามารถนำฟิลด์เหล่านี้ไปใช้งานได้เหมือนกับการทำงานกับตารางทั่วไป ไม่ว่าจะเป็นในตาราง, แผนภูมิ หรือเวิร์กโฟลว์ ฟีเจอร์นี้มีประโยชน์อย่างยิ่งสำหรับสถานการณ์ที่เกี่ยวข้องกับการสืบค้นข้อมูลแบบเชื่อมโยงที่ซับซ้อน การวิเคราะห์ทางสถิติ และอื่นๆ ครับ/ค่ะ

## คู่มือการใช้งาน

### การสร้างคอลเลกชัน SQL ใหม่

<img src="https://static-docs.nocobase.com/202405191452918.png"/>

1. หลังจากป้อนคำสั่ง SQL ในช่องป้อนข้อมูล SQL แล้วคลิกปุ่ม 'Execute' (ดำเนินการ) ระบบจะพยายามวิเคราะห์ว่าคำสั่ง SQL นั้นใช้ตารางและฟิลด์ใดบ้าง และดึงเมตาดาต้าของฟิลด์ที่เกี่ยวข้องจากตารางต้นทางโดยอัตโนมัติครับ/ค่ะ

<img src="https://static-docs.nocobase.com/202405191453556.png"/>

2. หากการวิเคราะห์ตารางต้นทางและฟิลด์ของระบบไม่ถูกต้อง คุณสามารถเลือกตารางและฟิลด์ที่เหมาะสมด้วยตนเองได้ เพื่อให้แน่ใจว่ามีการใช้เมตาดาต้าของฟิลด์ที่ถูกต้องครับ/ค่ะ โดยเริ่มต้นด้วยการเลือกตารางต้นทางก่อน จากนั้นจึงจะสามารถเลือกฟิลด์ที่เกี่ยวข้องในส่วนแหล่งที่มาของฟิลด์ด้านล่างได้ครับ/ค่ะ

<img src="https://static-docs.nocobase.com/202405191453579.png"/>

3. สำหรับฟิลด์ที่ไม่มีแหล่งที่มาโดยตรง ระบบจะอนุมานประเภทฟิลด์ตามประเภทข้อมูล หากการอนุมานนี้ไม่ถูกต้อง คุณสามารถเลือกประเภทฟิลด์ที่ถูกต้องด้วยตนเองได้ครับ/ค่ะ

<img src="https://static-docs.nocobase.com/202405191454703.png"/>

4. ขณะที่คุณกำลังกำหนดค่าแต่ละฟิลด์ คุณสามารถดูตัวอย่างการแสดงผลในพื้นที่พรีวิวได้ทันที เพื่อให้เห็นผลลัพธ์ของการตั้งค่าครับ/ค่ะ

<img src="https://static-docs.nocobase.com/202405191455439.png"/>

5. หลังจากที่คุณกำหนดค่าเสร็จสิ้นและยืนยันว่าทุกอย่างถูกต้องแล้ว ให้คลิกปุ่ม 'Confirm' (ยืนยัน) ที่อยู่ใต้ช่องป้อนข้อมูล SQL เพื่อส่งข้อมูลขั้นสุดท้ายครับ/ค่ะ

<img src="https://static-docs.nocobase.com/202405191455302.png"/>

### การแก้ไข

1. หากคุณต้องการแก้ไขคำสั่ง SQL ให้คลิกปุ่ม 'Edit' (แก้ไข) เพื่อแก้ไขคำสั่ง SQL ได้โดยตรง และกำหนดค่าฟิลด์ใหม่ตามต้องการครับ/ค่ะ

2. หากต้องการปรับเมตาดาต้าของฟิลด์ ให้ใช้ตัวเลือก 'Configure Fields' (กำหนดค่าฟิลด์) ซึ่งช่วยให้คุณสามารถอัปเดตการตั้งค่าฟิลด์ได้เหมือนกับการทำงานกับตารางทั่วไปครับ/ค่ะ

### การซิงโครไนซ์

หากคำสั่ง SQL ยังคงไม่เปลี่ยนแปลง แต่โครงสร้างตารางฐานข้อมูลมีการแก้ไข คุณสามารถซิงโครไนซ์และกำหนดค่าฟิลด์ใหม่ได้โดยเลือก 'Configure Fields' (กำหนดค่าฟิลด์) แล้วตามด้วย 'Sync from Database' (ซิงค์จากฐานข้อมูล) ครับ/ค่ะ

<img src="https://static-docs.nocobase.com/202405191456216.png"/>

### คอลเลกชัน SQL เทียบกับมุมมองฐานข้อมูลที่เชื่อมโยง

| ประเภทเทมเพลต | เหมาะสำหรับ | วิธีการนำไปใช้งาน | รองรับการดำเนินการ CRUD |
| :--- | :--- | :--- | :--- |
| คอลเลกชัน SQL | โมเดลไม่ซับซ้อน, กรณีการใช้งานแบบเบา<br />ไม่สะดวกในการจัดการฐานข้อมูล<br />ไม่ต้องการดูแลมุมมอง (Views)<br />ต้องการดำเนินการผ่าน UI ทั้งหมด | SQL subquery | ไม่รองรับ |
| เชื่อมต่อกับมุมมองฐานข้อมูล | โมเดลซับซ้อน<br />ต้องการการโต้ตอบกับฐานข้อมูล<br />ต้องการแก้ไขข้อมูล<br />ต้องการการสนับสนุนฐานข้อมูลที่แข็งแกร่งและเสถียรยิ่งขึ้น | Database view | รองรับบางส่วน |

:::warning
เมื่อใช้คอลเลกชัน SQL โปรดเลือกตารางข้อมูลที่สามารถจัดการได้ภายใน NocoBase ครับ/ค่ะ หากใช้ตารางอื่นๆ ที่อยู่ในฐานข้อมูลเดียวกันแต่ไม่ได้เชื่อมต่อกับ NocoBase อาจทำให้การแยกวิเคราะห์คำสั่ง SQL ไม่ถูกต้องได้ หากมีความต้องการเช่นนี้ ลองพิจารณาสร้างและเชื่อมโยงกับมุมมอง (View) แทนครับ/ค่ะ
:::