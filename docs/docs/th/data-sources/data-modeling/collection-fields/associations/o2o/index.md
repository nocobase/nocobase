:::tip
เอกสารนี้แปลโดย AI หากมีข้อมูลที่ไม่ถูกต้อง โปรดดู[เวอร์ชันภาษาอังกฤษ](/en)
:::


# หนึ่งต่อหนึ่ง

ในความสัมพันธ์ระหว่างพนักงานกับข้อมูลส่วนตัว พนักงานแต่ละคนจะมีบันทึกข้อมูลส่วนตัวได้เพียงหนึ่งรายการเท่านั้น และบันทึกข้อมูลส่วนตัวแต่ละรายการก็จะสามารถเชื่อมโยงกับพนักงานได้เพียงหนึ่งคนเช่นกัน ในกรณีนี้ ความสัมพันธ์ระหว่างพนักงานกับข้อมูลส่วนตัวจึงเป็นแบบหนึ่งต่อหนึ่งครับ/ค่ะ

คีย์นอก (Foreign Key) ในความสัมพันธ์แบบหนึ่งต่อหนึ่งสามารถวางไว้ได้ทั้งในคอลเลกชันต้นทาง (Source collection) หรือคอลเลกชันปลายทาง (Target collection) ครับ/ค่ะ หากคีย์นอกนั้นแสดงถึงความสัมพันธ์แบบ "มีหนึ่งรายการ" (has one) การวางคีย์นอกไว้ในคอลเลกชันปลายทางจะเหมาะสมกว่า แต่ถ้าแสดงถึงความสัมพันธ์แบบ "เป็นของ" (belongs to) การวางคีย์นอกไว้ในคอลเลกชันต้นทางจะเหมาะสมกว่าครับ/ค่ะ

ตัวอย่างเช่น จากกรณีที่กล่าวมาข้างต้นที่พนักงานมีข้อมูลส่วนตัวเพียงหนึ่งรายการ และข้อมูลส่วนตัวนั้นเป็นของพนักงาน การวางคีย์นอกไว้ในคอลเลกชันข้อมูลส่วนตัวจึงเหมาะสมครับ/ค่ะ

## หนึ่งต่อหนึ่ง (มีหนึ่งรายการ)

หมายถึง พนักงานคนหนึ่งมีบันทึกข้อมูลส่วนตัวหนึ่งรายการครับ/ค่ะ

ER Relationship

![alt text](https://static-docs.nocobase.com/4359e128936bbd7c9ff51bcff1d646dd.png)

Field Configuration

![alt text](https://static-docs.nocobase.com/7659e128936bbd7c9ff51bcff1d646dd.png)

## หนึ่งต่อหนึ่ง (เป็นของ)

หมายถึง ข้อมูลส่วนตัวหนึ่งรายการเป็นของพนักงานคนใดคนหนึ่งครับ/ค่ะ

ER Relationship

![](https://static-docs.nocobase.com/31e7cc3e630220cf1e98753ca24ac72d.png)

Field Configuration

![alt text](https://static-docs.nocobase.com/4f09eeb3c7717d61a349842da43c187c.png)

## คำอธิบายพารามิเตอร์

### Source collection

คอลเลกชันต้นทาง ซึ่งเป็นคอลเลกชันที่ฟิลด์ปัจจุบันตั้งอยู่ครับ/ค่ะ

### Target collection

คอลเลกชันปลายทาง ซึ่งเป็นคอลเลกชันที่จะเชื่อมโยงด้วยครับ/ค่ะ

### Foreign key

ใช้สำหรับสร้างความสัมพันธ์ระหว่างสองคอลเลกชันครับ/ค่ะ ในความสัมพันธ์แบบหนึ่งต่อหนึ่ง คีย์นอกสามารถวางไว้ได้ทั้งในคอลเลกชันต้นทางหรือคอลเลกชันปลายทาง หากคีย์นอกนั้นแสดงถึงความสัมพันธ์แบบ "มีหนึ่งรายการ" การวางคีย์นอกไว้ในคอลเลกชันปลายทางจะเหมาะสมกว่า แต่ถ้าแสดงถึงความสัมพันธ์แบบ "เป็นของ" การวางคีย์นอกไว้ในคอลเลกชันต้นทางจะเหมาะสมกว่าครับ/ค่ะ

### Source key <- Foreign key (คีย์นอกอยู่ในคอลเลกชันปลายทาง)

ฟิลด์ที่ถูกอ้างอิงโดยข้อจำกัดคีย์นอก (Foreign Key Constraint) ต้องมีค่าที่ไม่ซ้ำกันครับ/ค่ะ เมื่อคีย์นอกถูกวางไว้ในคอลเลกชันปลายทาง จะหมายถึงความสัมพันธ์แบบ "มีหนึ่งรายการ" ครับ/ค่ะ

### Target key <- Foreign key (คีย์นอกอยู่ในคอลเลกชันต้นทาง)

ฟิลด์ที่ถูกอ้างอิงโดยข้อจำกัดคีย์นอก (Foreign Key Constraint) ต้องมีค่าที่ไม่ซ้ำกันครับ/ค่ะ เมื่อคีย์นอกถูกวางไว้ในคอลเลกชันต้นทาง จะหมายถึงความสัมพันธ์แบบ "เป็นของ" ครับ/ค่ะ

### ON DELETE

ON DELETE หมายถึง กฎการดำเนินการสำหรับการอ้างอิงคีย์นอกในคอลเลกชันลูกที่เกี่ยวข้อง เมื่อมีการลบเรคคอร์ดออกจากคอลเลกชันแม่ครับ/ค่ะ ซึ่งเป็นตัวเลือกที่ใช้กำหนดเมื่อสร้างข้อจำกัดคีย์นอก (Foreign Key Constraint) ตัวเลือก ON DELETE ที่พบบ่อยได้แก่:

- CASCADE: เมื่อลบเรคคอร์ดในคอลเลกชันแม่ ระบบจะลบเรคคอร์ดที่เกี่ยวข้องทั้งหมดในคอลเลกชันลูกโดยอัตโนมัติครับ/ค่ะ
- SET NULL: เมื่อลบเรคคอร์ดในคอลเลกชันแม่ ระบบจะตั้งค่าคีย์นอกที่เกี่ยวข้องในคอลเลกชันลูกเป็น NULL ครับ/ค่ะ
- RESTRICT: ตัวเลือกเริ่มต้น เมื่อพยายามลบเรคคอร์ดในคอลเลกชันแม่ หากมีเรคคอร์ดที่เกี่ยวข้องในคอลเลกชันลูก ระบบจะปฏิเสธการลบเรคคอร์ดในคอลเลกชันแม่ครับ/ค่ะ
- NO ACTION: คล้ายกับ RESTRICT หากมีเรคคอร์ดที่เกี่ยวข้องในคอลเลกชันลูก ระบบจะปฏิเสธการลบเรคคอร์ดในคอลเลกชันแม่ครับ/ค่ะ