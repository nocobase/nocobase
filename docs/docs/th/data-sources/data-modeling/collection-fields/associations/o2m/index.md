:::tip
เอกสารนี้แปลโดย AI หากมีข้อมูลที่ไม่ถูกต้อง โปรดดู[เวอร์ชันภาษาอังกฤษ](/en)
:::


# ความสัมพันธ์แบบหนึ่งต่อกลุ่ม (One-to-Many)

ความสัมพันธ์ระหว่างชั้นเรียนและนักเรียนเป็นตัวอย่างของความสัมพันธ์แบบหนึ่งต่อกลุ่ม (One-to-Many) ครับ/ค่ะ โดยที่หนึ่งชั้นเรียนสามารถมีนักเรียนได้หลายคน แต่นักเรียนแต่ละคนจะสังกัดได้เพียงหนึ่งชั้นเรียนเท่านั้น

แผนภาพ ER (ER Diagram) มีดังนี้ครับ/ค่ะ

![alt text](https://static-docs.nocobase.com/9475f044d123d28ac8e56a077411f8dc.png)

การตั้งค่าฟิลด์ (Field Configuration):

![alt text](https://static-docs.nocobase.com/a608ce54821172dad7e8ab760107ff4e.png)

## คำอธิบายพารามิเตอร์

### คอลเลกชันต้นทาง (Source Collection)

คอลเลกชันต้นทาง คือ คอลเลกชันที่ฟิลด์ปัจจุบันนี้อยู่ครับ/ค่ะ

### คอลเลกชันปลายทาง (Target Collection)

คอลเลกชันปลายทาง คือ คอลเลกชันที่จะนำไปเชื่อมโยงด้วยครับ/ค่ะ

### คีย์ต้นทาง (Source Key)

ฟิลด์ในคอลเลกชันต้นทางที่ถูกอ้างอิงโดยคีย์นอก (Foreign Key) ครับ/ค่ะ โดยฟิลด์นี้จะต้องไม่ซ้ำกัน (unique)

### คีย์นอก (Foreign Key)

ฟิลด์ในคอลเลกชันปลายทางที่ใช้สำหรับสร้างความสัมพันธ์ระหว่างสองคอลเลกชันครับ/ค่ะ

### คีย์ปลายทาง (Target Key)

ฟิลด์ในคอลเลกชันปลายทางที่ใช้สำหรับดูข้อมูลแต่ละแถวในบล็อกความสัมพันธ์ครับ/ค่ะ โดยปกติแล้วจะเป็นฟิลด์ที่มีค่าไม่ซ้ำกัน (unique)

### ON DELETE

`ON DELETE` หมายถึงกฎที่ใช้กับคีย์นอก (Foreign Key) ที่อ้างอิงในคอลเลกชันลูก (Child Collection) ที่เกี่ยวข้อง เมื่อมีการลบข้อมูลในคอลเลกชันแม่ (Parent Collection) ครับ/ค่ะ ซึ่งเป็นตัวเลือกหนึ่งที่ใช้ในการกำหนดข้อจำกัดของคีย์นอก (Foreign Key Constraint) โดยทั่วไปแล้ว ตัวเลือก `ON DELETE` ที่พบบ่อยได้แก่:

- **CASCADE**: เมื่อมีการลบข้อมูลในคอลเลกชันแม่ (Parent Collection) ระบบจะลบข้อมูลที่เกี่ยวข้องทั้งหมดในคอลเลกชันลูก (Child Collection) โดยอัตโนมัติครับ/ค่ะ
- **SET NULL**: เมื่อมีการลบข้อมูลในคอลเลกชันแม่ (Parent Collection) ค่าคีย์นอก (Foreign Key) ที่เกี่ยวข้องในคอลเลกชันลูก (Child Collection) จะถูกตั้งค่าเป็น `NULL` ครับ/ค่ะ
- **RESTRICT**: เป็นตัวเลือกเริ่มต้นครับ/ค่ะ โดยจะป้องกันการลบข้อมูลในคอลเลกชันแม่ (Parent Collection) หากมีข้อมูลที่เกี่ยวข้องอยู่ในคอลเลกชันลูก (Child Collection)
- **NO ACTION**: คล้ายกับ `RESTRICT` ครับ/ค่ะ โดยจะป้องกันการลบข้อมูลในคอลเลกชันแม่ (Parent Collection) หากมีข้อมูลที่เกี่ยวข้องอยู่ในคอลเลกชันลูก (Child Collection)