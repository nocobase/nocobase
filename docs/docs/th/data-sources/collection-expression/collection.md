:::tip
เอกสารนี้แปลโดย AI หากมีข้อมูลที่ไม่ถูกต้อง โปรดดู[เวอร์ชันภาษาอังกฤษ](/en)
:::


# คอลเลกชันนิพจน์

## การสร้างเทมเพลตคอลเลกชัน "นิพจน์"

ก่อนที่จะใช้โหนดการดำเนินการนิพจน์แบบไดนามิกในเวิร์กโฟลว์ คุณต้องสร้างเทมเพลตคอลเลกชัน "นิพจน์" ขึ้นมาก่อนในเครื่องมือจัดการคอลเลกชัน เพื่อใช้เก็บนิพจน์ต่างๆ ครับ/ค่ะ

![การสร้างเทมเพลตคอลเลกชันนิพจน์](https://static-docs.nocobase.com/33afe3369a1ea7943f12a04d9d4443ce.png)

## การป้อนข้อมูลนิพจน์

จากนั้น สร้างบล็อกตารางและเพิ่มข้อมูลสูตรลงในเทมเพลตคอลเลกชันนี้ครับ/ค่ะ ข้อมูลแต่ละแถวในเทมเพลตคอลเลกชัน "นิพจน์" สามารถตีความได้ว่าเป็นกฎการคำนวณสำหรับโมเดลข้อมูลคอลเลกชันที่เฉพาะเจาะจงครับ/ค่ะ ข้อมูลสูตรแต่ละแถวสามารถใช้ค่าฟิลด์จากโมเดลข้อมูลของคอลเลกชันต่างๆ เป็นตัวแปร เพื่อสร้างนิพจน์ที่แตกต่างกันเป็นกฎการคำนวณ และแน่นอนว่า คุณยังสามารถใช้เอนจินการคำนวณที่แตกต่างกันได้ด้วยครับ/ค่ะ

![การป้อนข้อมูลนิพจน์](https://static-docs.nocobase.com/761047f8daabacccbc6a924a73564093.png)

:::info{title=เคล็ดลับ}
หลังจากสร้างสูตรเรียบร้อยแล้ว คุณยังต้องเชื่อมโยงข้อมูลธุรกิจเข้ากับสูตรเหล่านั้นด้วยครับ/ค่ะ การเชื่อมโยงข้อมูลธุรกิจแต่ละแถวเข้ากับข้อมูลสูตรโดยตรงอาจจะยุ่งยากเกินไป ดังนั้น โดยทั่วไปเราจะใช้คอลเลกชันเมตาดาต้าที่คล้ายกับการจัดหมวดหมู่ เพื่อสร้างความสัมพันธ์แบบหลายต่อหนึ่ง (หรือหนึ่งต่อหนึ่ง) กับคอลเลกชันสูตร จากนั้นจึงเชื่อมโยงข้อมูลธุรกิจเข้ากับเมตาดาต้าที่จัดหมวดหมู่ไว้แบบหลายต่อหนึ่งครับ/ค่ะ เมื่อสร้างข้อมูลธุรกิจ คุณก็เพียงแค่ระบุเมตาดาต้าที่จัดหมวดหมู่ที่เกี่ยวข้อง ซึ่งจะช่วยให้คุณสามารถค้นหาและใช้งานข้อมูลสูตรที่เกี่ยวข้องผ่านเส้นทางการเชื่อมโยงนี้ได้ในภายหลังครับ/ค่ะ
:::

## การโหลดข้อมูลที่เกี่ยวข้องในกระบวนการ

ยกตัวอย่างเช่น การสร้างเวิร์กโฟลว์โดยใช้เหตุการณ์คอลเลกชันเป็นตัวกระตุ้น เมื่อมีการสร้างคำสั่งซื้อ เวิร์กโฟลว์ควรโหลดข้อมูลสินค้าที่เกี่ยวข้องกับคำสั่งซื้อและข้อมูลนิพจน์ที่เกี่ยวข้องกับสินค้าล่วงหน้าครับ/ค่ะ

![เหตุการณ์คอลเลกชัน_การกำหนดค่าทริกเกอร์](https://static-docs.nocobase.com/f181f75b10007afd5de068f3458d2e04.png)