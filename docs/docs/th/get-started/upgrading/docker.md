:::tip
เอกสารนี้แปลโดย AI หากมีข้อมูลที่ไม่ถูกต้อง โปรดดู[เวอร์ชันภาษาอังกฤษ](/en)
:::


# การอัปเกรดการติดตั้ง Docker

:::warning ก่อนการอัปเกรด

- โปรดสำรองข้อมูลฐานข้อมูลของคุณก่อนเสมอ

:::

## 1. เปลี่ยนไปยังไดเรกทอรีที่ไฟล์ `docker-compose.yml` อยู่

ตัวอย่างเช่น

```bash
# MacOS, Linux...
cd /your/path/my-project/
# Windows
cd C:\your\path\my-project
```

## 2. อัปเดตหมายเลขเวอร์ชันของ Image

:::tip เกี่ยวกับหมายเลขเวอร์ชัน

- หมายเลขเวอร์ชันแบบนามแฝง (Alias versions) เช่น `latest`, `latest-full`, `beta`, `beta-full`, `alpha`, `alpha-full` โดยทั่วไปแล้วไม่จำเป็นต้องแก้ไขครับ/ค่ะ
- หมายเลขเวอร์ชันแบบตัวเลข (Numeric versions) เช่น `1.7.14`, `1.7.14-full` จำเป็นต้องแก้ไขให้เป็นหมายเลขเวอร์ชันเป้าหมายครับ/ค่ะ
- หมายเลขเวอร์ชันรองรับเฉพาะการอัปเกรดเท่านั้น ไม่รองรับการดาวน์เกรดครับ/ค่ะ!!!
- สำหรับสภาพแวดล้อม Production แนะนำให้กำหนดเวอร์ชันเป็นตัวเลขที่แน่นอน เพื่อหลีกเลี่ยงการอัปเกรดอัตโนมัติโดยไม่ตั้งใจครับ/ค่ะ [ดูเวอร์ชันทั้งหมด](https://hub.docker.com/r/nocobase/nocobase/tags)

:::

```yml
# ...
services:
  app:
    # แนะนำให้ใช้ Image ของ Alibaba Cloud (อาจช่วยให้ดาวน์โหลดได้เร็วขึ้น)
    image: nocobase/nocobase:1.7.14-full
    # สามารถใช้เวอร์ชันแบบนามแฝงได้ (อาจมีการอัปเกรดอัตโนมัติ โปรดใช้ด้วยความระมัดระวังในสภาพแวดล้อม Production)
    # image: nocobase/nocobase:latest-full
    # image: nocobase/nocobase:beta-full
    # Docker Hub (อาจช้าหรือไม่สำเร็จในบางภูมิภาค)
    # image: nocobase/nocobase:1.7.14-full
# ...
```

## 3. รีสตาร์ทคอนเทนเนอร์

```bash
# ดึง Image ล่าสุด
docker compose pull app

# สร้างคอนเทนเนอร์ใหม่
docker compose up -d app

# ตรวจสอบสถานะของกระบวนการ (process) ของแอป
docker compose logs -f app
```

## 4. การอัปเกรดปลั๊กอินของบุคคลที่สาม

โปรดดูที่ [การติดตั้งและอัปเกรดปลั๊กอิน](../install-upgrade-plugins.mdx)

## 5. คำแนะนำในการย้อนกลับ (Rollback)

NocoBase ไม่รองรับการดาวน์เกรดครับ/ค่ะ หากคุณต้องการย้อนกลับ โปรดกู้คืนข้อมูลสำรองฐานข้อมูลก่อนการอัปเกรด และเปลี่ยนเวอร์ชันของ Image กลับเป็นเวอร์ชันเดิมครับ/ค่ะ

## 6. คำถามที่พบบ่อย (FAQ)

**Q: การดึง Image ช้าหรือไม่สำเร็จ**

ลองใช้ตัวเร่งความเร็ว Image (Image accelerator) หรือใช้ Image ของ Alibaba Cloud ที่ `nocobase/nocobase:<tag>` ครับ/ค่ะ

**Q: เวอร์ชันไม่เปลี่ยนแปลง**

โปรดยืนยันว่าคุณได้แก้ไข `image` ให้เป็นหมายเลขเวอร์ชันใหม่แล้ว และได้รันคำสั่ง `docker compose pull app` กับ `up -d app` สำเร็จเรียบร้อยแล้วครับ/ค่ะ

**Q: การดาวน์โหลดหรืออัปเดตปลั๊กอินเชิงพาณิชย์ล้มเหลว**

สำหรับปลั๊กอินเชิงพาณิชย์ โปรดตรวจสอบรหัสการอนุญาต (license key) ในระบบ หลังจากตรวจสอบแล้ว ให้รีสตาร์ท Docker คอนเทนเนอร์ครับ/ค่ะ ดูรายละเอียดเพิ่มเติมได้ที่ [คู่มือการเปิดใช้งานสิทธิ์การใช้งานเชิงพาณิชย์ของ NocoBase](https://www.nocobase.com/cn/blog/nocobase-commercial-license-activation-guide)