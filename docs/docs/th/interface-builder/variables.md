:::tip
เอกสารนี้แปลโดย AI หากมีข้อมูลที่ไม่ถูกต้อง โปรดดู[เวอร์ชันภาษาอังกฤษ](/en)
:::


# ตัวแปร

## บทนำ

ตัวแปรคือชุดของสัญลักษณ์ที่ใช้ระบุค่าบางอย่างในบริบทปัจจุบันครับ/ค่ะ เราสามารถนำไปใช้ได้ในหลายสถานการณ์ เช่น การกำหนดขอบเขตข้อมูลของบล็อก, ค่าเริ่มต้นของฟิลด์, กฎการเชื่อมโยง (linkage rules) และเวิร์กโฟลว์ เป็นต้น

![20251030114458](https://static-docs.nocobase.com/20251030114458.png)

## ตัวแปรที่รองรับในปัจจุบัน

### ผู้ใช้ปัจจุบัน (Current User)

ตัวแปรนี้จะแสดงข้อมูลของผู้ใช้ที่กำลังล็อกอินอยู่ในปัจจุบันครับ/ค่ะ

![20240416154950](https://static-docs.nocobase.com/20240416154950.png)

### บทบาทปัจจุบัน (Current Role)

ตัวแปรนี้จะแสดงชื่อบทบาท (role name) ของผู้ใช้ที่กำลังล็อกอินอยู่ในปัจจุบันครับ/ค่ะ

![20240416155100](https://static-docs.nocobase.com/20240416155100.png)

### ฟอร์มปัจจุบัน (Current Form)

ตัวแปรนี้จะแสดงค่าของฟอร์มปัจจุบันครับ/ค่ะ ซึ่งใช้ได้เฉพาะในบล็อกฟอร์มเท่านั้น สถานการณ์ที่ใช้งานได้แก่:

- กฎการเชื่อมโยง (linkage rules) สำหรับฟอร์มปัจจุบัน
- ค่าเริ่มต้นของฟิลด์ในฟอร์ม (มีผลเฉพาะเมื่อเพิ่มข้อมูลใหม่เท่านั้น)
- การตั้งค่าขอบเขตข้อมูลสำหรับฟิลด์ความสัมพันธ์
- การกำหนดค่าฟิลด์สำหรับการดำเนินการส่งข้อมูล (submit actions)

#### กฎการเชื่อมโยงสำหรับฟอร์มปัจจุบัน

![20251027114920](https://static-docs.nocobase.com/20251027114920.png)

#### ค่าเริ่มต้นสำหรับฟิลด์ในฟอร์ม (เฉพาะฟอร์มเพิ่มข้อมูลใหม่)

![20251027115016](https://static-docs.nocobase.com/20251027115016.png)

#### การตั้งค่าขอบเขตข้อมูลสำหรับฟิลด์ความสัมพันธ์

ใช้เพื่อกรองตัวเลือกของฟิลด์ปลายทางแบบไดนามิกตามฟิลด์ต้นทางครับ/ค่ะ เพื่อให้แน่ใจว่าการป้อนข้อมูลถูกต้องแม่นยำ

**ตัวอย่าง:**

1. ผู้ใช้เลือกค่าสำหรับฟิลด์ **Owner**
2. ระบบจะกรองตัวเลือกสำหรับฟิลด์ **Account** โดยอัตโนมัติ ตาม **userName** ของ Owner ที่เลือก

![20251030151928](https://static-docs.nocobase.com/20251030151928.png)

### รายการปัจจุบัน (Current Record)

รายการ (record) หมายถึงแถวในคอลเลกชันครับ/ค่ะ โดยแต่ละแถวจะแทนข้อมูลหนึ่งรายการ ตัวแปร "รายการปัจจุบัน" จะมีให้ใช้งานใน**กฎการเชื่อมโยงสำหรับการดำเนินการกับแถว**ของบล็อกประเภทการแสดงผล

ตัวอย่าง: ปิดใช้งานปุ่มลบสำหรับเอกสารที่ "ชำระเงินแล้ว"

![20251027120217](https://static-docs.nocobase.com/20251027120217.png)

### รายการในป๊อปอัปปัจจุบัน (Current Popup Record)

การดำเนินการด้วยป๊อปอัปมีบทบาทสำคัญมากในการตั้งค่าส่วนติดต่อผู้ใช้ของ NocoBase ครับ/ค่ะ

- ป๊อปอัปสำหรับการดำเนินการกับแถว: ป๊อปอัปแต่ละอันจะมีตัวแปร "รายการในป๊อปอัปปัจจุบัน" ซึ่งแสดงถึงรายการแถวปัจจุบัน
- ป๊อปอัปสำหรับฟิลด์ความสัมพันธ์: ป๊อปอัปแต่ละอันจะมีตัวแปร "รายการในป๊อปอัปปัจจุบัน" ซึ่งแสดงถึงรายการความสัมพันธ์ที่ถูกคลิกในปัจจุบัน

บล็อกภายในป๊อปอัปสามารถใช้ตัวแปร "รายการในป๊อปอัปปัจจุบัน" นี้ได้ครับ/ค่ะ โดยมีสถานการณ์การใช้งานที่เกี่ยวข้องดังนี้:

- การกำหนดขอบเขตข้อมูลของบล็อก
- การกำหนดขอบเขตข้อมูลของฟิลด์ความสัมพันธ์
- การกำหนดค่าเริ่มต้นสำหรับฟิลด์ (ในฟอร์มสำหรับเพิ่มข้อมูลใหม่)
- การกำหนดกฎการเชื่อมโยงสำหรับการดำเนินการ

### พารามิเตอร์ URL Query (URL Query Parameters)

ตัวแปรนี้จะแสดงพารามิเตอร์ Query ที่อยู่ใน URL ของหน้าปัจจุบันครับ/ค่ะ ตัวแปรนี้จะใช้งานได้ก็ต่อเมื่อมี Query String อยู่ใน URL ของหน้านั้นๆ เท่านั้น การใช้งานร่วมกับ [การดำเนินการลิงก์](/interface-builder/actions/types/link) จะช่วยให้สะดวกยิ่งขึ้นครับ/ค่ะ

![20251027173017](https://static-docs.nocobase.com/20251027173017.png)

![20251027173121](https://static-docs.nocobase.com/20251027173121.png)

### API Token

ค่าของตัวแปรนี้เป็นสตริงครับ/ค่ะ ซึ่งเป็นข้อมูลรับรองสำหรับเข้าถึง NocoBase API และสามารถใช้เพื่อยืนยันตัวตนของผู้ใช้ได้

### ประเภทอุปกรณ์ปัจจุบัน (Current Device Type)

ตัวอย่าง: ไม่แสดงการดำเนินการ "พิมพ์เทมเพลต" บนอุปกรณ์ที่ไม่ใช่คอมพิวเตอร์ครับ/ค่ะ

![20251029215303](https://static-docs.nocobase.com/20251029215303.png)