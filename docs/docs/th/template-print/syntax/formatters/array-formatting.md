:::tip
เอกสารนี้แปลโดย AI หากมีข้อมูลที่ไม่ถูกต้อง โปรดดู[เวอร์ชันภาษาอังกฤษ](/en)
:::


### การจัดรูปแบบอาร์เรย์ (Array Formatting)

#### 1. `:arrayJoin(separator, index, count)`

##### คำอธิบายไวยากรณ์
ใช้สำหรับรวมอาร์เรย์ของสตริงหรือตัวเลขเข้าด้วยกันให้เป็นสตริงเดียวครับ/ค่ะ

พารามิเตอร์:
- `separator`: ตัวคั่น (ค่าเริ่มต้นคือเครื่องหมายจุลภาค `,`)
- `index`: (ไม่บังคับ) ดัชนีเริ่มต้นที่จะใช้ในการรวม
- `count`: (ไม่บังคับ) จำนวนรายการที่จะรวม โดยเริ่มจาก `index` (สามารถเป็นค่าลบได้ ซึ่งหมายถึงการนับจากท้ายสุด)

##### ตัวอย่าง
```
['homer','bart','lisa']:arrayJoin()              // ผลลัพธ์คือ "homer, bart, lisa"
['homer','bart','lisa']:arrayJoin(' | ')          // ผลลัพธ์คือ "homer | bart | lisa"
['homer','bart','lisa']:arrayJoin('')              // ผลลัพธ์คือ "homerbartlisa"
[10,50]:arrayJoin()                               // ผลลัพธ์คือ "10, 50"
[]:arrayJoin()                                    // ผลลัพธ์คือ ""
null:arrayJoin()                                  // ผลลัพธ์คือ null
{}:arrayJoin()                                    // ผลลัพธ์คือ {}
20:arrayJoin()                                    // ผลลัพธ์คือ 20
undefined:arrayJoin()                             // ผลลัพธ์คือ undefined
['homer','bart','lisa']:arrayJoin('', 1)          // ผลลัพธ์คือ "bartlisa"
['homer','bart','lisa']:arrayJoin('', 1, 1)       // ผลลัพธ์คือ "bart"
['homer','bart','lisa']:arrayJoin('', 1, 2)       // ผลลัพธ์คือ "bartlisa"
['homer','bart','lisa']:arrayJoin('', 0, -1)      // ผลลัพธ์คือ "homerbart"
```

##### ผลลัพธ์
ผลลัพธ์ที่ได้คือสตริงที่เกิดจากการรวมองค์ประกอบในอาร์เรย์ตามพารามิเตอร์ที่ระบุครับ/ค่ะ

#### 2. `:arrayMap(objSeparator, attSeparator, attributes)`

##### คำอธิบายไวยากรณ์
ใช้สำหรับแปลงอาร์เรย์ของอ็อบเจกต์ให้เป็นสตริง โดยจะไม่ประมวลผลอ็อบเจกต์หรืออาร์เรย์ที่ซ้อนกันอยู่ครับ/ค่ะ

พารามิเตอร์:
- `objSeparator`: ตัวคั่นระหว่างอ็อบเจกต์ (ค่าเริ่มต้นคือ `, `)
- `attSeparator`: ตัวคั่นระหว่างแอตทริบิวต์ของอ็อบเจกต์ (ค่าเริ่มต้นคือ `:`)
- `attributes`: (ไม่บังคับ) รายการแอตทริบิวต์ของอ็อบเจกต์ที่ต้องการให้แสดงผล

##### ตัวอย่าง
```
[{'id':2,'name':'homer'},{'id':3,'name':'bart'}]:arrayMap()
// ผลลัพธ์คือ "2:homer, 3:bart"

[{'id':2,'name':'homer'},{'id':3,'name':'bart'}]:arrayMap(' - ')
// ผลลัพธ์คือ "2:homer - 3:bart"

[{'id':2,'name':'homer'},{'id':3,'name':'bart'}]:arrayMap(' ; ', '|')
// ผลลัพธ์คือ "2|homer ; 3|bart"

[{'id':2,'name':'homer'},{'id':3,'name':'bart'}]:arrayMap(' ; ', '|', 'id')
// ผลลัพธ์คือ "2 ; 3"

[{'id':2,'name':'homer','obj':{'id':20},'arr':[12,23]}]:arrayMap()
// ผลลัพธ์คือ "2:homer"

['homer','bart','lisa']:arrayMap()    // ผลลัพธ์คือ "homer, bart, lisa"
[10,50]:arrayMap()                    // ผลลัพธ์คือ "10, 50"
[]:arrayMap()                         // ผลลัพธ์คือ ""
null:arrayMap()                       // ผลลัพธ์คือ null
{}:arrayMap()                         // ผลลัพธ์คือ {}
20:arrayMap()                         // ผลลัพธ์คือ 20
undefined:arrayMap()                  // ผลลัพธ์คือ undefined
```

##### ผลลัพธ์
ผลลัพธ์ที่ได้คือสตริงที่เกิดจากการแมปและรวมองค์ประกอบในอาร์เรย์ โดยจะละเว้นเนื้อหาของอ็อบเจกต์ที่ซ้อนกันอยู่ครับ/ค่ะ

#### 3. `:count(start)`

##### คำอธิบายไวยากรณ์
ใช้สำหรับนับลำดับของแถวในอาร์เรย์และแสดงผลหมายเลขแถวปัจจุบันครับ/ค่ะ

ตัวอย่างเช่น:
```
{d[i].id:count()}
```
ไม่ว่าค่าของ `id` จะเป็นอะไรก็ตาม จะแสดงผลการนับแถวปัจจุบันเสมอครับ/ค่ะ

ตั้งแต่เวอร์ชัน v4.0.0 เป็นต้นไป ฟอร์แมตเตอร์นี้ได้ถูกแทนที่ด้วย `:cumCount` ภายในระบบแล้วครับ/ค่ะ

พารามิเตอร์:
- `start`: (ไม่บังคับ) ค่าเริ่มต้นสำหรับการนับ

##### ตัวอย่างและผลลัพธ์
เมื่อใช้งานจริง หมายเลขแถวที่แสดงผลจะเรียงตามลำดับขององค์ประกอบในอาร์เรย์ครับ/ค่ะ