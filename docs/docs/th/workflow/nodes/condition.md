:::tip
เอกสารนี้แปลโดย AI หากมีข้อมูลที่ไม่ถูกต้อง โปรดดู[เวอร์ชันภาษาอังกฤษ](/en)
:::


# เงื่อนไข

## บทนำ

คล้ายกับคำสั่ง `if` ในภาษาโปรแกรมครับ/ค่ะ โหนดนี้จะกำหนดทิศทางการทำงานของ เวิร์กโฟลว์ ถัดไป โดยอิงจากผลลัพธ์ของการตรวจสอบเงื่อนไขที่เราตั้งค่าไว้

## การสร้างโหนด

โหนดเงื่อนไขมีสองโหมดครับ/ค่ะ ได้แก่ "ดำเนินการต่อเมื่อเป็นจริง" และ "แยกสาขาเมื่อเป็นจริง/เท็จ" คุณต้องเลือกโหมดใดโหมดหนึ่งเมื่อสร้างโหนด และจะไม่สามารถเปลี่ยนแปลงได้ในการตั้งค่าโหนดในภายหลัง

![การเลือกโหมดของเงื่อนไข](https://static-docs.nocobase.com/3de27308c1179523d8606c66bf3a5fb4.png)

ในโหมด "ดำเนินการต่อเมื่อเป็นจริง" ครับ/ค่ะ เมื่อผลลัพธ์ของเงื่อนไขเป็น "จริง" เวิร์กโฟลว์จะดำเนินการต่อเพื่อรันโหนดถัดไป มิฉะนั้น เวิร์กโฟลว์จะหยุดทำงานและจะสิ้นสุดลงก่อนกำหนดด้วยสถานะล้มเหลว

![โหมด "ดำเนินการต่อเมื่อเป็นจริง"](https://static-docs.nocobase.com/0f6ae1afe61d501f8eb1f6dedb3d4ad7.png)

โหมดนี้เหมาะสำหรับสถานการณ์ที่ เวิร์กโฟลว์ ไม่ควรดำเนินการต่อ หากเงื่อนไขไม่เป็นไปตามที่กำหนดครับ/ค่ะ ตัวอย่างเช่น ปุ่มส่งฟอร์มสำหรับส่งคำสั่งซื้อที่ผูกกับ "เหตุการณ์ก่อนการดำเนินการ" (Before action event) หากสินค้าในคำสั่งซื้อมีสต็อกไม่เพียงพอ กระบวนการสร้างคำสั่งซื้อจะไม่ดำเนินการต่อ แต่จะล้มเหลวและสิ้นสุดลงแทน

ในโหมด "แยกสาขาเมื่อเป็นจริง/เท็จ" ครับ/ค่ะ โหนดเงื่อนไขจะสร้างสองสาขาของ เวิร์กโฟลว์ ถัดไป ซึ่งจะสอดคล้องกับผลลัพธ์ของเงื่อนไขที่เป็น "จริง" และ "เท็จ" แต่ละสาขาของ เวิร์กโฟลว์ สามารถตั้งค่าโหนดถัดไปของตนเองได้ หลังจากสาขาใดสาขาหนึ่งดำเนินการเสร็จสิ้น ระบบจะรวมกลับเข้าสู่สาขาหลักของโหนดเงื่อนไขโดยอัตโนมัติ เพื่อดำเนินการรันโหนดถัดไป

![โหมด "แยกสาขาเมื่อเป็นจริง/เท็จ"](https://static-docs.nocobase.com/974a1fcd8603629b64ffce6c55d59282.png)

โหมดนี้เหมาะสำหรับสถานการณ์ที่ เวิร์กโฟลว์ จำเป็นต้องดำเนินการที่แตกต่างกันไป ขึ้นอยู่กับว่าเงื่อนไขเป็นจริงหรือไม่ครับ/ค่ะ ตัวอย่างเช่น การตรวจสอบว่ามีข้อมูลอยู่หรือไม่: หากไม่มีข้อมูล ให้สร้างข้อมูลใหม่; หากมีข้อมูลอยู่แล้ว ให้อัปเดตข้อมูลนั้น

## การตั้งค่าโหนด

### เอนจินคำนวณ

ปัจจุบันรองรับเอนจินสามประเภทครับ/ค่ะ:

-   **พื้นฐาน**: ใช้การคำนวณแบบไบนารีอย่างง่าย และการจัดกลุ่ม "AND" หรือ "OR" เพื่อให้ได้ผลลัพธ์เชิงตรรกะครับ/ค่ะ
-   **Math.js**: คำนวณนิพจน์ที่รองรับโดยเอนจิน [Math.js](https://mathjs.org/) เพื่อให้ได้ผลลัพธ์เชิงตรรกะครับ/ค่ะ
-   **Formula.js**: คำนวณนิพจน์ที่รองรับโดยเอนจิน [Formula.js](https://formulajs.info/) เพื่อให้ได้ผลลัพธ์เชิงตรรกะครับ/ค่ะ

ในการคำนวณทั้งสามประเภทนี้ คุณสามารถใช้ตัวแปรจากบริบทของ เวิร์กโฟลว์ เป็นพารามิเตอร์ได้ครับ/ค่ะ