:::tip إشعار الترجمة بالذكاء الاصطناعي
تمت ترجمة هذه الوثائق تلقائيًا بواسطة الذكاء الاصطناعي.
:::

# نظرة عامة

## مقدمة

تُستخدم محركات التخزين لحفظ الملفات في خدمات معينة، مثل التخزين المحلي (الحفظ على القرص الصلب للخادم) والتخزين السحابي وغيرها.

قبل رفع أي ملفات، يجب عليك أولاً تهيئة محرك تخزين. يقوم النظام تلقائيًا بإضافة محرك تخزين محلي عند التثبيت، ويمكن استخدامه مباشرة. يمكنك أيضًا إضافة محركات جديدة أو تعديل معلمات المحركات الموجودة.

## أنواع محركات التخزين

حاليًا، تدعم NocoBase الأنواع التالية من محركات التخزين المدمجة:

- [التخزين المحلي](./local)
- [Amazon S3](./amazon-s3)
- [Aliyun OSS](./aliyun-oss)
- [Tencent COS](./tencent-cos)
- [S3 Pro](./s3-pro)

يقوم النظام تلقائيًا بإضافة محرك تخزين محلي عند التثبيت، ويمكن استخدامه مباشرة. يمكنك أيضًا إضافة محركات جديدة أو تعديل معلمات المحركات الموجودة.

## المعلمات العامة

بالإضافة إلى المعلمات الخاصة بكل نوع محرك، توجد المعلمات العامة التالية (مع استخدام التخزين المحلي كمثال):

![مثال على تهيئة محرك تخزين الملفات](https://static-docs.nocobase.com/20240529115151.png)

### العنوان

اسم محرك التخزين، يستخدم للتعرف البشري.

### اسم النظام

اسم النظام لمحرك التخزين، يستخدم للتعرف من قبل النظام. يجب أن يكون فريدًا على مستوى النظام. إذا تُرك فارغًا، سيقوم النظام بتوليد اسم عشوائي تلقائيًا.

### بادئة عنوان URL العام

الجزء البادئ من عنوان URL الذي يمكن الوصول إليه علنًا للملف. يمكن أن يكون عنوان URL الأساسي لشبكة توصيل المحتوى (CDN)، مثل: "`https://cdn.nocobase.com/app`" (لا يتطلب علامة "/" في النهاية).

### المسار

المسار النسبي المستخدم عند تخزين الملفات. سيتم إلحاق هذا الجزء تلقائيًا بعنوان URL النهائي عند الوصول. على سبيل المثال: "`user/avatar`" (لا يتطلب علامة "/" في البداية أو النهاية).

### حد حجم الملف

الحد الأقصى لحجم الملفات التي يمكن رفعها إلى محرك التخزين هذا. لن تتمكن الملفات التي تتجاوز هذا الحجم من الرفع. الحد الافتراضي للنظام هو 20 ميجابايت، ويمكن تعديله بحد أقصى يصل إلى 1 جيجابايت.

### أنواع الملفات

يمكنك تقييد أنواع الملفات التي يمكن رفعها، باستخدام تنسيق وصف بناء جملة [MIME](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types). على سبيل المثال: `image/*` يمثل ملفات الصور. يمكن فصل أنواع متعددة بفاصلة إنجليزية، مثل: `image/*, application/pdf` الذي يسمح بملفات الصور وملفات PDF.

### محرك التخزين الافتراضي

عند تحديد هذا الخيار، يتم تعيينه كمحرك التخزين الافتراضي للنظام. عندما لا يحدد حقل المرفقات أو **مجموعة** الملفات محرك تخزين، سيتم حفظ الملفات المرفوعة في محرك التخزين الافتراضي. لا يمكن حذف محرك التخزين الافتراضي.

### الاحتفاظ بالملف عند حذف السجل

عند تحديد هذا الخيار، سيتم الاحتفاظ بالملف المرفوع في محرك التخزين حتى عند حذف سجل البيانات في جدول المرفقات أو **مجموعة** الملفات. بشكل افتراضي، لا يتم تحديد هذا الخيار، مما يعني أنه عند حذف السجل، سيتم حذف الملف الموجود في محرك التخزين معه أيضًا.

:::info{title=تلميح}
بعد رفع الملف، يتكون مسار الوصول النهائي من عدة أجزاء مجمعة:

```
<بادئة عنوان URL العام>/<المسار>/<اسم الملف><الامتداد>
```

على سبيل المثال: `https://cdn.nocobase.com/app/user/avatar/20240529115151.png`.
:::