---
pkg: '@nocobase/plugin-auth-saml'
---
:::tip إشعار الترجمة بالذكاء الاصطناعي
تمت ترجمة هذه الوثائق تلقائيًا بواسطة الذكاء الاصطناعي.
:::


# المصادقة: SAML 2.0

## مقدمة

تتبع إضافة المصادقة: SAML 2.0 معيار بروتوكول SAML 2.0 (Security Assertion Markup Language 2.0)، مما يتيح للمستخدمين تسجيل الدخول إلى NocoBase باستخدام الحسابات التي يوفرها موفرو خدمة المصادقة الخارجيون (IdP).

## تفعيل الإضافة

![](https://static-docs.nocobase.com/6a12f3d8073c47532a4f8aac900e4296.png)

## إضافة مصادقة SAML

انتقل إلى صفحة إدارة إضافات مصادقة المستخدم.

![](https://static-docs.nocobase.com/202411130004459.png)

إضافة - SAML

![](https://static-docs.nocobase.com/5076fe56086b7799be308bbaf7c4425d.png)

## الإعدادات

![](https://static-docs.nocobase.com/976b66e589973c322d81dcddd22c6146.png)

- `SSO URL` - يوفره موفر الهوية (IdP)، وهو عنوان URL المستخدم لتسجيل الدخول الموحد.
- `المفتاح العام (Public Certificate)` - يوفره موفر الهوية (IdP).
- `معرف الكيان (IdP Issuer)` - اختياري، يوفره موفر الهوية (IdP).
- `http` - حدد هذا الخيار إذا كان تطبيق NocoBase الخاص بك يستخدم بروتوكول http.
- `استخدام هذا الحقل لربط المستخدم` - الحقل المستخدم لمطابقة المستخدمين الحاليين وربطهم. يمكنك اختيار البريد الإلكتروني أو اسم المستخدم، الافتراضي هو البريد الإلكتروني. يجب أن تتضمن معلومات المستخدم التي يوفرها موفر الهوية (IdP) حقل `email` أو `username`.
- `التسجيل تلقائيًا عند عدم وجود المستخدم` - هل يتم إنشاء مستخدم جديد تلقائيًا عندما لا يتم العثور على مستخدم حالي مطابق للربط؟
- `الاستخدام` - يتم استخدام `SP Issuer / EntityID` و `ACS URL` لنسخها وملئها في الإعدادات المقابلة في موفر الهوية (IdP).

## تعيين الحقول

يجب تكوين تعيين الحقول على منصة إعدادات موفر الهوية (IdP). يمكنك الرجوع إلى [المثال](./examples/google.md).

الحقول المتاحة للتعيين في NocoBase هي:

- `email` (مطلوب)
- `phone` (يسري فقط على موفري الهوية الذين يدعمون `phone` في نطاقهم، مثل Alibaba Cloud و Feishu)
- `nickname`
- `username`
- `firstName`
- `lastName`

يتم تضمين `nameID` بواسطة بروتوكول SAML ولا يحتاج إلى تعيين، وسيتم حفظه كمعرف مستخدم فريد.
أولوية قاعدة استخدام اسم الشهرة للمستخدم الجديد هي: `nickname` > `firstName lastName` > `username` > `nameID`
لا يدعم النظام حاليًا تعيين تنظيم المستخدم أو أدواره.

## تسجيل الدخول

قم بزيارة صفحة تسجيل الدخول وانقر على الزر الموجود أسفل نموذج تسجيل الدخول لبدء تسجيل الدخول عبر طرف ثالث.

![](https://static-docs.nocobase.com/74963865c9d36a294948e6adeb5b24bc.png)