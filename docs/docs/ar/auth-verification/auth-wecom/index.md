---
pkg: '@nocobase/plugin-auth-wecom'
---
:::tip إشعار الترجمة بالذكاء الاصطناعي
تمت ترجمة هذه الوثائق تلقائيًا بواسطة الذكاء الاصطناعي.
:::


# المصادقة: WeCom

## مقدمة

تتيح **إضافة WeCom** للمستخدمين تسجيل الدخول إلى NocoBase باستخدام حساباتهم على WeCom.

## تفعيل الإضافة

![](https://static-docs.nocobase.com/202406272056962.png)

## إنشاء وتكوين تطبيق WeCom مخصص

انتقل إلى لوحة تحكم مسؤول WeCom لإنشاء تطبيق مخصص.

![](https://static-docs.nocobase.com/202406272101321.png)

![](https://static-docs.nocobase.com/202406272102087.png)

انقر على التطبيق للدخول إلى صفحة التفاصيل الخاصة به، ثم مرر لأسفل الصفحة، وانقر على "تسجيل الدخول المصرح به من WeCom".

![](https://static-docs.nocobase.com/202406272104655.png)

عيّن نطاق رد الاتصال المصرح به ليكون نطاق تطبيق NocoBase الخاص بك.

![](https://static-docs.nocobase.com/202406272105662.png)

ارجع إلى صفحة تفاصيل التطبيق وانقر على "تفويض الويب و JS-SDK".

![](https://static-docs.nocobase.com/202406272107063.png)

عيّن وتحقق من نطاق رد الاتصال لميزة تفويض الويب OAuth2.0 للتطبيق.

![](https://static-docs.nocobase.com/202406272107899.png)

في صفحة تفاصيل التطبيق، انقر على "IP موثوق به للشركة".

![](https://static-docs.nocobase.com/202406272108834.png)

كوّن عنوان IP لتطبيق NocoBase.

![](https://static-docs.nocobase.com/202406272109805.png)

## الحصول على بيانات الاعتماد من لوحة تحكم مسؤول WeCom

في لوحة تحكم مسؤول WeCom، ضمن "شركتي"، انسخ "معرف الشركة".

![](https://static-docs.nocobase.com/202406272111637.png)

في لوحة تحكم مسؤول WeCom، ضمن "إدارة التطبيقات"، انتقل إلى صفحة تفاصيل التطبيق الذي أنشأته في الخطوة السابقة وانسخ AgentId و Secret.

![](https://static-docs.nocobase.com/202406272122322.png)

## إضافة مصادقة WeCom في NocoBase

انتقل إلى صفحة إدارة إضافة مصادقة المستخدم.

![](https://static-docs.nocobase.com/202406272115044.png)

إضافة - WeCom

![](https://static-docs.nocobase.com/202406272115805.png)

### التكوين

![](https://static-docs.nocobase.com/202412041459250.png)

| الخيار                                                                                                | الوصف                                                                                                                                                                                   | متطلبات الإصدار |
| :---------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------------- |
| When a phone number does not match an existing user, <br />should a new user be created automatically | عندما لا يتطابق رقم هاتف مع مستخدم موجود، هل يجب إنشاء مستخدم جديد تلقائيًا؟                                                                                                             | -               |
| Company ID                                                                                            | معرف الشركة، يتم الحصول عليه من لوحة تحكم مسؤول WeCom.                                                                                                                                  | -               |
| AgentId                                                                                               | يتم الحصول عليه من تكوين التطبيق المخصص في لوحة تحكم مسؤول WeCom.                                                                                                                       | -               |
| Secret                                                                                                | يتم الحصول عليه من تكوين التطبيق المخصص في لوحة تحكم مسؤول WeCom.                                                                                                                       | -               |
| Origin                                                                                                | نطاق التطبيق الحالي.                                                                                                                                                                    | -               |
| Workbench application redirect link                                                                   | مسار التطبيق الذي يتم إعادة التوجيه إليه بعد تسجيل الدخول بنجاح.                                                                                                                         | `v1.4.0`        |
| Automatic login                                                                                       | تسجيل الدخول تلقائيًا عند فتح رابط التطبيق في متصفح WeCom. عند تكوين عدة مصادقات WeCom، يمكن تمكين هذا الخيار لواحدة فقط.                                                               | `v1.4.0`        |
| Workbench application homepage link                                                                   | رابط الصفحة الرئيسية لتطبيق سطح العمل.                                                                                                                                                   | -               |

## تكوين الصفحة الرئيسية لتطبيق WeCom

:::info
بالنسبة للإصدارات `v1.4.0` وما فوق، عند تمكين خيار "تسجيل الدخول التلقائي"، يمكن تبسيط رابط الصفحة الرئيسية للتطبيق إلى: `https://<url>/<path>`، على سبيل المثال، `https://example.nocobase.com/admin`.

يمكنك أيضًا تكوين روابط منفصلة للجوال وسطح المكتب، على سبيل المثال، `https://example.nocobase.com/m` و `https://example.nocobase.com/admin`.
:::

انتقل إلى لوحة تحكم مسؤول WeCom والصق رابط الصفحة الرئيسية لتطبيق سطح العمل الذي نسخته في حقل عنوان الصفحة الرئيسية للتطبيق المقابل.

![](https://static-docs.nocobase.com/202406272123631.png)

![](https://static-docs.nocobase.com/202406272123048.png)

## تسجيل الدخول

زر صفحة تسجيل الدخول وانقر على الزر الموجود أسفل نموذج تسجيل الدخول لبدء تسجيل الدخول عبر طرف ثالث.

![](https://static-docs.nocobase.com/202406272124608.png)

:::warning
نظرًا لقيود أذونات WeCom على المعلومات الحساسة مثل أرقام الهواتف، لا يمكن إكمال التفويض إلا داخل عميل WeCom. عند تسجيل الدخول باستخدام WeCom للمرة الأولى، يرجى اتباع الخطوات أدناه لإكمال تفويض تسجيل الدخول الأولي داخل عميل WeCom.
:::

## تسجيل الدخول لأول مرة

من عميل WeCom، انتقل إلى سطح العمل، ثم مرر إلى الأسفل، وانقر على التطبيق للدخول إلى الصفحة الرئيسية التي قمت بتكوينها مسبقًا. سيؤدي ذلك إلى إكمال التفويض الأولي، وبعد ذلك يمكنك استخدام WeCom لتسجيل الدخول إلى تطبيق NocoBase الخاص بك.

<img src="https://static-docs.nocobase.com/202406272131113.png" width="400" />