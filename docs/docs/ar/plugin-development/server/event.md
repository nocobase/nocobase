:::tip Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„ØªØ±Ø¬Ù…Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
ØªÙ…Øª ØªØ±Ø¬Ù…Ø© Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ.
:::

# Ø§Ù„Ø­Ø¯Ø«

ÙŠÙØ·Ù„Ù‚ Ø®Ø§Ø¯Ù… NocoBase Ø£Ø­Ø¯Ø§Ø«Ù‹Ø§ (Events) Ù…ØªÙ†Ø§Ø³Ø¨Ø© Ø®Ù„Ø§Ù„ Ù…Ø±Ø§Ø­Ù„ Ø¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ØŒ ÙˆØ¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© Ø§Ù„Ø¥Ø¶Ø§ÙØ§ØªØŒ ÙˆØ¹Ù…Ù„ÙŠØ§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. ÙŠÙ…ÙƒÙ† Ù„Ù…Ø·ÙˆØ±ÙŠ Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¥Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„ØªÙ†ÙÙŠØ° Ù…Ù†Ø·Ù‚ Ø§Ù„ØªÙˆØ³Ø¹ØŒ Ø£Ùˆ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø¤ØªÙ…ØªØ©ØŒ Ø£Ùˆ Ø§Ù„Ø³Ù„ÙˆÙƒÙŠØ§Øª Ø§Ù„Ù…Ø®ØµØµØ©.

ÙŠÙ†Ù‚Ø³Ù… Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ÙÙŠ NocoBase Ø¨Ø´ÙƒÙ„ Ø£Ø³Ø§Ø³ÙŠ Ø¥Ù„Ù‰ Ù…Ø³ØªÙˆÙŠÙŠÙ†:

- **`app.on()` - Ø£Ø­Ø¯Ø§Ø« Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚**: Ù„Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¥Ù„Ù‰ Ø£Ø­Ø¯Ø§Ø« Ø¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ØŒ Ù…Ø«Ù„ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„ØŒ ÙˆØ§Ù„ØªØ«Ø¨ÙŠØªØŒ ÙˆØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙØ§ØªØŒ ÙˆÙ…Ø§ Ø¥Ù„Ù‰ Ø°Ù„Ùƒ.
- **`db.on()` - Ø£Ø­Ø¯Ø§Ø« Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**: Ù„Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¥Ù„Ù‰ Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ù…Ø«Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø£Ùˆ ØªØ­Ø¯ÙŠØ«Ù‡Ø§ Ø£Ùˆ Ø­Ø°ÙÙ‡Ø§.

ÙŠØ±Ø« ÙƒÙ„Ø§Ù‡Ù…Ø§ Ù…Ù† `EventEmitter` Ø§Ù„Ø®Ø§Øµ Ø¨Ù€ Node.jsØŒ ÙˆÙŠØ¯Ø¹Ù…Ø§Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ© `.on()` Ùˆ`.off()` Ùˆ`.emit()`. ÙƒÙ…Ø§ ÙˆØ³Ø¹Øª NocoBase Ø¯Ø¹Ù…Ù‡Ø§ Ù„ÙŠØ´Ù…Ù„ `emitAsync`ØŒ ÙˆØ§Ù„Ø°ÙŠ ÙŠÙØ³ØªØ®Ø¯Ù… Ù„Ø¥Ø·Ù„Ø§Ù‚ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø¨Ø´ÙƒÙ„ ØºÙŠØ± Ù…ØªØ²Ø§Ù…Ù† ÙˆØ§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø­ØªÙ‰ ÙŠÙƒÙ…Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªÙ…Ø¹ÙŠÙ† ØªÙ†ÙÙŠØ°Ù‡Ù….

## Ø£ÙŠÙ† ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«

ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø¹Ø§Ø¯Ø©Ù‹ ÙÙŠ Ø¯Ø§Ù„Ø© `beforeLoad()` Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ©ØŒ ÙˆÙ‡Ø°Ø§ ÙŠØ¶Ù…Ù† Ø£Ù† Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø¬Ø§Ù‡Ø²Ø© Ø®Ù„Ø§Ù„ Ù…Ø±Ø­Ù„Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙØ©ØŒ ÙˆØ£Ù† Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„Ù„Ø§Ø­Ù‚ ÙŠÙ…ÙƒÙ†Ù‡ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­.

```ts
import { Plugin } from '@nocobase/server';

export default class PluginHelloServer extends Plugin {
  async beforeLoad() {

    // Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¥Ù„Ù‰ Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    this.app.on('afterStart', () => {
      app.logger.info('NocoBase Ø¨Ø¯Ø£ Ø§Ù„ØªØ´ØºÙŠÙ„');
    });

    // Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¥Ù„Ù‰ Ø£Ø­Ø¯Ø§Ø« Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    this.db.on('afterCreate', (model) => {
      if (model.collectionName === 'posts') {
        app.logger.info(`Ù…Ù†Ø´ÙˆØ± Ø¬Ø¯ÙŠØ¯: ${model.get('title')}`);
      }
    });
  }
}
```

## Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¥Ù„Ù‰ Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ `app.on()`

ØªÙØ³ØªØ®Ø¯Ù… Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„Ø§Ù„ØªÙ‚Ø§Ø· ØªØºÙŠÙŠØ±Ø§Øª Ø¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© ØªØ·Ø¨ÙŠÙ‚ NocoBase ÙˆØ§Ù„Ø¥Ø¶Ø§ÙØ§ØªØŒ ÙˆÙ‡ÙŠ Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„ØªÙ‡ÙŠØ¦Ø©ØŒ ÙˆØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ØŒ Ø£Ùˆ Ø§ÙƒØªØ´Ø§Ù ØªØ¨Ø¹ÙŠØ§Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ§ØªØŒ ÙˆÙ…Ø§ Ø¥Ù„Ù‰ Ø°Ù„Ùƒ.

### Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©

| Ø§Ø³Ù… Ø§Ù„Ø­Ø¯Ø« | ÙˆÙ‚Øª Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚ | Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ÙŠØ© |
|-----------|------------|-----------|
| `beforeLoad` / `afterLoad` | Ù‚Ø¨Ù„ / Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ | ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ØŒ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª |
| `beforeStart` / `afterStart` | Ù‚Ø¨Ù„ / Ø¨Ø¹Ø¯ Ø¨Ø¯Ø¡ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø© | Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ù‡Ø§Ù…ØŒ Ø·Ø¨Ø§Ø¹Ø© Ø³Ø¬Ù„Ø§Øª Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„ |
| `beforeInstall` / `afterInstall` | Ù‚Ø¨Ù„ / Ø¨Ø¹Ø¯ ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ | ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ |
| `beforeStop` / `afterStop` | Ù‚Ø¨Ù„ / Ø¨Ø¹Ø¯ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø®Ø¯Ù…Ø© | ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ØŒ Ø­ÙØ¸ Ø§Ù„Ø­Ø§Ù„Ø© |
| `beforeDestroy` / `afterDestroy` | Ù‚Ø¨Ù„ / Ø¨Ø¹Ø¯ ØªØ¯Ù…ÙŠØ± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ | Ø­Ø°Ù Ø°Ø§ÙƒØ±Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚ØªØŒ Ù‚Ø·Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª |
| `beforeLoadPlugin` / `afterLoadPlugin` | Ù‚Ø¨Ù„ / Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙØ© | ØªØ¹Ø¯ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø£Ùˆ ØªÙˆØ³ÙŠØ¹ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù |
| `beforeEnablePlugin` / `afterEnablePlugin` | Ù‚Ø¨Ù„ / Ø¨Ø¹Ø¯ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙØ© | Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ¨Ø¹ÙŠØ§ØªØŒ ØªÙ‡ÙŠØ¦Ø© Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¥Ø¶Ø§ÙØ© |
| `beforeDisablePlugin` / `afterDisablePlugin` | Ù‚Ø¨Ù„ / Ø¨Ø¹Ø¯ ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙØ© | ØªÙ†Ø¸ÙŠÙ Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¥Ø¶Ø§ÙØ© |
| `afterUpgrade` | Ø¨Ø¹Ø¯ Ø§ÙƒØªÙ…Ø§Ù„ ØªØ±Ù‚ÙŠØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ | ØªÙ†ÙÙŠØ° ØªØ±Ø­ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ùˆ Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø§Ù„ØªÙˆØ§ÙÙ‚ |

Ù…Ø«Ø§Ù„: Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¥Ù„Ù‰ Ø­Ø¯Ø« Ø¨Ø¯Ø¡ ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚

```ts
app.on('afterStart', async () => {
  app.logger.info('ðŸš€ Ø®Ø¯Ù…Ø© NocoBase Ø¨Ø¯Ø£Øª Ø§Ù„ØªØ´ØºÙŠÙ„!');
});
```

Ù…Ø«Ø§Ù„: Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¥Ù„Ù‰ Ø­Ø¯Ø« ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙØ©

```ts
app.on('afterLoadPlugin', ({ plugin }) => {
  app.logger.info(`ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙØ© ${plugin.name}`);
});
```

## Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¥Ù„Ù‰ Ø£Ø­Ø¯Ø§Ø« Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª `db.on()`

ÙŠÙ…ÙƒÙ† Ù„Ø£Ø­Ø¯Ø§Ø« Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ‚Ø§Ø· ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ© Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ØŒ ÙˆÙ‡ÙŠ Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚ØŒ ÙˆØ§Ù„Ù…Ø²Ø§Ù…Ù†Ø©ØŒ ÙˆØ§Ù„ØªØ¹Ø¨Ø¦Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©ØŒ ÙˆØºÙŠØ±Ù‡Ø§.

### Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©

| Ø§Ø³Ù… Ø§Ù„Ø­Ø¯Ø« | ÙˆÙ‚Øª Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚ |
|-----------|------------|
| `beforeSync` / `afterSync` | Ù‚Ø¨Ù„ / Ø¨Ø¹Ø¯ Ù…Ø²Ø§Ù…Ù†Ø© Ù‡ÙŠÙƒÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª |
| `beforeValidate` / `afterValidate` | Ù‚Ø¨Ù„ / Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª |
| `beforeCreate` / `afterCreate` | Ù‚Ø¨Ù„ / Ø¨Ø¹Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø³Ø¬Ù„Ø§Øª |
| `beforeUpdate` / `afterUpdate` | Ù‚Ø¨Ù„ / Ø¨Ø¹Ø¯ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¬Ù„Ø§Øª |
| `beforeSave` / `afterSave` | Ù‚Ø¨Ù„ / Ø¨Ø¹Ø¯ Ø§Ù„Ø­ÙØ¸ (ÙŠØ´Ù…Ù„ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ«) |
| `beforeDestroy` / `afterDestroy` | Ù‚Ø¨Ù„ / Ø¨Ø¹Ø¯ Ø­Ø°Ù Ø§Ù„Ø³Ø¬Ù„Ø§Øª |
| `afterCreateWithAssociations` / `afterUpdateWithAssociations` / `afterSaveWithAssociations` | Ø¨Ø¹Ø¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªÙŠ ØªØªØ¶Ù…Ù† Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø±ØªØ¨Ø·Ø© |
| `beforeDefineCollection` / `afterDefineCollection` | Ù‚Ø¨Ù„ / Ø¨Ø¹Ø¯ ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© |
| `beforeRemoveCollection` / `afterRemoveCollection` | Ù‚Ø¨Ù„ / Ø¨Ø¹Ø¯ Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© |

Ù…Ø«Ø§Ù„: Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¥Ù„Ù‰ Ø­Ø¯Ø« Ù…Ø§ Ø¨Ø¹Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```ts
db.on('afterCreate', async (model, options) => {
  db.logger.info('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª!');
});
```

Ù…Ø«Ø§Ù„: Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¥Ù„Ù‰ Ø­Ø¯Ø« Ù…Ø§ Ù‚Ø¨Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```ts
db.on('beforeUpdate', async (model, options) => {
  db.logger.info('Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù„Ù‰ ÙˆØ´Ùƒ Ø§Ù„ØªØ­Ø¯ÙŠØ«!');
});
```