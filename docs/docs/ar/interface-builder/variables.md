:::tip إشعار الترجمة بالذكاء الاصطناعي
تمت ترجمة هذه الوثائق تلقائيًا بواسطة الذكاء الاصطناعي.
:::

# المتغيرات

## مقدمة

المتغيرات هي مجموعة من الرموز التي تُستخدم لتحديد قيمة معينة في السياق الحالي. يمكن استخدامها في سيناريوهات متعددة مثل تحديد نطاقات بيانات الكتل، والقيم الافتراضية للحقول، وقواعد الربط، و سير العمل.

![20251030114458](https://static-docs.nocobase.com/20251030114458.png)

## المتغيرات المدعومة حالياً

### المستخدم الحالي

يمثل بيانات المستخدم الذي سجل الدخول حالياً.

![20240416154950](https://static-docs.nocobase.com/20240416154950.png)

### الدور الحالي

يمثل معرف الدور (role name) للمستخدم الذي سجل الدخول حالياً.

![20240416155100](https://static-docs.nocobase.com/20240416155100.png)

### النموذج الحالي

قيم النموذج الحالي، تُستخدم فقط في كتل النماذج. تشمل حالات الاستخدام ما يلي:

- قواعد الربط للنموذج الحالي
- القيم الافتراضية لحقول النموذج (فعالة فقط عند إضافة بيانات جديدة)
- إعدادات نطاق البيانات لحقول الارتباط
- إعدادات تعيين قيمة الحقل لإجراءات الإرسال

#### قواعد الربط للنموذج الحالي

![20251027114920](https://static-docs.nocobase.com/20251027114920.png)

#### القيم الافتراضية لحقول النموذج (نموذج الإضافة فقط)

![20251027115016](https://static-docs.nocobase.com/20251027115016.png)

#### إعدادات نطاق البيانات لحقول الارتباط

تُستخدم لتصفية الخيارات المتاحة للحقل التابع ديناميكياً بناءً على حقل سابق، مما يضمن دقة إدخال البيانات.

**مثال:**

1.  يحدد المستخدم قيمة لحقل **Owner** (المالك).
2.  يقوم النظام تلقائياً بتصفية خيارات حقل **Account** (الحساب) بناءً على **userName** (اسم المستخدم) للمالك المحدد.

![20251030151928](https://static-docs.nocobase.com/20251030151928.png)

### السجل الحالي

يشير السجل إلى صف في مجموعة (Collection)، حيث يمثل كل صف سجلاً واحداً. يتوفر متغير "السجل الحالي" في **قواعد الربط لإجراءات الصفوف** في الكتل من نوع العرض.

مثال: تعطيل زر الحذف للمستندات "المدفوعة".

![20251027120217](https://static-docs.nocobase.com/20251027120217.png)

### سجل النافذة المنبثقة الحالي

تلعب إجراءات النوافذ المنبثقة دوراً مهماً جداً في إعدادات واجهة NocoBase.

-   النافذة المنبثقة لإجراءات الصفوف: تحتوي كل نافذة منبثقة على متغير "سجل النافذة المنبثقة الحالي" الذي يمثل سجل الصف الحالي.
-   النافذة المنبثقة لحقول الارتباط: تحتوي كل نافذة منبثقة على متغير "سجل النافذة المنبثقة الحالي" الذي يمثل سجل الارتباط الذي تم النقر عليه حالياً.

يمكن للكتل داخل النافذة المنبثقة استخدام متغير "سجل النافذة المنبثقة الحالي". تشمل حالات الاستخدام ذات الصلة ما يلي:

-   تهيئة نطاق بيانات الكتلة
-   تهيئة نطاق بيانات حقل الارتباط
-   تهيئة القيم الافتراضية للحقول (في نموذج إضافة بيانات جديدة)
-   تهيئة قواعد الربط للإجراءات

### معلمات استعلام URL

يمثل هذا المتغير معلمات الاستعلام في عنوان URL للصفحة الحالية. يكون متاحاً فقط عندما يوجد سلسلة استعلام في عنوان URL للصفحة. يكون استخدامه أكثر ملاءمة بالاقتران مع [إجراء الارتباط](/interface-builder/actions/types/link).

![20251027173017](https://static-docs.nocobase.com/20251027173017.png)

![20251027173121](https://static-docs.nocobase.com/20251027173121.png)

### رمز API

قيمة هذا المتغير هي سلسلة نصية (string)، وهي بيانات اعتماد تُستخدم للوصول إلى واجهة برمجة تطبيقات NocoBase (API). يمكن استخدامها للتحقق من هوية المستخدم.

### نوع الجهاز الحالي

مثال: عدم عرض إجراء "طباعة القالب" على الأجهزة غير المكتبية.

![20251029215303](https://static-docs.nocobase.com/20251029215303.png)