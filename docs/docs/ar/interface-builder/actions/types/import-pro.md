---
pkg: "@nocobase/plugin-action-import-pro"
---
:::tip إشعار الترجمة بالذكاء الاصطناعي
تمت ترجمة هذه الوثائق تلقائيًا بواسطة الذكاء الاصطناعي.
:::

# استيراد احترافي

## مقدمة

توفر إضافة الاستيراد الاحترافي ميزات محسّنة تتجاوز وظائف الاستيراد القياسية.

## التثبيت

تعتمد هذه الإضافة على إضافة إدارة المهام غير المتزامنة. يجب تمكين إضافة إدارة المهام غير المتزامنة قبل استخدامها.

## تحسينات الميزات

![20251029172052](https://static-docs.nocobase.com/20251029172052.png)

- يدعم عمليات الاستيراد غير المتزامنة، التي تُنفّذ في مسار (thread) منفصل، ويدعم استيراد كميات كبيرة من البيانات.

![20251029172129](https://static-docs.nocobase.com/20251029172129.png)

- يدعم خيارات الاستيراد المتقدمة.

## دليل المستخدم

### الاستيراد غير المتزامن

بعد تنفيذ عملية استيراد، ستُنفّذ العملية في مسار خلفي منفصل دون الحاجة إلى تهيئة يدوية من المستخدم. في واجهة المستخدم، بعد بدء عملية الاستيراد، ستظهر مهمة الاستيراد الجارية في الزاوية العلوية اليمنى، مع عرض التقدم في الوقت الفعلي.

![index-2024-12-30-09-21-05](https://static-docs.nocobase.com/index-2024-12-30-09-21-05.png)

بعد اكتمال الاستيراد، يمكنك عرض النتائج ضمن مهام الاستيراد.

#### حول الأداء

لتقييم أداء استيراد البيانات على نطاق واسع، أجرينا اختبارات مقارنة في سيناريوهات مختلفة، وأنواع حقول، وتكوينات تشغيل (قد تختلف النتائج بناءً على تكوينات الخادم وقاعدة البيانات، وهي للمرجع فقط):

| حجم البيانات | أنواع الحقول | تهيئة الاستيراد | مدة المعالجة |
|------|---------|---------|---------|
| مليون سجل | نص، رقم، تاريخ، بريد إلكتروني، نص طويل | • تشغيل سير العمل: لا<br>• معرف التكرار: لا يوجد | حوالي دقيقة واحدة |
| 500 ألف سجل | نص، رقم، تاريخ، بريد إلكتروني، نص طويل، متعدد لمتعدد | • تشغيل سير العمل: لا<br>• معرف التكرار: لا يوجد | حوالي 16 دقيقة |
| 500 ألف سجل | نص، رقم، تاريخ، بريد إلكتروني، نص طويل، متعدد لمتعدد، متعدد لواحد | • تشغيل سير العمل: لا<br>• معرف التكرار: لا يوجد | حوالي 22 دقيقة |
| 500 ألف سجل | نص، رقم، تاريخ، بريد إلكتروني، نص طويل، متعدد لمتعدد، متعدد لواحد | • تشغيل سير العمل: إشعار تشغيل غير متزامن<br>• معرف التكرار: لا يوجد | حوالي 22 دقيقة |
| 500 ألف سجل | نص، رقم، تاريخ، بريد إلكتروني، نص طويل، متعدد لمتعدد، متعدد لواحد | • تشغيل سير العمل: إشعار تشغيل غير متزامن<br>• معرف التكرار: تحديث المكررات، مع 50 ألف سجل مكرر | حوالي 3 ساعات |

بناءً على نتائج اختبارات الأداء المذكورة أعلاه وبعض التصميمات الحالية، إليك بعض التوضيحات والاقتراحات المتعلقة بالعوامل المؤثرة:

1.  **آلية معالجة السجلات المكررة**: عند اختيار خياري **تحديث السجلات المكررة** أو **تحديث السجلات المكررة فقط**، يقوم النظام بتنفيذ عمليات الاستعلام والتحديث صفًا بصف، مما يقلل بشكل كبير من كفاءة الاستيراد. إذا كان ملف Excel الخاص بك يحتوي على بيانات مكررة غير ضرورية، فسيؤثر ذلك بشكل أكبر على سرعة الاستيراد. يُنصح بتنظيف البيانات المكررة غير الضرورية في ملف Excel (مثل استخدام أدوات احترافية لإزالة التكرار) قبل استيرادها إلى النظام، لتجنب إضاعة الوقت غير الضروري.

2.  **كفاءة معالجة حقول العلاقات**: يعتمد النظام في معالجة حقول العلاقات على طريقة الاستعلام عن الارتباطات صفًا بصف، مما قد يصبح عنق زجاجة في الأداء عند التعامل مع كميات كبيرة من البيانات. بالنسبة لهياكل العلاقات البسيطة (مثل ارتباط مجموعة واحدة لمتعدد بين مجموعتين)، يُنصح باتباع استراتيجية استيراد متعددة الخطوات: استيراد البيانات الأساسية للمجموعة الرئيسية أولاً، ثم إنشاء العلاقة بين المجموعات بعد اكتمال الاستيراد. إذا كانت متطلبات العمل تستدعي استيراد بيانات العلاقات في نفس الوقت، فيرجى الرجوع إلى نتائج اختبارات الأداء في الجدول أعلاه لتخطيط وقت الاستيراد بشكل معقول.

3.  **آلية تشغيل سير العمل**: لا يُنصح بتمكين تشغيل سير العمل في سيناريوهات استيراد البيانات على نطاق واسع، وذلك لأسباب رئيسية تتعلق بنقطتين:
    -   حتى عندما تظهر حالة مهمة الاستيراد 100%، فإنها لا تنتهي فورًا. لا يزال النظام بحاجة إلى وقت إضافي لمعالجة إنشاء خطط تنفيذ سير العمل. خلال هذه المرحلة، يُنشئ النظام خطة تنفيذ سير عمل مقابلة لكل سجل مستورد، مما يشغل مسار الاستيراد ولكنه لا يؤثر على استخدام البيانات التي تم استيرادها بالفعل.
    -   بعد اكتمال مهمة الاستيراد بالكامل، قد يؤدي التنفيذ المتزامن لعدد كبير من مهام سير العمل إلى إجهاد موارد النظام، مما يؤثر على سرعة استجابة النظام الإجمالية وتجربة المستخدم.

ستُؤخذ العوامل المؤثرة الثلاثة المذكورة أعلاه في الاعتبار لإجراء المزيد من التحسينات في المستقبل.

### تهيئة الاستيراد

#### خيارات الاستيراد - تشغيل سير العمل

![20251029172235](https://static-docs.nocobase.com/20251029172235.png)

يمكنك اختيار ما إذا كنت تريد تشغيل سير العمل أثناء الاستيراد. إذا تم تحديد هذا الخيار وكانت المجموعة مرتبطة بسير عمل (حدث مجموعة)، فسيؤدي الاستيراد إلى تشغيل تنفيذ سير العمل لكل صف.

#### خيارات الاستيراد - تحديد السجلات المكررة

![20251029172421](https://static-docs.nocobase.com/20251029172421.png)

حدد هذا الخيار واختر الوضع المناسب لتحديد السجلات المكررة ومعالجتها أثناء الاستيراد.

ستُطبق الخيارات في تهيئة الاستيراد كقيم افتراضية. يمكن للمسؤولين التحكم فيما إذا كان سيُسمح للمُحمِّل بتعديل هذه الخيارات (باستثناء خيار تشغيل سير العمل).

**إعدادات أذونات المُحمِّل**

![20251029172516](https://static-docs.nocobase.com/20251029172516.png)

- السماح للمُحمِّل بتعديل خيارات الاستيراد

![20251029172617](https://static-docs.nocobase.com/20251029172617.png)

- منع المُحمِّل من تعديل خيارات الاستيراد

![20251029172655](https://static-docs.nocobase.com/20251029172655.png)

##### وصف الأوضاع

- تخطي السجلات المكررة: يستعلم عن السجلات الموجودة بناءً على محتوى "حقل المعرّف". إذا كان السجل موجودًا بالفعل، يتم تخطي هذا الصف مباشرة؛ وإذا لم يكن موجودًا، يتم استيراده كسجل جديد.
- تحديث السجلات المكررة: يستعلم عن السجلات الموجودة بناءً على محتوى "حقل المعرّف". إذا كان السجل موجودًا بالفعل، يتم تحديث هذا السجل؛ وإذا لم يكن موجودًا، يتم استيراده كسجل جديد.
- تحديث السجلات المكررة فقط: يستعلم عن السجلات الموجودة بناءً على محتوى "حقل المعرّف". إذا كان السجل موجودًا بالفعل، يتم تحديث هذا السجل؛ وإذا لم يكن موجودًا، يتم تخطيه.

##### حقل المعرّف

يحدد النظام ما إذا كان الصف سجلًا مكررًا بناءً على قيمة هذا الحقل.

- [قاعدة الربط](/interface-builder/actions/action-settings/linkage-rule): إظهار/إخفاء الأزرار ديناميكيًا؛
- [زر التعديل](/interface-builder/actions/action-settings/edit-button): تعديل عنوان الزر ونوعه وأيقونته؛