---
pkg: "@nocobase/plugin-action-export-pro"
---
:::tip إشعار الترجمة بالذكاء الاصطناعي
تمت ترجمة هذه الوثائق تلقائيًا بواسطة الذكاء الاصطناعي.
:::


# تصدير Pro

## مقدمة

توفر إضافة تصدير Pro ميزات محسّنة تتجاوز وظيفة التصدير القياسية.

## التثبيت

تعتمد هذه الإضافة على إضافة إدارة المهام غير المتزامنة. يجب تفعيل إضافة إدارة المهام غير المتزامنة قبل استخدامها.

## تحسينات الميزات

- تدعم عمليات التصدير غير المتزامنة، حيث تُنفذ في خيط (thread) منفصل، مما يدعم تصدير كميات كبيرة من البيانات.
- تدعم تصدير المرفقات.

## دليل المستخدم

### إعداد وضع التصدير

![20251029172829](https://static-docs.nocobase.com/20251029172829.png)

![20251029172914](https://static-docs.nocobase.com/20251029172914.png)

على زر التصدير، يمكنك إعداد وضع التصدير. تتوفر ثلاثة أوضاع اختيارية للتصدير:

- **تلقائي**: يتم تحديد وضع التصدير بناءً على حجم البيانات. إذا كان عدد السجلات أقل من 1000 (أو 100 لسجلات تصدير المرفقات)، يتم استخدام التصدير المتزامن. وإذا كان حجم البيانات أكبر من 1000 (أو 100 لسجلات تصدير المرفقات)، يتم استخدام التصدير غير المتزامن.
- **متزامن**: يستخدم التصدير المتزامن، الذي يعمل في الخيط (thread) الرئيسي أثناء التصدير. وهو مناسب للبيانات صغيرة الحجم. إذا تم تصدير كميات كبيرة من البيانات في الوضع المتزامن، فقد يتسبب ذلك في حظر النظام، وتجمده، وعدم قدرته على معالجة طلبات المستخدمين الآخرين.
- **غير متزامن**: يستخدم التصدير غير المتزامن، الذي يعمل في خيط (thread) خلفي منفصل أثناء التصدير، ولا يعيق عمل النظام الحالي.

### التصدير غير المتزامن

بعد بدء عملية التصدير، ستعمل العملية في خيط (thread) خلفي منفصل دون الحاجة إلى إعداد يدوي من المستخدم. في واجهة المستخدم، بعد بدء عملية التصدير، ستظهر مهمة التصدير الجارية حاليًا في الزاوية العلوية اليمنى، مع عرض التقدم في الوقت الفعلي.

![20251029173028](https://static-docs.nocobase.com/20251029173028.png)

بعد اكتمال التصدير، يمكنك تنزيل الملف المُصدَّر من مهام التصدير.

#### التصدير المتوازي
عند وجود عدد كبير من مهام التصدير المتوازية، قد تتأثر بإعدادات الخادم، مما يؤدي إلى بطء استجابة النظام. لذلك، يوصى لمطوري النظام بتعيين الحد الأقصى لعدد مهام التصدير المتوازية (الافتراضي هو 3). عندما يتجاوز عدد المهام المتوازية الحد المكوّن، تدخل المهام الجديدة في حالة انتظار (queue).
![20250505171706](https://static-docs.nocobase.com/20250505171706.png)

طريقة إعداد عدد المهام المتوازية: متغير البيئة `ASYNC_TASK_MAX_CONCURRENCY=عدد_المهام_المتوازية`

بناءً على اختبارات شاملة مع تكوينات مختلفة وتعقيدات بيانات متنوعة، أعداد المهام المتوازية الموصى بها هي:
- وحدة معالجة مركزية (CPU) ثنائية النواة، عدد المهام المتوازية 3.
- وحدة معالجة مركزية (CPU) رباعية النواة، عدد المهام المتوازية 5.

#### حول الأداء
عندما تلاحظ أن عملية التصدير بطيئة بشكل غير طبيعي (انظر المرجع أدناه)، فقد تكون هذه مشكلة أداء ناتجة عن بنية "المجموعة" (Collection).

| خصائص البيانات | نوع الفهرس | حجم البيانات | مدة التصدير |
|---------|---------|--------|---------|
| لا توجد حقول ارتباط | مفتاح أساسي / قيد فريد | مليون | 3 إلى 6 دقائق |
| لا توجد حقول ارتباط | فهرس عادي | مليون | 6 إلى 10 دقائق |
| لا توجد حقول ارتباط | فهرس مركب (غير فريد) | مليون | 30 دقيقة |
| حقول الارتباط<br>(واحد لواحد، واحد لمتعدد،<br>متعدد لواحد، متعدد لمتعدد) | مفتاح أساسي / قيد فريد | 500 ألف | 15 إلى 30 دقيقة | حقول الارتباط تقلل الأداء |

لضمان عمليات تصدير فعالة، نوصي بما يلي:
1. يجب أن تستوفي "المجموعة" (Collection) الشروط التالية:

| نوع الشرط | الشرط المطلوب | ملاحظات أخرى |
|---------|------------------------|------|
| بنية المجموعة (يجب استيفاء شرط واحد على الأقل) | يحتوي على مفتاح أساسي<br>يحتوي على قيد فريد<br>يحتوي على فهرس (فريد، عادي، مركب) | الأولوية: مفتاح أساسي > قيد فريد > فهرس |
| خصائص الحقل | يجب أن يكون المفتاح الأساسي / القيد الفريد / الفهرس (أحدها) ذا خصائص قابلة للترتيب، مثل: معرف تلقائي الزيادة (Auto-incrementing ID)، معرف Snowflake، UUID v1، الطابع الزمني (timestamp)، الأرقام، إلخ.<br>(ملاحظة: الحقول غير القابلة للترتيب مثل UUID v3/v4/v5، السلاسل النصية العادية، وما إلى ذلك، ستؤثر على الأداء) | لا يوجد |

2. قلل عدد الحقول غير الضرورية التي سيتم تصديرها، خاصة حقول الارتباط (لا تزال مشكلات الأداء الناتجة عن حقول الارتباط قيد التحسين).
![20250506215940](https://static-docs.nocobase.com/20250506215940.png)
3. إذا كانت عملية التصدير لا تزال بطيئة بعد استيفاء الشروط المذكورة أعلاه، يمكنك تحليل السجلات (logs) أو تقديم ملاحظات للفريق الرسمي.
![20250505182122](https://static-docs.nocobase.com/20250505182122.png)

- [قاعدة الارتباط](/interface-builder/actions/action-settings/linkage-rule): إظهار/إخفاء الزر ديناميكيًا؛
- [تحرير الزر](/interface-builder/actions/action-settings/edit-button): تحرير عنوان الزر ونوعه وأيقونته؛