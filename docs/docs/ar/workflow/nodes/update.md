:::tip إشعار الترجمة بالذكاء الاصطناعي
تمت ترجمة هذه الوثائق تلقائيًا بواسطة الذكاء الاصطناعي.
:::

# تحديث البيانات

يُستخدم لتحديث البيانات في **مجموعة** معينة تستوفي شروطًا محددة.

أجزاء **المجموعة** وتعيين الحقول هي نفسها في عقدة "إنشاء سجل". يكمن الاختلاف الرئيسي في عقدة "تحديث البيانات" في إضافة شروط التصفية وضرورة اختيار وضع التحديث. بالإضافة إلى ذلك، تُرجع نتيجة عقدة "تحديث البيانات" عدد الصفوف التي تم تحديثها بنجاح. يمكن عرض هذا فقط في سجل التنفيذ ولا يمكن استخدامه كمتغير في العقد اللاحقة.

## إنشاء العقدة

في واجهة إعدادات **سير العمل**، انقر على زر علامة الزائد ("+") في التدفق لإضافة عقدة "تحديث البيانات":

![إضافة عقدة تحديث البيانات](https://static-docs.nocobase.com/9ff24d7bc173b3a71decc1f70ca9fb66.png)

## إعدادات العقدة

![إعدادات عقدة تحديث البيانات](https://static-docs.nocobase.com/98e0f941c57275fc835f08260d0b2e86.png)

### المجموعة

اختر **المجموعة** التي تحتاج إلى تحديث البيانات فيها.

### وضع التحديث

هناك وضعان للتحديث:

*   **تحديث مجمع**: لا يؤدي إلى تشغيل أحداث **المجموعة** لكل سجل محدّث. يوفر أداءً أفضل ومناسب لعمليات التحديث ذات الحجم الكبير من البيانات.
*   **تحديث فردي**: يؤدي إلى تشغيل أحداث **المجموعة** لكل سجل محدّث. ومع ذلك، قد يسبب مشاكل في الأداء مع كميات كبيرة من البيانات، ويجب استخدامه بحذر.

يعتمد الاختيار عادةً على البيانات المستهدفة للتحديث وما إذا كان يجب تشغيل أحداث **سير العمل** أخرى. إذا كنت تقوم بتحديث سجل واحد بناءً على المفتاح الأساسي، يوصى باستخدام "تحديث فردي". أما إذا كنت تقوم بتحديث سجلات متعددة بناءً على شروط، فيوصى باستخدام "تحديث مجمع".

### شروط التصفية

على غرار شروط التصفية في استعلام **مجموعة** عادي، يمكنك استخدام متغيرات السياق من **سير العمل**.

### قيم الحقول

على غرار تعيين الحقول في عقدة "إنشاء سجل"، يمكنك استخدام متغيرات السياق من **سير العمل** أو إدخال قيم ثابتة يدويًا.

ملاحظة: البيانات التي يتم تحديثها بواسطة عقدة "تحديث البيانات" في **سير العمل** لا تتعامل تلقائيًا مع بيانات "آخر من قام بالتعديل". تحتاج إلى تكوين قيمة هذا الحقل بنفسك حسب الحاجة.

## مثال

على سبيل المثال، عند إنشاء "مقالة" جديدة، تحتاج إلى تحديث حقل "عدد المقالات" تلقائيًا في **مجموعة** "فئة المقالات". يمكن تحقيق ذلك باستخدام عقدة "تحديث البيانات":

![إعدادات مثال عقدة تحديث البيانات](https://static-docs.nocobase.com/98e0f941c57275fc835f08260d0b2e86.png)

بعد تشغيل **سير العمل**، سيتم تحديث حقل "عدد المقالات" في **مجموعة** "فئة المقالات" تلقائيًا ليصبح عدد المقالات الحالي + 1.