---
pkg: "@nocobase/plugin-ai-ee"
---
:::tip إشعار الترجمة بالذكاء الاصطناعي
تمت ترجمة هذه الوثائق تلقائيًا بواسطة الذكاء الاصطناعي.
:::


# المخرجات المهيكلة

## مقدمة

في بعض سيناريوهات التطبيق، قد يرغب المستخدمون في أن يستجيب نموذج LLM بمحتوى مهيكل بتنسيق JSON. يمكن تحقيق ذلك من خلال تهيئة "الإخراج المهيكل".

![](https://static-docs.nocobase.com/202503041306405.png)

## التهيئة

- **JSON Schema** - يمكن للمستخدمين تحديد البنية المتوقعة لاستجابة النموذج من خلال تهيئة [JSON Schema](https://json-schema.org/).
- **الاسم (Name)** - _اختياري_، يُستخدم لمساعدة النموذج على فهم الكائن الذي يمثله JSON Schema بشكل أفضل.
- **الوصف (Description)** - _اختياري_، يُستخدم لمساعدة النموذج على فهم الغرض من JSON Schema بشكل أفضل.
- **صارم (Strict)** - يتطلب من النموذج إنشاء استجابة تتوافق بدقة مع بنية JSON Schema. حاليًا، تدعم بعض نماذج OpenAI الجديدة فقط هذه المعلمة. يُرجى التأكد من توافق النموذج قبل تفعيلها.

## طريقة إنشاء المحتوى المهيكل

تعتمد طريقة إنشاء النموذج للمحتوى المهيكل على **النموذج** المستخدم وتهيئة **تنسيق الاستجابة (Response format)** الخاصة به:

1.  النماذج التي يدعم فيها تنسيق الاستجابة (Response format) `text` فقط
    -   عند الاستدعاء، ستربط العقدة أداة (Tool) تُنشئ محتوى بتنسيق JSON بناءً على JSON Schema، موجهةً النموذج لإنشاء استجابة مهيكلة عن طريق استدعاء هذه الأداة.

2.  النماذج التي يدعم فيها تنسيق الاستجابة (Response format) وضع JSON (`json_object`)
    -   إذا تم اختيار وضع JSON عند الاستدعاء، يجب على المستخدم توجيه النموذج صراحةً في الموجه (Prompt) للعودة بتنسيق JSON وتقديم أوصاف لحقول الاستجابة.
    -   في هذا الوضع، يُستخدم JSON Schema فقط لتحليل سلسلة JSON النصية التي يعيدها النموذج وتحويلها إلى كائن JSON المستهدف.

3.  النماذج التي يدعم فيها تنسيق الاستجابة (Response format) JSON Schema (`json_schema`)
    -   يُستخدم JSON Schema مباشرةً لتحديد بنية الاستجابة المستهدفة للنموذج.
    -   يمكن اختيار معلمة **صارم (Strict)**، والتي تتطلب من النموذج اتباع JSON Schema بدقة عند إنشاء الاستجابة.

4.  نماذج Ollama المحلية
    -   إذا تم تهيئة JSON Schema، فستقوم العقدة عند الاستدعاء بتمريره كمعلمة `format` إلى النموذج.

## استخدام نتيجة الإخراج المهيكل

يتم حفظ المحتوى المهيكل لاستجابة النموذج ككائن JSON في حقل "المحتوى المهيكل (Structured content)" الخاص بالعقدة، ويمكن استخدامه بواسطة العقد اللاحقة.

![](https://static-docs.nocobase.com/202503041330291.png)

![](https://static-docs.nocobase.com/202503041331279.png)