:::tip إشعار الترجمة بالذكاء الاصطناعي
تمت ترجمة هذه الوثائق تلقائيًا بواسطة الذكاء الاصطناعي.
:::

# دمج الدخول الموحد (SSO)

توفر NocoBase حلولاً شاملة للدخول الموحد (SSO)، وتدعم العديد من بروتوكولات المصادقة الرئيسية لتمكين التكامل السلس مع أنظمة الهوية المؤسسية الحالية.

## نظرة عامة

يتيح الدخول الموحد للمستخدمين الوصول إلى أنظمة متعددة مترابطة ولكن مستقلة باستخدام مجموعة واحدة من بيانات الاعتماد. يسجل المستخدمون الدخول مرة واحدة فقط، ويتمكنون من الوصول إلى جميع التطبيقات المصرح بها دون الحاجة إلى إدخال اسم المستخدم وكلمة المرور بشكل متكرر. هذا لا يحسن تجربة المستخدم فحسب، بل يعزز أيضًا أمان النظام وكفاءة الإدارة.

## بروتوكولات المصادقة المدعومة

تدعم NocoBase بروتوكولات وطرق المصادقة التالية عبر الإضافات:

### بروتوكولات الدخول الموحد للمؤسسات

- **[SAML 2.0](/auth-verification/auth-saml/)**: معيار مفتوح يعتمد على XML، ويُستخدم على نطاق واسع لمصادقة الهوية على مستوى المؤسسات. مناسب للسيناريوهات التي تتطلب التكامل مع موفري الهوية المؤسسيين (IdP).

- **[OIDC (OpenID Connect)](/auth-verification/auth-oidc/)**: طبقة مصادقة حديثة مبنية على OAuth 2.0، توفر آليات مصادقة وتفويض متطورة. تدعم التكامل مع موفري الهوية الرئيسيين (مثل Google وAzure AD وغيرهم).

- **[CAS (Central Authentication Service)](/auth-verification/auth-cas/)**: بروتوكول دخول موحد تم تطويره بواسطة جامعة ييل، ويُستخدم على نطاق واسع في مؤسسات التعليم العالي والمؤسسات التعليمية.

- **[LDAP](/auth-verification/auth-ldap/)**: بروتوكول الوصول إلى الدليل الخفيف (Lightweight Directory Access Protocol)، يُستخدم للوصول إلى خدمات معلومات الدليل الموزعة وصيانتها. مناسب للسيناريوهات التي تتطلب التكامل مع Active Directory أو خوادم LDAP أخرى.

### مصادقة منصات الطرف الثالث

- **[WeCom (وي تشات وورك)](/auth-verification/auth-wecom/)**: يدعم تسجيل الدخول عبر رمز الاستجابة السريعة (QR code) لـ WeCom وتسجيل الدخول السلس داخل التطبيق.

- **[DingTalk (دينغ توك)](/auth-verification/auth-dingtalk/)**: يدعم تسجيل الدخول عبر رمز الاستجابة السريعة (QR code) لـ DingTalk وتسجيل الدخول السلس داخل التطبيق.

### طرق المصادقة الأخرى

- **[التحقق عبر الرسائل النصية القصيرة (SMS)](/auth-verification/auth-sms/)**: طريقة تسجيل الدخول باستخدام رمز التحقق المستند إلى الرسائل النصية القصيرة عبر الهاتف المحمول.

- **[اسم المستخدم وكلمة المرور](/auth-verification/auth/)**: طريقة المصادقة الأساسية المدمجة في NocoBase.

## خطوات الدمج

### 1. تثبيت إضافة المصادقة

بناءً على متطلباتك، ابحث عن إضافة المصادقة المناسبة وقم بتثبيتها من مدير الإضافات. تتطلب معظم إضافات مصادقة الدخول الموحد (SSO) شراءً أو اشتراكًا منفصلاً.

![auth_sso-2025-11-24-08-26-46](https://static-docs.nocobase.com/auth_sso-2025-11-24-08-26-46.png)

على سبيل المثال، لتثبيت إضافة مصادقة SAML 2.0:

![](https://static-docs.nocobase.com/6a12f3d8073c47532a4f8aac900e4296.png)

أو لتثبيت إضافة مصادقة OIDC:

![](https://static-docs.nocobase.com/202411122358790.png)

### 2. تهيئة طريقة المصادقة

1. انتقل إلى صفحة **إعدادات النظام > مصادقة المستخدم**

![](https://static-docs.nocobase.com/202411130004459.png)

2. انقر على **إضافة طريقة مصادقة**
3. اختر نوع المصادقة المثبت (على سبيل المثال، SAML)

![](https://static-docs.nocobase.com/5076fe56086b7799be308bbaf7c4425d.png)

أو اختر OIDC:

![](https://static-docs.nocobase.com/1efbde1c0e2f4967efc1c4336be45ca2.png)

4. قم بتهيئة المعلمات المطلوبة وفقًا للتوجيهات.

### 3. تهيئة موفر الهوية

يتطلب كل بروتوكول مصادقة تهيئة معلومات موفر الهوية الخاص به:

- **SAML**: قم بتهيئة بيانات تعريف موفر الهوية (IdP metadata)، والشهادات، وما إلى ذلك.

![](https://static-docs.nocobase.com/976b66e589973c322d81dcddd22c6146.png)

- **OIDC**: قم بتهيئة معرف العميل (Client ID)، وسر العميل (Client Secret)، ونقطة نهاية الاكتشاف (discovery endpoint)، وما إلى ذلك.

![](https://static-docs.nocobase.com/202411130006341.png)

- **CAS**: قم بتهيئة عنوان خادم CAS.
- **LDAP**: قم بتهيئة عنوان خادم LDAP، واسم مميز الربط (Bind DN)، وما إلى ذلك.
- **WeCom/DingTalk**: قم بتهيئة بيانات اعتماد التطبيق، ومعرف المؤسسة (Corp ID)، وما إلى ذلك.

### 4. اختبار تسجيل الدخول

بعد الانتهاء من التهيئة، يُنصح بإجراء اختبار تسجيل الدخول:

1. سجل الخروج من الجلسة الحالية.
2. في صفحة تسجيل الدخول، اختر طريقة الدخول الموحد (SSO) التي قمت بتهيئتها.

![](https://static-docs.nocobase.com/74963865c9d36a294948e6adeb5b24bc.png)

3. أكمل عملية المصادقة الخاصة بموفر الهوية.
4. تحقق مما إذا كان تسجيل الدخول إلى NocoBase ناجحًا.

## ربط المستخدمين وتعيين الأدوار

بعد نجاح مصادقة الدخول الموحد (SSO)، تتعامل NocoBase تلقائيًا مع حسابات المستخدمين:

- **أول تسجيل دخول**: يتم إنشاء حساب مستخدم جديد تلقائيًا، وتتم مزامنة المعلومات الأساسية (مثل الاسم المستعار، البريد الإلكتروني، إلخ) من موفر الهوية.
- **تسجيلات الدخول اللاحقة**: يتم استخدام الحساب الحالي؛ ويمكن اختيار مزامنة معلومات المستخدم المحدثة أو عدم مزامنتها.
- **تعيين الأدوار**: يمكن تهيئة أدوار افتراضية، أو تعيين الأدوار تلقائيًا بناءً على حقول الأدوار في معلومات المستخدم من موفر الهوية.

## توصيات أمنية

1. **استخدام HTTPS**: تأكد من نشر NocoBase في بيئة HTTPS لحماية أمان نقل بيانات المصادقة.
2. **تحديث الشهادات بانتظام**: قم بتحديث وتدوير بيانات الاعتماد الأمنية مثل شهادات SAML في الوقت المناسب.
3. **تهيئة قائمة عناوين URL المسموح بها للاستدعاء العكسي (Callback URL Whitelist)**: قم بتهيئة عناوين URL للاستدعاء العكسي (Callback URLs) الخاصة بـ NocoBase بشكل صحيح لدى موفر الهوية.
4. **مبدأ الحد الأدنى من الامتيازات**: قم بتعيين الأدوار والأذونات المناسبة لمستخدمي الدخول الموحد (SSO).
5. **تمكين تدقيق السجلات**: سجل وراقب أنشطة تسجيل الدخول عبر الدخول الموحد (SSO).

## استكشاف الأخطاء وإصلاحها

### فشل تسجيل الدخول الموحد (SSO)؟

1. تحقق مما إذا كانت تهيئة موفر الهوية صحيحة.
2. تأكد من تهيئة عناوين URL للاستدعاء العكسي (Callback URLs) بشكل صحيح.
3. راجع سجلات NocoBase للحصول على معلومات الأخطاء التفصيلية.
4. تأكد من صلاحية الشهادات والمفاتيح.

### معلومات المستخدم لا تتم مزامنتها؟

1. تحقق من سمات المستخدم التي يعيدها موفر الهوية.
2. تأكد من صحة تهيئة ربط الحقول.
3. تأكد من تمكين خيار مزامنة معلومات المستخدم.

### كيف يمكن دعم طرق مصادقة متعددة في نفس الوقت؟

تدعم NocoBase تهيئة طرق مصادقة متعددة في نفس الوقت. يمكن للمستخدمين اختيار الطريقة المفضلة لديهم لتسجيل الدخول من صفحة تسجيل الدخول.

## موارد ذات صلة

- [وثائق المصادقة](/auth-verification/auth/)
- [مصادقة مفاتيح API](/integration/api-keys/)
- [إدارة المستخدمين والأذونات](/plugins/@nocobase/plugin-users/)