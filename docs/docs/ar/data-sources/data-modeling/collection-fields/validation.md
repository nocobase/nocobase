:::tip إشعار الترجمة بالذكاء الاصطناعي
تمت ترجمة هذه الوثائق تلقائيًا بواسطة الذكاء الاصطناعي.
:::

# التحقق من صحة الحقول
لضمان دقة البيانات وأمانها واتساقها في المجموعات، توفر NocoBase وظيفة التحقق من صحة الحقول. تتكون هذه الميزة بشكل أساسي من جزأين: إعداد القواعد وتطبيقها.

## إعداد القواعد
![20250819181342](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819181342.png)

تدمج حقول نظام NocoBase قواعد [Joi](https://joi.dev/api/)، ويكون الدعم كالتالي:

### نوع السلسلة النصية
تتضمن أنواع حقول NocoBase التي تتوافق مع أنواع سلاسل Joi النصية ما يلي: نص سطر واحد، نص متعدد الأسطر، رقم الهاتف، البريد الإلكتروني، عنوان URL، كلمة المرور، و UUID.
#### القواعد الشائعة
- الحد الأدنى للطول
- الحد الأقصى للطول
- الطول
- النمط (Regex)
- مطلوب

#### البريد الإلكتروني
![20250819192011](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819192011.png)
[عرض المزيد من الخيارات](https://joi.dev/api/?v=17.13.3#stringemailoptions)

#### عنوان URL
![20250819192409](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819192409.png)
[عرض المزيد من الخيارات](https://joi.dev/api/?v=17.13.3#stringurioptions)

#### معرف UUID
![20250819192731](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819192731.png)
[عرض المزيد من الخيارات](https://joi.dev/api/?v=17.13.3#stringguid---aliases-uuid)

### نوع الرقم
تتضمن أنواع حقول NocoBase التي تتوافق مع أنواع أرقام Joi ما يلي: عدد صحيح، رقم، ونسبة مئوية.
#### القواعد الشائعة
- أكبر من
- أقل من
- القيمة القصوى
- القيمة الدنيا
- مضاعف

#### عدد صحيح
بالإضافة إلى القواعد الشائعة، تدعم حقول الأعداد الصحيحة بشكل إضافي [التحقق من صحة الأعداد الصحيحة](https://joi.dev/api/?v=17.13.3#numberinteger) و [التحقق من صحة الأعداد الصحيحة غير الآمنة](https://joi.dev/api/?v=17.13.3#numberunsafeenabled).
![20250819193758](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819193758.png)

#### الرقم والنسبة المئوية
بالإضافة إلى القواعد الشائعة، تدعم حقول الأرقام والنسب المئوية بشكل إضافي [التحقق من صحة الدقة](https://joi.dev/api/?v=17.13.3#numberinteger).
![20250819193954](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819193954.png)

### نوع التاريخ
تتضمن أنواع حقول NocoBase التي تتوافق مع أنواع تواريخ Joi ما يلي: تاريخ (مع منطقة زمنية)، تاريخ (بدون منطقة زمنية)، تاريخ فقط، وطابع زمني Unix.

قواعد التحقق المدعومة:
- أكبر من
- أقل من
- القيمة القصوى
- القيمة الدنيا
- التحقق من تنسيق الطابع الزمني
- مطلوب

### حقول الارتباط
تدعم حقول الارتباط التحقق من كونها مطلوبة فقط. تجدر الإشارة إلى أن التحقق من كون حقول الارتباط مطلوبة غير مدعوم حاليًا في سيناريوهات النماذج الفرعية أو الجداول الفرعية.
![20250819184344](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819184344.png)

## تطبيق قواعد التحقق
بعد إعداد قواعد الحقول، سيتم تفعيل قواعد التحقق المطابقة عند إضافة البيانات أو تعديلها.
![20250819201027](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819201027.png)

تنطبق قواعد التحقق أيضًا على مكونات الجداول الفرعية والنماذج الفرعية:
![20250819202514](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819202514.png)

![20250819202357](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819202357.png)

تجدر الإشارة إلى أنه في سيناريوهات النماذج الفرعية أو الجداول الفرعية، لا يسري التحقق من كون حقول الارتباط مطلوبة.
![20250819203016](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819203016.png)

## الاختلافات عن التحقق من صحة الحقول من جانب العميل
يُطبق التحقق من صحة الحقول من جانب العميل ومن جانب الخادم في سيناريوهات مختلفة، وهناك اختلافات كبيرة في طريقة التنفيذ وتوقيت تفعيل القواعد، لذلك يجب إدارتهما بشكل منفصل.

### اختلافات طريقة الإعداد
- **التحقق من جانب العميل**: يتم إعداد القواعد في نماذج التحرير (كما هو موضح في الشكل أدناه)
- **التحقق من صحة الحقول من جانب الخادم**: يتم تعيين قواعد الحقول في مصدر البيانات → إعدادات المجموعة
![20250819203836](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819203836.png)

![20250819203845](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819203845.png)

### اختلافات توقيت تفعيل التحقق
- **التحقق من جانب العميل**: يتم تفعيل التحقق في الوقت الفعلي أثناء قيام المستخدمين بملء الحقول، وعرض رسائل الخطأ فورًا.
- **التحقق من صحة الحقول من جانب الخادم**: يتم التحقق من صحة البيانات من جانب الخادم قبل إدخالها إلى قاعدة البيانات بعد إرسالها، وتُعاد رسائل الخطأ عبر استجابات API.
- **نطاق التطبيق**: يسري التحقق من صحة الحقول من جانب الخادم ليس فقط عند إرسال النموذج، بل يتم تفعيله أيضًا في جميع السيناريوهات التي تتضمن إضافة البيانات أو تعديلها، مثل سير العمل (Workflow) واستيراد البيانات.
- **رسائل الخطأ**: يدعم التحقق من جانب العميل رسائل خطأ مخصصة، بينما لا يدعم التحقق من جانب الخادم رسائل خطأ مخصصة حاليًا.