:::tip إشعار الترجمة بالذكاء الاصطناعي
تمت ترجمة هذه الوثائق تلقائيًا بواسطة الذكاء الاصطناعي.
:::

# علاقة متعدد لمتعدد

في نظام تسجيل المقررات الدراسية، لدينا كيانان: الطلاب والمقررات. يمكن للطالب الواحد التسجيل في عدة مقررات، كما يمكن للمقرر الواحد أن يسجل فيه عدة طلاب، وهذا ما يشكل علاقة متعدد لمتعدد. في قواعد البيانات العلائقية، لتمثيل هذه العلاقة بين الطلاب والمقررات، عادةً ما نستخدم مجموعة وسيطة، مثل مجموعة التسجيل. تسجل هذه المجموعة المقررات التي اختارها كل طالب، والطلاب الذين سجلوا في كل مقرر. يمثل هذا التصميم علاقة متعدد لمتعدد بين الطلاب والمقررات بفعالية.

مخطط علاقة الكيانات (ERD):

![alt text](https://static-docs.nocobase.com/0e9921228e1ee375dc639431bb89782c.png)

إعدادات الحقل:

![alt text](https://static-docs.nocobase.com/8e2739ac5d44fb46f30e2da42ca87a82.png)

## وصف المعلمات

### مجموعة المصدر
هي المجموعة التي يوجد بها الحقل الحالي.

### مجموعة الهدف
هي المجموعة التي سيتم ربطها.

### المجموعة الوسيطة
تُستخدم عندما توجد علاقة متعدد لمتعدد بين كيانين. تحتوي المجموعة الوسيطة على مفتاحين خارجيين يُستخدمان للحفاظ على الارتباط بين الكيانين.

### مفتاح المصدر
هو الحقل في مجموعة المصدر الذي يشير إليه المفتاح الخارجي. يجب أن يكون فريدًا.

### المفتاح الخارجي 1
هو الحقل في المجموعة الوسيطة الذي ينشئ الارتباط مع مجموعة المصدر.

### المفتاح الخارجي 2
هو الحقل في المجموعة الوسيطة الذي ينشئ الارتباط مع مجموعة الهدف.

### مفتاح الهدف
هو الحقل في مجموعة الهدف الذي يشير إليه المفتاح الخارجي. يجب أن يكون فريدًا.

### عند الحذف (ON DELETE)
يشير `ON DELETE` إلى القواعد المطبقة على مراجع المفتاح الخارجي في المجموعات الفرعية المرتبطة عند حذف السجلات في المجموعة الأصلية. إنه خيار يُستخدم عند تعريف قيد المفتاح الخارجي. تتضمن خيارات `ON DELETE` الشائعة ما يلي:

- **CASCADE**: عند حذف سجل في المجموعة الأصلية، يتم حذف جميع السجلات المرتبطة به في المجموعة الفرعية تلقائيًا.
- **SET NULL**: عند حذف سجل في المجموعة الأصلية، يتم تعيين قيم المفتاح الخارجي في سجلات المجموعة الفرعية المرتبطة إلى `NULL`.
- **RESTRICT**: الخيار الافتراضي، يمنع حذف سجل المجموعة الأصلية إذا كانت هناك سجلات مرتبطة به في المجموعة الفرعية.
- **NO ACTION**: مشابه لـ `RESTRICT`، يمنع حذف سجل المجموعة الأصلية إذا كانت هناك سجلات مرتبطة به في المجموعة الفرعية.