:::tip إشعار الترجمة بالذكاء الاصطناعي
تمت ترجمة هذه الوثائق تلقائيًا بواسطة الذكاء الاصطناعي.
:::

# FlowModel مقابل React.Component

## مقارنة المسؤوليات الأساسية

| الميزة/القدرة         | `React.Component`       | `FlowModel`                            |
| ------------- | ----------------------- | -------------------------------------- |
| قدرة العرض (Rendering)          | نعم، تُنشئ دالة `render()` واجهة المستخدم    | نعم، تُنشئ دالة `render()` واجهة المستخدم                   |
| إدارة الحالة (State Management)          | `state` و `setState` مدمجان | تستخدم `props`، لكن إدارة الحالة تعتمد بشكل أكبر على بنية شجرة النموذج               |
| دورة الحياة (Lifecycle)          | نعم، مثل `componentDidMount` | نعم، مثل `onInit` و `onMount` و `onUnmount`     |
| الغرض            | بناء مكونات واجهة المستخدم                | بناء "أشجار نماذج" مهيكلة، تعتمد على البيانات، وتدفقية                   |
| بنية البيانات          | شجرة المكونات                     | شجرة النماذج (تدعم النماذج الأب-الابن، وتفرع (Fork) متعدد النسخ)                   |
| المكونات الفرعية           | تستخدم JSX لتضمين المكونات             | تستخدم `setSubModel`/`addSubModel` لتعيين النماذج الفرعية بشكل صريح |
| السلوك الديناميكي          | ربط الأحداث، وتحديثات الحالة تدفع واجهة المستخدم          | تسجيل/إرسال سير العمل، ومعالجة سير العمل التلقائي                      |
| المثابرة (Persistence)           | لا توجد آلية مدمجة                   | تدعم المثابرة (مثل `model.save()`)                |
| تدعم التفرع (Fork) (لعمليات عرض متعددة) | لا (تتطلب إعادة استخدام يدوية)                | نعم (`createFork` لإنشاء نسخ متعددة)                   |
| تحكم المحرك          | لا يوجد                       | نعم، تُدار وتُسجل وتُحمّل بواسطة `FlowEngine`              |

## مقارنة دورة الحياة

| خطاف دورة الحياة (Lifecycle Hook) | `React.Component`                 | `FlowModel`                                  |
| ------ | --------------------------------- | -------------------------------------------- |
| التهيئة (Initialization)    | `constructor` و `componentDidMount` | `onInit` و `onMount`                           |
| إلغاء التحميل (Unmounting)     | `componentWillUnmount`            | `onUnmount`                                  |
| الاستجابة للمدخلات   | `componentDidUpdate`              | `onBeforeAutoFlows` و `onAfterAutoFlows` |
| معالجة الأخطاء   | `componentDidCatch`               | `onAutoFlowsError`                      |

## مقارنة بنية البناء

**React:**

```tsx pure
class MyComponent extends React.Component {
  render() {
    return <div>Hello</div>;
  }
}
```

**FlowModel:**

```tsx pure
class HelloModel extends FlowModel {
  render() {
    return <div>Hello</div>;
  }
}
```

## شجرة المكونات مقابل شجرة النماذج

*   **شجرة مكونات React**: شجرة عرض واجهة المستخدم التي تتشكل من تضمين JSX أثناء وقت التشغيل.
*   **شجرة نماذج FlowModel**: شجرة بنية منطقية تُدار بواسطة FlowEngine، يمكن جعلها مستمرة (persistable)، وتسمح بالتسجيل الديناميكي والتحكم في النماذج الفرعية. وهي مناسبة لبناء كتل الصفحات، وسير العمل، ونماذج البيانات، وما إلى ذلك.

## الميزات الخاصة (الخاصة بـ FlowModel)

| الوظيفة                               | الوصف                     |
| -------------------------------- | ---------------------- |
| `registerFlow`                 | تسجيل سير العمل             |
| `applyFlow` / `dispatchEvent` | تنفيذ/تشغيل سير العمل             |
| `setSubModel` / `addSubModel`         | التحكم الصريح في إنشاء وربط النماذج الفرعية          |
| `createFork`                          | تدعم إعادة استخدام منطق نموذج واحد لعمليات عرض متعددة (مثل كل صف في جدول) |
| `openFlowSettings`                    | إعدادات خطوات سير العمل |
| `save` / `saveStepParams()`           | يمكن جعل النموذج مستمرًا (persistable)، ويتكامل مع الواجهة الخلفية           |

## الملخص

| البند   | React.Component | FlowModel              |
| ---- | --------------- | ---------------------- |
| السيناريوهات المناسبة | تنظيم مكونات طبقة واجهة المستخدم        | إدارة سير العمل والكتل القائمة على البيانات           |
| الفكرة الأساسية | واجهة مستخدم تصريحية (Declarative UI)          | سير عمل مهيكل يعتمد على النماذج             |
| طريقة الإدارة | React تتحكم في دورة الحياة    | FlowModel تتحكم في دورة حياة النموذج وبنيته |
| المزايا   | نظام بيئي غني وسلسلة أدوات        | هيكلة قوية، سير عمل قابل للمثابرة، نماذج فرعية قابلة للتحكم      |

> يمكن استخدام FlowModel بشكل تكميلي مع React: حيث تُستخدم React للعرض داخل FlowModel، بينما تُدار دورة حياتها وبنيتها بواسطة FlowEngine.