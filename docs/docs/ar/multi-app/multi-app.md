---
pkg: "@nocobase/plugin-multi-app-manager"
---
:::tip إشعار الترجمة بالذكاء الاصطناعي
تمت ترجمة هذه الوثائق تلقائيًا بواسطة الذكاء الاصطناعي.
:::


# التطبيقات المتعددة

## مقدمة

تتيح لك **إضافة التطبيقات المتعددة (Multi-app)** إنشاء وإدارة تطبيقات مستقلة متعددة ديناميكيًا دون الحاجة إلى عمليات نشر منفصلة. كل تطبيق فرعي هو مثيل مستقل تمامًا يمتلك قاعدة بيانات خاصة به، وإضافات، وتكوينات.

#### حالات الاستخدام
- **تعدد المستأجرين**: توفير مثيلات تطبيقات مستقلة، حيث يمتلك كل عميل بياناته الخاصة، وتكوينات الإضافات، ونظام الصلاحيات.
- **الأنظمة الرئيسية والفرعية لمجالات الأعمال المختلفة**: نظام كبير يتكون من تطبيقات أصغر يتم نشرها بشكل مستقل.

:::warning
إضافة التطبيقات المتعددة نفسها لا توفر إمكانات مشاركة المستخدمين.
إذا كنت بحاجة إلى مشاركة المستخدمين بين تطبيقات متعددة، يمكنك استخدامها بالاقتران مع **[إضافة المصادقة](/auth-verification)**.
:::

## التثبيت

في إدارة الإضافات، ابحث عن إضافة **التطبيقات المتعددة (Multi-app)** وقم بتمكينها.

![](https://static-docs.nocobase.com/multi-app/Plugin-manager-NocoBase-10-16-2025_03_07_PM.png)

## دليل الاستخدام

### إنشاء تطبيق فرعي

في قائمة إعدادات النظام، انقر على "التطبيقات المتعددة" للدخول إلى صفحة إدارة التطبيقات المتعددة.

![](https://static-docs.nocobase.com/multi-app/Multi-app-NocoBase-10-16-2025_03_48_PM.png)

انقر على زر "إضافة جديد" لإنشاء تطبيق فرعي جديد.

![](https://static-docs.nocobase.com/multi-app/Multi-app-NocoBase-10-16-2025_03_50_PM.png)

#### وصف حقول النموذج

*   **الاسم**: معرّف التطبيق الفرعي، فريد عالميًا.
*   **اسم العرض**: الاسم الذي يظهر به التطبيق الفرعي في الواجهة.
*   **وضع التشغيل**:
    *   **التشغيل عند الزيارة الأولى**: يبدأ تشغيل التطبيق الفرعي فقط عندما يصل إليه المستخدم لأول مرة عبر عنوان URL.
    *   **التشغيل مع التطبيق الرئيسي**: يبدأ تشغيل التطبيق الفرعي في نفس وقت تشغيل التطبيق الرئيسي (سيؤدي ذلك إلى زيادة وقت بدء تشغيل التطبيق الرئيسي).
*   **المنفذ**: رقم المنفذ الذي يستخدمه التطبيق الفرعي أثناء التشغيل.
*   **نطاق مخصص**: تكوين نطاق فرعي مستقل للتطبيق الفرعي.
*   **تثبيت في القائمة**: تثبيت مدخل التطبيق الفرعي ليظهر في الجانب الأيسر من شريط التنقل العلوي.
*   **اتصال قاعدة البيانات**: يُستخدم لتكوين مصدر البيانات للتطبيق الفرعي، ويدعم الطرق الثلاث التالية:
    *   **قاعدة بيانات جديدة**: إعادة استخدام خدمة البيانات الحالية لإنشاء قاعدة بيانات مستقلة.
    *   **اتصال بيانات جديد**: تكوين خدمة قاعدة بيانات جديدة تمامًا.
    *   **وضع المخطط (Schema)**: إنشاء مخطط (Schema) مستقل للتطبيق الفرعي في PostgreSQL.
*   **الترقية**: إذا كانت قاعدة البيانات المتصلة تحتوي على إصدار أقدم من بنية بيانات NocoBase، فسيتم ترقيتها تلقائيًا إلى الإصدار الحالي.

### تشغيل وإيقاف تطبيق فرعي

انقر على زر **تشغيل** لتشغيل التطبيق الفرعي؛
> إذا تم تحديد خيار *“التشغيل عند الزيارة الأولى”* أثناء الإنشاء، فسيبدأ التشغيل تلقائيًا عند الزيارة الأولى.

انقر على زر **عرض** لفتح التطبيق الفرعي في علامة تبويب جديدة.

![](https://static-docs.nocobase.com/multi-app/Multi-app-NocoBase-10-16-2025_04_00_PM.png)

### حالة وسجلات التطبيق الفرعي

في القائمة، يمكنك عرض استخدام الذاكرة ووحدة المعالجة المركزية لكل تطبيق.

![](https://static-docs.nocobase.com/multi-app/Multi-app-NocoBase-10-21-2025_10_31_AM.png)

انقر على زر **السجلات** لعرض سجلات تشغيل التطبيق الفرعي.
> إذا تعذر الوصول إلى التطبيق الفرعي بعد تشغيله (مثل تلف قاعدة البيانات)، يمكنك استخدام السجلات لاستكشاف الأخطاء وإصلاحها.

![](https://static-docs.nocobase.com/multi-app/Multi-app-NocoBase-10-16-2025_04_02_PM.png)

### حذف تطبيق فرعي

انقر على زر **حذف** لإزالة التطبيق الفرعي.
> عند الحذف، يمكنك اختيار ما إذا كنت تريد حذف قاعدة البيانات أيضًا. يرجى المتابعة بحذر، فهذا الإجراء لا يمكن التراجع عنه.

### الوصول إلى تطبيق فرعي
بشكل افتراضي، يتم الوصول إلى التطبيقات الفرعية باستخدام `/_app/:appName/admin/`، على سبيل المثال:
```
http://localhost:13000/_app/a_7zkxoarusnx/admin/
```
يمكنك أيضًا تكوين نطاق فرعي مستقل للتطبيق الفرعي. ستحتاج إلى حل النطاق إلى عنوان IP الحالي، وإذا كنت تستخدم Nginx، فستحتاج أيضًا إلى إضافة النطاق إلى تكوين Nginx.

### إدارة التطبيقات الفرعية عبر سطر الأوامر

في الدليل الجذر للمشروع، يمكنك استخدام سطر الأوامر لإدارة مثيلات التطبيقات الفرعية عبر **PM2**:

```bash
yarn nocobase pm2 list              # عرض قائمة المثيلات قيد التشغيل حاليًا
yarn nocobase pm2 stop [appname]    # إيقاف عملية تطبيق فرعي محدد
yarn nocobase pm2 delete [appname]  # حذف عملية تطبيق فرعي محدد
yarn nocobase pm2 kill              # إنهاء جميع العمليات التي تم تشغيلها بالقوة (قد يشمل ذلك مثيل التطبيق الرئيسي)
```

### ترحيل البيانات من التطبيقات المتعددة القديمة

انتقل إلى صفحة إدارة التطبيقات المتعددة القديمة، وانقر على زر **ترحيل البيانات إلى التطبيقات المتعددة الجديدة** لترحيل البيانات.

![](https://static-docs.nocobase.com/multi-app/Multi-app-manager-deprecated-NocoBase-10-21-2025_10_32_AM.png)

## الأسئلة الشائعة

#### 1. إدارة الإضافات
يمكن للتطبيقات الفرعية استخدام نفس الإضافات مثل التطبيق الرئيسي (بما في ذلك الإصدارات)، ولكن يمكن تكوينها واستخدامها بشكل مستقل.

#### 2. عزل قاعدة البيانات
يمكن تكوين التطبيقات الفرعية بقواعد بيانات مستقلة. إذا كنت ترغب في مشاركة البيانات بين التطبيقات، يمكنك القيام بذلك عبر مصادر بيانات خارجية.

#### 3. النسخ الاحتياطي للبيانات والترحيل
حاليًا، لا تتضمن النسخ الاحتياطية للبيانات في التطبيق الرئيسي بيانات التطبيقات الفرعية (فقط المعلومات الأساسية للتطبيقات الفرعية). تحتاج إلى إجراء نسخ احتياطي وترحيل للبيانات يدويًا داخل كل تطبيق فرعي.

#### 4. النشر والتحديثات
سيتم ترقية إصدار التطبيق الفرعي تلقائيًا مع التطبيق الرئيسي، مما يضمن اتساق الإصدار بين التطبيق الرئيسي والتطبيقات الفرعية.

#### 5. إدارة الموارد
استهلاك الموارد لكل تطبيق فرعي هو نفسه تقريبًا للتطبيق الرئيسي. حاليًا، يستهلك التطبيق الواحد حوالي 500-600 ميجابايت من الذاكرة.