---
pkg: '@nocobase/plugin-acl'
---
:::tip إشعار الترجمة بالذكاء الاصطناعي
تمت ترجمة هذه الوثائق تلقائيًا بواسطة الذكاء الاصطناعي.
:::



# اتحاد الأدوار

اتحاد الأدوار هو نمط لإدارة الصلاحيات. وفقًا لإعدادات النظام، يمكن لمطوري النظام اختيار استخدام `أدوار مستقلة`، أو `السماح باتحاد الأدوار`، أو `اتحاد الأدوار فقط`، لتلبية متطلبات الصلاحيات المختلفة.

![20250312184651](https://static-docs.nocobase.com/20250312184651.png)

## أدوار مستقلة

بشكل افتراضي، يستخدم النظام أدوارًا مستقلة: لا يتم استخدام اتحاد الأدوار، ويحتاج المستخدمون إلى التبديل بين الأدوار التي يمتلكونها بشكل فردي.

![20250312184729](https://static-docs.nocobase.com/20250312184729.png)
![20250312184826](https://static-docs.nocobase.com/20250312184826.png)

## السماح باتحاد الأدوار

يسمح لمطوري النظام باستخدام اتحاد الأدوار، مما يعني أنه يمكن للمستخدمين الحصول على صلاحيات جميع الأدوار التي يمتلكونها في نفس الوقت، مع السماح لهم أيضًا بالتبديل بين أدوارهم بشكل فردي.

![20250312185006](https://static-docs.nocobase.com/20250312185006.png)

## اتحاد الأدوار فقط

يُجبر المستخدمون على استخدام اتحاد الأدوار فقط ولا يمكنهم التبديل بين الأدوار بشكل فردي.

![20250312185105](https://static-docs.nocobase.com/20250312185105.png)

## قواعد اتحاد الأدوار

يمنح اتحاد الأدوار أقصى الصلاحيات من جميع الأدوار. توضح الفقرات التالية كيفية تحديد صلاحيات الأدوار عند وجود تعارض في نفس الإعداد بين الأدوار.

### دمج صلاحيات العمليات

مثال:
تم تكوين الدور 1 (role1) للسماح بواجهة المستخدم، وتم تكوين الدور 2 (role2) للسماح بتثبيت الإضافات وتفعيلها وتعطيلها.

![20250312190133](https://static-docs.nocobase.com/20250312190133.png)

![20250312190352](https://static-docs.nocobase.com/20250312190352.png)

عند تسجيل الدخول بدور **الصلاحيات الكاملة**، سيحصل المستخدم على كلتا الصلاحيتين في نفس الوقت.

![20250312190621](https://static-docs.nocobase.com/20250312190621.png)

### دمج نطاق البيانات

#### صفوف البيانات

السيناريو 1: أدوار متعددة تحدد شروطًا على نفس الحقل

تصفية الدور أ: Age < 30

| UserID | Name | Age |
| ------ | ---- | --- |
| 1      | Jack | 23  |
| 2      | Lily | 29  |

تصفية الدور ب: Age > 25

| UserID | Name | Age |
| ------ | ---- | --- |
| 2      | Lily | 29  |
| 3      | Sam  | 32  |

**بعد الدمج:**

| UserID | Name | Age |
| ------ | ---- | --- |
| 1      | Jack | 23  |
| 2      | Lily | 29  |
| 3      | Sam  | 32  |

السيناريو 2: أدوار مختلفة تحدد شروطًا على حقول مختلفة

تصفية الدور أ: Age < 30

| UserID | Name | Age |
| ------ | ---- | --- |
| 1      | Jack | 23  |
| 2      | Lily | 29  |

تصفية الدور ب: Name يحتوي على "Ja"

| UserID | Name   | Age |
| ------ | ------ | --- |
| 1      | Jack   | 23  |
| 3      | Jasmin | 27  |

**بعد الدمج:**

| UserID | Name   | Age |
| ------ | ------ | --- |
| 1      | Jack   | 23  |
| 2      | Lily   | 29  |
| 3      | Jasmin | 27  |

#### أعمدة البيانات

الأعمدة المرئية للدور أ: Name، Age

| UserID | Name | Age |
| ------ | ---- | --- |
| 1      | Jack | 23  |
| 2      | Lily | 29  |

الأعمدة المرئية للدور ب: Name، Sex

| UserID | Name | Sex   |
| ------ | ---- | ----- |
| 1      | Jack | Man   |
| 2      | Lily | Woman |

**بعد الدمج:**

| UserID | Name | Age | Sex   |
| ------ | ---- | --- | ----- |
| 1      | Jack | 23  | Man   |
| 2      | Lily | 29  | Woman |

#### دمج الصفوف والأعمدة

تصفية الدور أ: Age < 30، الأعمدة Name، Age

| UserID | Name | Age |
| ------ | ---- | --- |
| 1      | Jack | 23  |
| 2      | Lily | 29  |

تصفية الدور ب: Name يحتوي على "Ja"، الأعمدة Name، Sex

| UserID | Name  | Sex   |
| ------ | ----- | ----- |
| 3      | Jade  | Woman |
| 4      | James | Man   |

**بعد الدمج:**

| UserID | Name  | Age                                              | Sex                                                 |
| ------ | ----- | ------------------------------------------------ | --------------------------------------------------- |
| 1      | Jack  | 23                                               | <span style="background-color:#FFDDDD">Man</span>   |
| 2      | Lily  | 29                                               | <span style="background-color:#FFDDDD">Woman</span> |
| 3      | Jade  | <span style="background-color:#FFDDDD">27</span> | Woman                                               |
| 4      | James | <span style="background-color:#FFDDDD">31</span> | Man                                                 |

**ملاحظة:** تشير الخلايا المظللة إلى بيانات كانت غير مرئية في الأدوار الفردية ولكنها أصبحت مرئية بعد دمج الأدوار.

#### ملخص

قواعد دمج الأدوار لنطاق البيانات:

1.  بين الصفوف، إذا تم استيفاء أي شرط، فإن الصف يمتلك الصلاحية.
2.  بين الأعمدة، يتم دمج الحقول.
3.  عند إعداد الصفوف والأعمدة معًا، يتم الدمج بشكل منفصل لكل من الصفوف والأعمدة، وليس عن طريق دمج مجموعات (صف + عمود).