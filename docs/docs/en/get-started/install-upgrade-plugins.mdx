# Install and Upgrade Plugins

## Built-in Plugins

NocoBase built-in plugins are automatically updated with the core version and require no manual action.

## Commercial Plugins

For detailed installation and upgrade instructions, please refer to: [Commercial Plugin Activation Guide](https://www.nocobase.com/en/blog/nocobase-commercial-license-activation-guide)

## Third-party Plugins

### Online Plugin Installation

![20251103102344](https://static-docs.nocobase.com/20251103102344.png)

:::warning Note

NocoBase supports online plugin installation through the interface, but the current experience is not ideal. Reasons include:

- Due to Node.js process runtime limitations, after installing or updating plugins, you need to stop the process and then run the `upgrade` command for the changes to take effect;
- In multi-app scenarios, online installation struggles to handle plugin synchronization across multiple sub-applications simultaneously;
- Batch plugin updates are not supported;
- Online installation or updates can easily cause abnormal application process termination.

Therefore, it is recommended to use command-line or manual upload methods to install and upgrade plugins. We recommend integrating this with CI/CD workflows, using command-line methods to download, extract, and upgrade plugins, ensuring consistency and reliability for each update deployment.

:::

### Installing Plugins via Command Line

```bash
yarn pm pull https://github.com/nocobase/plugin-auth-cas/releases/download/v1.4.0/plugin-auth-cas-1.4.0.tgz
yarn pm pull /your/path/plugin-auth-cas-1.4.0.tgz
```

If the plugin is already installed and needs to be upgraded, run the following command:

```bash
yarn nocobase upgrade --skip-code-update
```

### Manual Upload and Extraction

Please download the plugin package to your local machine first, then manually upload and extract it to the `./storage/plugins` directory. If the plugin is already enabled, execute the following command to complete the plugin upgrade after uploading and extracting.

> ⚠️ **Note**: To avoid cache issues, please ensure that the NocoBase application is stopped before execution.

```bash
yarn nocobase upgrade --skip-code-update
```

### Correct Way to Extract a Plugin

The following example demonstrates how to correctly extract a plugin package to the specified directory:

```bash
mkdir -p /my-nocobase/storage/plugins/@nocobase/plugin-auth-cas && \
  tar -xvzf /downloads/plugin-auth-cas-1.4.0.tgz \
  -C /my-nocobase/storage/plugins/@nocobase/plugin-auth-cas \
  --strip-components=1
```

This command will extract the plugin to the specified directory without creating an extra `package` directory layer.

```bash
/my-nocobase/storage/plugins/@nocobase/plugin-auth-cas
```

### Example of a Correct Directory Structure

```bash
./plugin-auth-cas/dist/server/migrations/20240425200816-change-locale-module.js
./plugin-auth-cas/dist/server/auth.js
./plugin-auth-cas/client.js
./plugin-auth-cas/dist/constants.js
./plugin-auth-cas/dist/externalVersion.js
./plugin-auth-cas/dist/client/index.js
./plugin-auth-cas/dist/index.js
./plugin-auth-cas/dist/server/index.js
./plugin-auth-cas/dist/server/actions/login.js
./plugin-auth-cas/dist/server/plugin.js
./plugin-auth-cas/server.js
./plugin-auth-cas/dist/server/actions/service.js
./plugin-auth-cas/dist/locale/en-US.json
./plugin-auth-cas/dist/locale/ko_KR.json
./plugin-auth-cas/package.json
./plugin-auth-cas/dist/locale/zh-CN.json
./plugin-auth-cas/README.md
./plugin-auth-cas/README.zh-CN.md
./plugin-auth-cas/dist/server/migrations/20240425200816-change-locale-module.d.ts
./plugin-auth-cas/dist/server/auth.d.ts
./plugin-auth-cas/client.d.ts
./plugin-auth-cas/dist/constants.d.ts
./plugin-auth-cas/dist/client/index.d.ts
./plugin-auth-cas/dist/client/locale/index.d.ts
./plugin-auth-cas/dist/index.d.ts
./plugin-auth-cas/dist/server/index.d.ts
./plugin-auth-cas/dist/server/actions/login.d.ts
./plugin-auth-cas/dist/client/Options.d.ts
./plugin-auth-cas/dist/server/plugin.d.ts
./plugin-auth-cas/server.d.ts
./plugin-auth-cas/dist/server/actions/service.d.ts
./plugin-auth-cas/dist/client/SigninPage.d.ts
./plugin-auth-cas/LICENSE.txt
```