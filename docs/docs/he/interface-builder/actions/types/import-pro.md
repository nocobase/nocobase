---
pkg: "@nocobase/plugin-action-import-pro"
---
:::tip
מסמך זה תורגם על ידי בינה מלאכותית. לכל אי דיוק, אנא עיין ב[גרסה האנגלית](/en)
:::

# ייבוא Pro

## מבוא

תוסף הייבוא Pro מציע יכולות משופרות בנוסף לפונקציונליות הייבוא הסטנדרטית.

## התקנה

תוסף זה תלוי בתוסף לניהול משימות אסינכרוניות. עליכם להפעיל את תוסף ניהול המשימות האסינכרוניות לפני השימוש בו.

## שיפורי תכונות

![20251029172052](https://static-docs.nocobase.com/20251029172052.png)

- תומך בפעולות ייבוא אסינכרוניות, המבוצעות בשרשור נפרד, ותומך בייבוא כמויות גדולות של נתונים.

![20251029172129](https://static-docs.nocobase.com/20251029172129.png)

- תומך באפשרויות ייבוא מתקדמות.

## מדריך למשתמש

### ייבוא אסינכרוני

לאחר ביצוע ייבוא, התהליך ירוץ בשרשור רקע נפרד ללא צורך בהגדרה ידנית מצד המשתמש. בממשק המשתמש, לאחר הפעלת פעולת ייבוא, משימת הייבוא הפעילה תוצג בפינה הימנית העליונה, ותציג את התקדמות המשימה בזמן אמת.

![index-2024-12-30-09-21-05](https://static-docs.nocobase.com/index-2024-12-30-09-21-05.png)

לאחר השלמת הייבוא, תוכלו לצפות בתוצאות במשימות הייבוא.

#### אודות ביצועים

כדי להעריך את ביצועי ייבוא הנתונים בקנה מידה גדול, ערכנו בדיקות השוואתיות בתרחישים שונים, סוגי שדות ותצורות הפעלה (התוצאות עשויות להשתנות בהתאם לתצורות שרת ובסיס נתונים, ונועדו לעיון בלבד):

| נפח נתונים | סוגי שדות | תצורת ייבוא | זמן עיבוד |
|------|---------|---------|---------|
| מיליון רשומות | מחרוזת, מספר, תאריך, אימייל, טקסט ארוך | • הפעלת תהליך עבודה: לא<br>• מזהה כפילויות: ללא | כדקה אחת |
| 500,000 רשומות | מחרוזת, מספר, תאריך, אימייל, טקסט ארוך, רבים-לרבים | • הפעלת תהליך עבודה: לא<br>• מזהה כפילויות: ללא | כ-16 דקות |
| 500,000 רשומות | מחרוזת, מספר, תאריך, אימייל, טקסט ארוך, רבים-לרבים, רבים-לאחד | • הפעלת תהליך עבודה: לא<br>• מזהה כפילויות: ללא | כ-22 דקות |
| 500,000 רשומות | מחרוזת, מספר, תאריך, אימייל, טקסט ארוך, רבים-לרבים, רבים-לאחד | • הפעלת תהליך עבודה: הפעלת התראה אסינכרונית<br>• מזהה כפילויות: ללא | כ-22 דקות |
| 500,000 רשומות | מחרוזת, מספר, תאריך, אימייל, טקסט ארוך, רבים-לרבים, רבים-לאחד | • הפעלת תהליך עבודה: הפעלת התראה אסינכרונית<br>• מזהה כפילויות: עדכון כפילויות, עם 50,000 רשומות כפולות | כשלוש שעות |

בהתבסס על תוצאות בדיקות הביצועים לעיל וכמה עיצובים קיימים, להלן הסברים והמלצות לגבי גורמים משפיעים:

1.  **מנגנון טיפול ברשומות כפולות**: כאשר בוחרים באפשרויות **עדכון רשומות כפולות** או **עדכון רשומות כפולות בלבד**, המערכת מבצעת פעולות שאילתה ועדכון שורה אחר שורה, מה שמפחית משמעותית את יעילות הייבוא. אם קובץ ה-Excel שלכם מכיל נתונים כפולים מיותרים, הדבר ישפיע עוד יותר על מהירות הייבוא. מומלץ לנקות נתונים כפולים מיותרים בקובץ ה-Excel (לדוגמה, באמצעות כלי מקצועי להסרת כפילויות) לפני הייבוא למערכת, כדי למנוע בזבוז זמן מיותר.

2.  **יעילות עיבוד שדות יחסים**: המערכת מעבדת שדות יחסים באמצעות שאילתות אסוציאטיביות שורה אחר שורה, מה שעלול להפוך לצוואר בקבוק בביצועים בתרחישי נתונים גדולים. עבור מבני יחסים פשוטים (כגון יחס אחד-לרבים בין שני אוספים), מומלץ לאמץ אסטרטגיית ייבוא רב-שלבית: תחילה לייבא את נתוני הבסיס של האוסף הראשי, ולאחר מכן ליצור את היחסים בין אוספים. אם דרישות העסק מחייבות ייבוא נתוני יחסים בו-זמנית, אנא עיינו בתוצאות בדיקות הביצועים בטבלה לעיל כדי לתכנן את זמן הייבוא באופן סביר.

3.  **מנגנון הפעלת תהליכי עבודה**: לא מומלץ להפעיל טריגרים של תהליכי עבודה בתרחישי ייבוא נתונים בקנה מידה גדול, בעיקר משתי הסיבות הבאות:
    -   גם כאשר סטטוס משימת הייבוא מציג 100%, היא אינה מסתיימת מיד. המערכת עדיין זקוקה לזמן נוסף כדי ליצור תוכניות ביצוע של תהליכי עבודה. בשלב זה, המערכת מייצרת תוכנית ביצוע מתאימה של תהליך עבודה עבור כל רשומה מיובאת, מה שתופס את שרשור הייבוא אך אינו משפיע על השימוש בנתונים שכבר יובאו.
    -   לאחר השלמת משימת הייבוא במלואה, ביצוע מקביל של מספר רב של תהליכי עבודה עלול להעמיס על משאבי המערכת, ובכך להשפיע על מהירות התגובה הכוללת של המערכת ועל חווית המשתמש.

שלושת הגורמים המשפיעים הנ"ל יישקלו לאופטימיזציה נוספת בעתיד.

### תצורת ייבוא

#### אפשרויות ייבוא - הפעלת תהליך עבודה

![20251029172235](https://static-docs.nocobase.com/20251029172235.png)

במהלך הייבוא, תוכלו לבחור אם להפעיל תהליכי עבודה. אם אפשרות זו מסומנת והאוסף מקושר לתהליך עבודה (אירוע אוסף), הייבוא יפעיל את תהליך העבודה עבור כל שורה בנפרד.

#### אפשרויות ייבוא - זיהוי רשומות כפולות

![20251029172421](https://static-docs.nocobase.com/20251029172421.png)

סמנו אפשרות זו ובחרו את המצב המתאים כדי לזהות ולטפל ברשומות כפולות במהלך הייבוא.

האפשרויות בתצורת הייבוא יחולו כערכי ברירת מחדל. מנהלי מערכת יכולים לשלוט אם לאפשר למעלה לשנות אפשרויות אלו (למעט אפשרות הפעלת תהליך העבודה).

**הגדרות הרשאות מעלה**

![20251029172516](https://static-docs.nocobase.com/20251029172516.png)

- אפשר למעלה לשנות אפשרויות ייבוא

![20251029172617](https://static-docs.nocobase.com/20251029172617.png)

- מנע ממעלה לשנות אפשרויות ייבוא

![20251029172655](https://static-docs.nocobase.com/20251029172655.png)

##### תיאור מצבים

-   **דלג על רשומות כפולות**: מבצע שאילתה על רשומות קיימות בהתבסס על תוכן "שדה המזהה". אם הרשומה כבר קיימת, שורה זו תידלג; אם אינה קיימת, היא תיובא כרשומה חדשה.
-   **עדכן רשומות כפולות**: מבצע שאילתה על רשומות קיימות בהתבסס על תוכן "שדה המזהה". אם הרשומה כבר קיימת, רשומה זו תעודכן; אם אינה קיימת, היא תיובא כרשומה חדשה.
-   **עדכן רשומות כפולות בלבד**: מבצע שאילתה על רשומות קיימות בהתבסס על תוכן "שדה המזהה". אם הרשומה כבר קיימת, רשומה זו תעודכן; אם אינה קיימת, היא תידלג.

##### שדה מזהה

המערכת מזהה אם שורה היא רשומה כפולה בהתבסס על ערך שדה זה.

-   [כלל קישוריות](/interface-builder/actions/action-settings/linkage-rule): הצגה/הסתרה דינמית של כפתורים;
-   [כפתור עריכה](/interface-builder/actions/action-settings/edit-button): עריכת הכותרת, הסוג והאייקון של הכפתור;