---
pkg: "@nocobase/plugin-action-export-pro"
---
:::tip
מסמך זה תורגם על ידי בינה מלאכותית. לכל אי דיוק, אנא עיין ב[גרסה האנגלית](/en)
:::


# ייצוא פרו

## מבוא

תוסף ייצוא פרו מספק תכונות משופרות בנוסף לפונקציונליות הייצוא הרגילה.

## התקנה

תוסף זה תלוי בתוסף ניהול משימות אסינכרוניות. לפני השימוש בו, עליכם להפעיל תחילה את תוסף ניהול משימות אסינכרוניות.

## שיפורי תכונות

- תומך בפעולות ייצוא אסינכרוניות, המבוצעות בשרשור נפרד, לייצוא כמויות גדולות של נתונים.
- תומך בייצוא קבצים מצורפים.

## מדריך למשתמש

### הגדרת מצב ייצוא

![20251029172829](https://static-docs.nocobase.com/20251029172829.png)

![20251029172914](https://static-docs.nocobase.com/20251029172914.png)

בכפתור הייצוא, ניתן להגדיר את מצב הייצוא. קיימים שלושה מצבי ייצוא אפשריים:

- אוטומטי: מצב הייצוא נקבע לפי נפח הנתונים. אם מספר הרשומות קטן מ-1000 (או 100 לייצוא קבצים מצורפים), נעשה שימוש בייצוא סינכרוני. אם הוא גדול מ-1000 (או 100 לייצוא קבצים מצורפים), נעשה שימוש בייצוא אסינכרוני.
- סינכרוני: משתמש בייצוא סינכרוני, שרץ בשרשור הראשי. הוא מתאים לנתונים בקנה מידה קטן. ייצוא כמויות גדולות של נתונים במצב סינכרוני עלול לגרום לחסימה, קפיאה של המערכת, ואי יכולת לטפל בבקשות משתמשים אחרים.
- אסינכרוני: משתמש בייצוא אסינכרוני, שרץ בשרשור רקע נפרד ואינו חוסם את פעולת המערכת הנוכחית.

### ייצוא אסינכרוני

לאחר הפעלת ייצוא, התהליך ירוץ בשרשור רקע נפרד ללא צורך בהגדרת משתמש ידנית. בממשק המשתמש, לאחר התחלת ייצוא, משימת הייצוא הפועלת כעת תוצג בפינה הימנית העליונה, ותציג את ההתקדמות בזמן אמת.

![20251029173028](https://static-docs.nocobase.com/20251029173028.png)

לאחר השלמת הייצוא, תוכלו להוריד את הקובץ המיוצא ממשימות הייצוא.

#### ייצוא מקבילי
מספר רב של משימות ייצוא מקביליות יכול להיות מושפע מתצורת השרת, מה שמוביל לתגובת מערכת איטית יותר. לכן, מומלץ למפתחי מערכת להגדיר את המספר המרבי של משימות ייצוא מקביליות (ברירת מחדל היא 3). כאשר מספר המשימות המקביליות חורג מהמגבלה שהוגדרה, משימות חדשות יעמדו בתור.
![20250505171706](https://static-docs.nocobase.com/20250505171706.png)

שיטת הגדרת מקביליות: משתנה סביבה `ASYNC_TASK_MAX_CONCURRENCY=concurrency_count`

בהתבסס על בדיקות מקיפות עם תצורות שונות ומורכבות נתונים, ספירות המקביליות המומלצות הן:
- מעבד 2 ליבות, ספירת מקביליות 3.
- מעבד 4 ליבות, ספירת מקביליות 5.

#### אודות ביצועים
כאשר אתם מגלים שתהליך הייצוא איטי באופן חריג (ראו הפניה מטה), ייתכן שמדובר בבעיית ביצועים הנגרמת על ידי מבנה ה**אוסף**.

| מאפייני נתונים | סוג אינדקס | נפח נתונים | משך ייצוא |
|---------|---------|--------|---------|
| שדות ללא קשרים | מפתח ראשי / אילוץ ייחודי | 1 מיליון | 3～6 דקות |  
| שדות ללא קשרים | אינדקס רגיל | 1 מיליון | 6～10 דקות | 
| שדות ללא קשרים | אינדקס מורכב (לא ייחודי) | 1 מיליון | 30 דקות | 
| שדות קשרים<br>(אחד לאחד, אחד לרבים,<br>רבים לאחד, רבים לרבים) | מפתח ראשי / אילוץ ייחודי | 500 אלף | 15～30 דקות | שדות קשרים מפחיתים ביצועים |

כדי להבטיח ייצוא יעיל, אנו ממליצים לכם:
1. ה**אוסף** חייב לעמוד בתנאים הבאים:

| סוג תנאי | תנאי נדרש | הערות נוספות |
|---------|------------------------|------|
| מבנה אוסף (לפחות אחד) | יש מפתח ראשי<br>יש אילוץ ייחודי<br>יש אינדקס (ייחודי, רגיל, מורכב) | עדיפות: מפתח ראשי > אילוץ ייחודי > אינדקס
| מאפייני שדה | המפתח הראשי / אילוץ ייחודי / אינדקס (אחד מהם) חייב להיות בעל מאפייני מיון, כגון: מזהה אוטומטי, Snowflake ID, UUID v1, חותמת זמן, מספר וכו'.<br>(שימו לב: שדות שאינם ניתנים למיון כמו UUID v3/v4/v5, מחרוזות רגילות וכו', ישפיעו על הביצועים) | אין |

2. צמצמו את מספר השדות המיותרים לייצוא, במיוחד שדות קשרים (בעיות ביצועים הנגרמות על ידי שדות קשרים עדיין נמצאות באופטימיזציה).
![20250506215940](https://static-docs.nocobase.com/20250506215940.png)
3. אם הייצוא עדיין איטי לאחר עמידה בתנאים הנ"ל, תוכלו לנתח את הרישומים (לוגים) או לספק משוב לצוות הרשמי.
![20250505182122](https://static-docs.nocobase.com/20250505182122.png)

- [כלל קישוריות](/interface-builder/actions/action-settings/linkage-rule): הצגה/הסתרה דינמית של הכפתור;
- [עריכת כפתור](/interface-builder/actions/action-settings/edit-button): עריכת הכותרת, הסוג והאייקון של הכפתור;