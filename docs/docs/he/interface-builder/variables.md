:::tip
מסמך זה תורגם על ידי בינה מלאכותית. לכל אי דיוק, אנא עיין ב[גרסה האנגלית](/en)
:::

# משתנים

## מבוא

משתנים הם קבוצה של אסימונים המשמשים לזיהוי ערך בהקשר הנוכחי. ניתן להשתמש בהם במגוון תרחישים, כגון הגדרת טווחי נתונים של בלוקים, ערכי ברירת מחדל לשדות, כללי קישור (linkage rules) וכן תהליכי עבודה (Workflow).

![20251030114458](https://static-docs.nocobase.com/20251030114458.png)

## משתנים נתמכים כעת

### משתמש נוכחי

מייצג את הנתונים של המשתמש המחובר כעת.

![20240416154950](https://static-docs.nocobase.com/20240416154950.png)

### תפקיד נוכחי

מייצג את מזהה התפקיד (role name) של המשתמש המחובר כעת.

![20240416155100](https://static-docs.nocobase.com/20240416155100.png)

### טופס נוכחי

הערכים של הטופס הנוכחי, המשמשים רק בבלוקי טופס. תרחישי שימוש כוללים:

- כללי קישור עבור הטופס הנוכחי
- ערכי ברירת מחדל לשדות טופס (תקף רק בעת הוספת נתונים חדשים)
- הגדרות טווח נתונים לשדות קשר
- הגדרת הקצאת ערכים לשדות בפעולות שליחה

#### כללי קישור עבור הטופס הנוכחי

![20251027114920](https://static-docs.nocobase.com/20251027114920.png)

#### ערכי ברירת מחדל לשדות טופס (טופס הוספה בלבד)

![20251027115016](https://static-docs.nocobase.com/20251027115016.png)

#### הגדרות טווח נתונים לשדות קשר

משמש לסינון דינמי של האפשרויות בשדה תלוי (downstream field) בהתבסס על שדה מקור (upstream field), מה שמבטיח הזנת נתונים מדויקת.

**דוגמה:**

1. המשתמש בוחר ערך עבור השדה **Owner**.
2. המערכת מסננת אוטומטית את האפשרויות עבור השדה **Account** בהתבסס על ה-**userName** של ה-Owner שנבחר.

![20251030151928](https://static-docs.nocobase.com/20251030151928.png)

### רשומה נוכחית

רשומה מתייחסת לשורה בתוך אוסף (Collection), כאשר כל שורה מייצגת רשומה בודדת. המשתנה "רשומה נוכחית" זמין ב**כללי הקישור לפעולות שורה** של בלוקים מסוג תצוגה.

דוגמה: השבתת כפתור המחיקה עבור מסמכים שסומנו כ"שולמו".

![20251027120217](https://static-docs.nocobase.com/20251027120217.png)

### רשומת חלון קופץ נוכחית

פעולות חלון קופץ ממלאות תפקיד חשוב מאוד בהגדרות הממשק של NocoBase.

- חלון קופץ לפעולות שורה: לכל חלון קופץ יש משתנה "רשומת חלון קופץ נוכחית", המייצג את רשומת השורה הנוכחית.
- חלון קופץ לשדות קשר: לכל חלון קופץ יש משתנה "רשומת חלון קופץ נוכחית", המייצג את רשומת הקשר שנלחצה כעת.

בלוקים בתוך חלון קופץ יכולים להשתמש במשתנה "רשומת חלון קופץ נוכחית". תרחישי שימוש קשורים כוללים:

- הגדרת טווח הנתונים של בלוק
- הגדרת טווח הנתונים של שדה קשר
- הגדרת ערכי ברירת מחדל לשדות (בטופס להוספת נתונים חדשים)
- הגדרת כללי קישור לפעולות

### פרמטרי שאילתה של URL

משתנה זה מייצג את פרמטרי השאילתה ב-URL של העמוד הנוכחי. הוא זמין רק כאשר קיימת מחרוזת שאילתה ב-URL של העמוד. נוח יותר להשתמש בו יחד עם [פעולת קישור](/interface-builder/actions/types/link).

![20251027173017](https://static-docs.nocobase.com/20251027173017.png)

![20251027173121](https://static-docs.nocobase.com/20251027173121.png)

### אסימון API

ערכו של משתנה זה הוא מחרוזת, המשמשת כאישור גישה ל-API של NocoBase. ניתן להשתמש בו לאימות זהות המשתמש.

### סוג מכשיר נוכחי

דוגמה: אל תציג את פעולת "הדפסת תבנית" במכשירים שאינם מחשבים שולחניים.

![20251029215303](https://static-docs.nocobase.com/20251029215303.png)