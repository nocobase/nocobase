:::tip
מסמך זה תורגם על ידי בינה מלאכותית. לכל אי דיוק, אנא עיין ב[גרסה האנגלית](/en)
:::

# עדכון נתונים

צומת 'עדכון נתונים' מאפשר לכם לעדכן נתונים באוסף העונים לתנאים מוגדרים.

הגדרת האוסף והשדות זהה לזו של צומת 'יצירת רשומה'. ההבדל העיקרי בצומת 'עדכון נתונים' הוא הוספת תנאי סינון והצורך לבחור מצב עדכון. בנוסף, תוצאת צומת 'עדכון נתונים' מחזירה את מספר השורות שעודכנו בהצלחה. ניתן לצפות בנתון זה רק בהיסטוריית הביצוע ולא ניתן להשתמש בו כמשתנה בצמתים הבאים.

## יצירת צומת

בממשק הגדרות תהליך העבודה, לחצו על כפתור הפלוס ("+") בזרימה כדי להוסיף צומת "עדכון נתונים":

![הוספת צומת עדכון נתונים](https://static-docs.nocobase.com/9ff24d7bc173b3a71decc1f70ca9fb66.png)

## הגדרות צומת

![הגדרות צומת עדכון נתונים](https://static-docs.nocobase.com/98e0f941c57275fc835f08260d0b2e86.png)

### אוסף

בחרו את האוסף שבו יש לעדכן נתונים.

### מצב עדכון

קיימים שני מצבי עדכון:

*   **עדכון בצובר (Bulk update)**: אינו מפעיל אירועי אוסף עבור כל רשומה מעודכנת. הוא מציע ביצועים טובים יותר ומתאים לפעולות עדכון בנפח גדול.
*   **עדכון פרטני (Update one by one)**: מפעיל אירועי אוסף עבור כל רשומה מעודכנת. עם זאת, הוא עלול לגרום לבעיות ביצועים עם נפחי נתונים גדולים ויש להשתמש בו בזהירות.

הבחירה תלויה בדרך כלל בנתוני היעד לעדכון ובשאלה האם יש להפעיל אירועי תהליך עבודה אחרים. אם אתם מעדכנים רשומה בודדת על בסיס מפתח ראשי, מומלץ להשתמש ב"עדכון פרטני". אם אתם מעדכנים מספר רשומות על בסיס תנאים, מומלץ להשתמש ב"עדכון בצובר".

### תנאי סינון

בדומה לתנאי הסינון בשאילתת אוסף רגילה, ניתן להשתמש במשתני הקשר מתהליך העבודה.

### ערכי שדות

בדומה להגדרת שדות בצומת "יצירת רשומה", ניתן להשתמש במשתני הקשר מתהליך העבודה או להזין ערכים סטטיים באופן ידני.

**הערה**: נתונים המעודכנים על ידי צומת "עדכון נתונים" בתהליך עבודה אינם מטופלים אוטומטית בשדה "שונה לאחרונה על ידי". עליכם להגדיר את ערך השדה הזה בעצמכם לפי הצורך.

## דוגמה

לדוגמה, כאשר נוצר "מאמר" חדש, עליכם לעדכן אוטומטית את שדה "מספר המאמרים" באוסף "קטגוריית מאמרים". ניתן להשיג זאת באמצעות צומת "עדכון נתונים":

![הגדרות צומת עדכון נתונים - דוגמה](https://static-docs.nocobase.com/98e0f941c57275fc835f08260d0b2e86.png)

לאחר הפעלת תהליך העבודה, שדה "מספר המאמרים" באוסף "קטגוריית מאמרים" יעודכן אוטומטית למספר המאמרים הנוכחי + 1.