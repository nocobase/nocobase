:::tip
מסמך זה תורגם על ידי בינה מלאכותית. לכל אי דיוק, אנא עיין ב[גרסה האנגלית](/en)
:::

# פיצול מרובה תנאים



# פיצול מרובה תנאים <Badge>v2.0.0+</Badge>

## מבוא

בדומה לפקודות `switch / case` או `if / else if` בשפות תכנות. המערכת מעריכה את התנאים שהוגדרו, אחד אחד, לפי הסדר. ברגע שתנאי מסוים מתקיים, היא מבצעת את תהליך העבודה בענף המתאים ומדלגת על בדיקת התנאים הבאים. אם אף אחד מהתנאים לא מתקיים, היא מבצעת את הענף 'אחרת'.

## יצירת צומת

בממשק הגדרות תהליך העבודה, לחצו על כפתור הפלוס ('+') בתהליך, כדי להוסיף צומת 'פיצול מרובה תנאים':

![יצירת צומת פיצול מרובה תנאים](https://static-docs.nocobase.com/20251123222134.png)

## ניהול ענפים

### ענפי ברירת מחדל

לאחר יצירת הצומת, הוא כולל שני ענפים כברירת מחדל:

1.  **ענף תנאי**: מאפשר להגדיר תנאי בדיקה ספציפיים.
2.  **ענף אחרת**: נכנסים אליו כאשר אף אחד מענפי התנאי לא מתקיים; אינו דורש הגדרת תנאי.

לחצו על כפתור "הוסף ענף" מתחת לצומת כדי להוסיף ענפי תנאי נוספים.

![20251123222540](https://static-docs.nocobase.com/20251123222540.png)

### הוספת ענף

לאחר לחיצה על "הוסף ענף", הענף החדש יתווסף לפני ענף "אחרת".

![20251123222805](https://static-docs.nocobase.com/20251123222805.png)

### מחיקת ענף

כאשר קיימים מספר ענפי תנאי, לחצו על אייקון פח האשפה מימין לענף כדי למחוק אותו. אם נשאר רק ענף תנאי אחד, לא ניתן למחוק אותו.

![20251123223127](https://static-docs.nocobase.com/20251123223127.png)

:::info{title=הערה}
מחיקת ענף תמחק גם את כל הצמתים שבתוכו; אנא פעלו בזהירות.

ענף "אחרת" הוא ענף מובנה ולא ניתן למחוק אותו.
:::

## הגדרות צומת

### הגדרות תנאי

לחצו על שם התנאי בחלק העליון של הענף כדי לערוך את פרטי התנאי הספציפיים:

![20251123223352](https://static-docs.nocobase.com/20251123223352.png)

#### תווית תנאי

תומך בתוויות מותאמות אישית. לאחר מילוי, התווית תוצג כשם התנאי בתרשים תהליך העבודה. אם לא הוגדר (או נשאר ריק), יוצג כברירת מחדל "תנאי 1", "תנאי 2" וכו', לפי הסדר.

![20251123224209](https://static-docs.nocobase.com/20251123224209.png)

#### מנוע חישוב

כרגע נתמכים שלושה מנועים:

*   **בסיסי**: משתמש בהשוואות לוגיות פשוטות (כגון שווה, מכיל וכו') ובשילובי "וגם" / "או" לקביעת התוצאה.
*   **Math.js**: תומך בחישוב ביטויים באמצעות תחביר [Math.js](https://mathjs.org/).
*   **Formula.js**: תומך בחישוב ביטויים באמצעות תחביר [Formula.js](https://formulajs.info/) (בדומה לנוסחאות אקסל).

כל שלושת המצבים תומכים בשימוש במשתני הקשר של תהליך העבודה כפרמטרים.

### כאשר אף תנאי אינו מתקיים

בפאנל הגדרות הצומת, ניתן להגדיר את הפעולה שתתבצע כאשר אף אחד מהתנאים אינו מתקיים:

![20251123224348](https://static-docs.nocobase.com/20251123224348.png)

*   **סיים את תהליך העבודה בכשל (ברירת מחדל)**: מסמן את סטטוס תהליך העבודה ככשל ומפסיק את התהליך.
*   **המשך לבצע צמתים עוקבים**: לאחר שהצומת הנוכחי מסיים את פעולתו, ממשיך לבצע את הצמתים העוקבים בתהליך העבודה.

:::info{title=הערה}
ללא קשר לשיטת הטיפול שנבחרה, כאשר אף אחד מהתנאים אינו מתקיים, תהליך העבודה ייכנס תחילה לענף "אחרת" ויבצע את הצמתים שבתוכו.
:::

## היסטוריית ביצוע

בהיסטוריית הביצוע של תהליך העבודה, צומת פיצול מרובה תנאים מזהה את תוצאת הבדיקה של כל תנאי באמצעות צבעים שונים:

*   **ירוק**: התנאי התקיים; נכנס לענף זה לביצוע.
*   **אדום**: התנאי לא התקיים (או שגיאת חישוב); ענף זה דולג.
*   **כחול**: הבדיקה לא בוצעה (דולגה מכיוון שתנאי קודם כבר התקיים).

![20251123225455](https://static-docs.nocobase.com/20251123225455.png)

אם שגיאת הגדרה גורמת לחריגה בחישוב התנאי, בנוסף להצגה באדום, ריחוף עם העכבר מעל שם התנאי יציג מידע ספציפי על השגיאה:

![20251123231014](https://static-docs.nocobase.com/20251123231014.png)

כאשר מתרחשת חריגה בחישוב התנאי, צומת פיצול מרובה תנאים יסתיים בסטטוס "שגיאה" ולא ימשיך לבצע צמתים עוקבים.