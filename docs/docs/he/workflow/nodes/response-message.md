---
pkg: '@nocobase/plugin-workflow-response-message'
---
:::tip
מסמך זה תורגם על ידי בינה מלאכותית. לכל אי דיוק, אנא עיין ב[גרסה האנגלית](/en)
:::


# הודעת תגובה

## מבוא

צומת הודעת התגובה משמש לשליחת הודעות מותאמות אישית מתוך תהליך העבודה בחזרה ללקוח שביצע את הפעולה, בסוגים ספציפיים של תהליכי עבודה.

:::info{title=טיפ}
כרגע, הוא נתמך לשימוש בתהליכי עבודה מסוג "אירוע לפני פעולה" ו-"אירוע פעולה מותאמת אישית" במצב סנכרוני.
:::

## יצירת צומת

בסוגי תהליכי עבודה נתמכים, ניתן להוסיף צומת "הודעת תגובה" בכל מקום בתהליך העבודה. לחצו על כפתור הפלוס ("+") בתהליך העבודה כדי להוסיף צומת "הודעת תגובה":

![הוספת צומת](https://static-docs.nocobase.com/eac2b3565e95e4ce59f340624062ed3d.png)

הודעת התגובה קיימת כמערך לאורך כל תהליך הבקשה. בכל פעם שצומת הודעת תגובה מבוצע בתהליך העבודה, תוכן ההודעה החדש מתווסף למערך. כאשר השרת שולח את התגובה, כל ההודעות נשלחות ללקוח יחד.

## הגדרות צומת

תוכן ההודעה הוא מחרוזת תבנית שבה ניתן להכניס משתנים. אתם יכולים לארגן את תוכן התבנית הזה בהגדרות הצומת:

![הגדרות צומת](https://static-docs.nocobase.com/d5fa5f402d50baf3ba16048818fddfc.png)

כאשר תהליך העבודה מגיע לביצוע צומת זה, התבנית תנותח כדי ליצור את תוכן ההודעה. בהגדרות שלמעלה, המשתנה "משתנה מקומי / לולאת כל המוצרים / אובייקט לולאה / מוצר / כותרת" יוחלף בערך ספציפי בתהליך העבודה בפועל, לדוגמה:

```
מוצר "iPhone 14 pro" אזל מהמלאי
```

![תוכן הודעה](https://static-docs.nocobase.com/06bd4a6b6ec499c853f0c39987f63a6a.png)

## הגדרות תהליך עבודה

סטטוס הודעת התגובה תלוי בהצלחת או כישלון ביצוע תהליך העבודה. כישלון בביצוע של כל צומת יוביל לכישלון של כל תהליך העבודה. במקרה זה, תוכן ההודעה יוחזר ללקוח בסטטוס כישלון ויוצג.

אם אתם צריכים להגדיר באופן יזום מצב כישלון בתהליך העבודה, אתם יכולים להשתמש ב-"צומת סיום" ולהגדיר אותו למצב כישלון. כאשר צומת זה מבוצע, תהליך העבודה יצא במצב כישלון, וההודעה תוחזר ללקוח בסטטוס כישלון.

אם כל תהליך העבודה אינו מייצר מצב כישלון ומבוצע בהצלחה עד הסוף, תוכן ההודעה יוחזר ללקוח בסטטוס הצלחה.

:::info{title=טיפ}
אם מוגדרים מספר צומתי הודעת תגובה בתהליך העבודה, הצמתים שבוצעו יוסיפו את תוכן ההודעה למערך. כאשר יוחזרו בסופו של דבר ללקוח, כל תוכן ההודעה יוחזר ויוצג יחד.
:::

## תרחישי שימוש

### תהליך עבודה "אירוע לפני פעולה"

שימוש בהודעת תגובה בתהליך עבודה מסוג "אירוע לפני פעולה" מאפשר שליחת משוב הודעה מתאים ללקוח לאחר סיום תהליך העבודה. לפרטים נוספים, עיינו ב-[אירוע לפני פעולה](../triggers/pre-action.md).

### תהליך עבודה "אירוע פעולה מותאמת אישית"

שימוש בהודעת תגובה ב-"אירוע פעולה מותאמת אישית" במצב סנכרוני מאפשר שליחת משוב הודעה מתאים ללקוח לאחר סיום תהליך העבודה. לפרטים נוספים, עיינו ב-[אירוע פעולה מותאמת אישית](../triggers/custom-action.md).