---
pkg: '@nocobase/plugin-workflow-subflow'
---
:::tip
מסמך זה תורגם על ידי בינה מלאכותית. לכל אי דיוק, אנא עיין ב[גרסה האנגלית](/en)
:::


# הפעלת תהליך עבודה

## מבוא

משמש להפעלת תהליכי עבודה אחרים מתוך תהליך עבודה קיים. אתם יכולים להשתמש במשתנים מתהליך העבודה הנוכחי כקלט עבור תהליך העבודה המשני, ולהשתמש בפלט שלו כמשתנים בתהליך העבודה הנוכחי לשימוש בצמתים הבאים.

תהליך הפעלת תהליך עבודה מוצג בתרשים הבא:

![20241230134634](https://static-docs.nocobase.com/20241230134634.png)

באמצעות הפעלת תהליכי עבודה, אתם יכולים לעשות שימוש חוזר בלוגיקה נפוצה של תהליכים, כמו שליחת מיילים, הודעות SMS וכדומה, או לפרק תהליך עבודה מורכב למספר תהליכי עבודה משניים, כדי להקל על הניהול והתחזוקה.

במהותו, תהליך עבודה אינו מבחין אם תהליך מסוים הוא תהליך עבודה משני. כל תהליך עבודה יכול להיות מופעל כתהליך עבודה משני על ידי תהליכי עבודה אחרים, והוא גם יכול להפעיל תהליכי עבודה אחרים. כל תהליכי העבודה שווים; קיים רק יחס של הפעלה ושל היות מופעל.

באופן דומה, השימוש בהפעלת תהליך עבודה מתרחש בשני מקומות:

1.  בתהליך העבודה הראשי: כגורם המפעיל, הוא מפעיל תהליכי עבודה אחרים באמצעות צומת "הפעלת תהליך עבודה".
2.  בתהליך העבודה המשני: כגורם המופעל, הוא שומר את המשתנים שצריכים לצאת מתהליך העבודה הנוכחי באמצעות צומת "פלט תהליך עבודה", וניתן להשתמש בהם על ידי צמתים עוקבים בתהליך העבודה שהפעיל אותו.

## יצירת צומת

בממשק הגדרות תהליך העבודה, לחצו על כפתור הפלוס ("+") בתהליך העבודה כדי להוסיף צומת "הפעלת תהליך עבודה":

![הוספת צומת הפעלת תהליך עבודה](https://static-docs.nocobase.com/20241230001323.png)

## הגדרת צומת

### בחירת תהליך עבודה

בחרו את תהליך העבודה שברצונכם להפעיל. אתם יכולים להשתמש בתיבת החיפוש כדי למצוא אותו במהירות:

![בחירת תהליך עבודה](https://static-docs.nocobase.com/20241230001534.png)

:::info{title=טיפ}
*   תהליכי עבודה שאינם פעילים יכולים גם הם להיות מופעלים כתהליכי עבודה משניים.
*   כאשר תהליך העבודה הנוכחי נמצא במצב סינכרוני, הוא יכול להפעיל רק תהליכי עבודה משניים שנמצאים גם הם במצב סינכרוני.
:::

### הגדרת משתני טריגר של תהליך עבודה

לאחר בחירת תהליך עבודה, עליכם גם להגדיר את משתני הטריגר כנתוני קלט להפעלת תהליך העבודה המשני. אתם יכולים לבחור ישירות נתונים סטטיים או לבחור משתנים מתהליך העבודה הנוכחי:

![הגדרת משתני טריגר](https://static-docs.nocobase.com/20241230162722.png)

סוגים שונים של טריגרים דורשים משתנים שונים, וניתן להגדיר אותם בטופס לפי הצורך.

## צומת פלט תהליך עבודה

עיינו בתוכן של צומת [פלט תהליך עבודה](./output.md) כדי להגדיר את משתני הפלט של תהליך העבודה המשני.

## שימוש בפלט תהליך עבודה

חזרה לתהליך העבודה הראשי, בצמתים אחרים מתחת לצומת הפעלת תהליך עבודה, כאשר אתם רוצים להשתמש בערך הפלט של תהליך העבודה המשני, אתם יכולים לבחור את התוצאה של צומת הפעלת תהליך עבודה. אם תהליך העבודה המשני מוציא ערך פשוט, כמו מחרוזת, מספר, ערך בוליאני, תאריך (תאריך הוא מחרוזת בפורמט UTC) וכדומה, ניתן להשתמש בו ישירות. אם מדובר באובייקט מורכב (כמו אובייקט מתוך אוסף), יש למפות אותו תחילה באמצעות צומת ניתוח JSON (JSON Parse) לפני שניתן יהיה להשתמש במאפייניו; אחרת, ניתן להשתמש בו רק כאובייקט שלם.

אם תהליך העבודה המשני אינו כולל צומת פלט תהליך עבודה מוגדר, או שאין לו ערך פלט, אזי בעת שימוש בתוצאה של צומת הפעלת תהליך עבודה בתהליך העבודה הראשי, תקבלו רק ערך ריק (`null`).