:::tip
מסמך זה תורגם על ידי בינה מלאכותית. לכל אי דיוק, אנא עיין ב[גרסה האנגלית](/en)
:::

# תוכנית ביצוע (היסטוריה)

לאחר שתהליך עבודה מופעל, נוצרת תוכנית ביצוע מתאימה כדי לעקוב אחר תהליך ההרצה. לכל תוכנית ביצוע יש ערך סטטוס המציין את סטטוס הביצוע הנוכחי, שניתן לצפות בו ברשימה ובפרטים של היסטוריית הביצוע.

![סטטוס תוכנית ביצוע](https://static-docs.nocobase.com/d4440d92ccafac6fac85da4415bb2a26.png)

כאשר כל הצמתים בענף התהליך הראשי מבוצעים עד לסיום התהליך בסטטוס "הושלם", תוכנית הביצוע כולה תסתיים בסטטוס "הושלם". כאשר צומת בענף התהליך הראשי מגיע לסטטוס סופי כגון "נכשל", "שגיאה", "בוטל" או "נדחה", תוכנית הביצוע כולה **תופסק בטרם עת** בסטטוס המתאים. כאשר צומת בענף התהליך הראשי נמצא בסטטוס "ממתין", תוכנית הביצוע כולה תושהה, אך עדיין תציג סטטוס "בביצוע", עד שהצומת הממתין יחודש. סוגי צמתים שונים מטפלים במצב ההמתנה באופן שונה. לדוגמה, צומת ידני דורש המתנה לטיפול ידני, בעוד שצומת השהיה דורש המתנה עד שיעבור הזמן המוגדר לפני המשך.

סטטוסי תוכנית ביצוע מפורטים בטבלה הבאה:

| סטטוס | סטטוס מקביל של הצומת האחרון שבוצע בתהליך הראשי | משמעות |
| :----- | :--------------------------------------------- | :------------------------------------------------------------------- |
| בתור | - | תהליך העבודה הופעל ותוכנית ביצוע נוצרה, ממתינה בתור לתזמון. |
| בביצוע | ממתין | הצומת דורש השהיה, ממתין לקלט נוסף או לקריאה חוזרת כדי להמשיך. |
| הושלם | הושלם | לא נתקלו בבעיות, וכל הצמתים בוצעו בזה אחר זה כמצופה. |
| נכשל | נכשל | נכשל עקב אי-עמידה בתצורת הצומת. |
| שגיאה | שגיאה | הצומת נתקל בשגיאת תוכנה שלא טופלה והופסק בטרם עת. |
| בוטל | בוטל | צומת ממתין בוטל חיצונית על ידי מנהל תהליך העבודה, והופסק בטרם עת. |
| נדחה | נדחה | בצומת טיפול ידני, נדחה ידנית, והתהליך העוקב לא ימשיך. |

בדוגמה של [התחלה מהירה](../getting-started.md) כבר למדנו שעל ידי צפייה בפרטי היסטוריית הביצוע של תהליך עבודה, אנו יכולים לבדוק אם כל הצמתים בוצעו כרגיל, וכן את סטטוס הביצוע ונתוני התוצאה של כל צומת שבוצע. בתהליכי עבודה וצמתים מתקדמים מסוימים, לצומת עשויות להיות מספר תוצאות, לדוגמה, תוצאות של צומת לולאה:

![תוצאות צומת מהרצות מרובות](https://static-docs.nocobase.com/bbda259fa2ddf62b0fc0f982efbedae9.png)

:::info{title=טיפ}
תהליכי עבודה יכולים להיות מופעלים במקביל, אך הם מבוצעים ברצף בתור. גם אם מספר תהליכי עבודה מופעלים בו-זמנית, הם יבוצעו בזה אחר זה, ולא במקביל. לכן, סטטוס "בתור" פירושו שתהליכי עבודה אחרים פועלים כעת ויש להמתין.

סטטוס "בביצוע" מציין רק שתוכנית הביצוע החלה, ובדרך כלל מושהית עקב מצב המתנה של צומת פנימי. הוא אינו אומר שתוכנית ביצוע זו תפסה את משאבי הביצוע בראש התור. לכן, כאשר קיימת תוכנית ביצוע "בביצוע", תוכניות ביצוע אחרות "בתור" עדיין יכולות להיות מתוזמנות להתחיל.
:::

## סטטוס ביצוע צומת

סטטוס תוכנית ביצוע נקבע על ידי ביצוע כל אחד מהצמתים שלה. בתוכנית ביצוע לאחר הפעלה, כל צומת מייצר סטטוס ביצוע לאחר הרצתו, וסטטוס זה קובע אם התהליך העוקב ימשיך. בדרך כלל, לאחר שצומת מבוצע בהצלחה, הצומת הבא יבוצע, עד שכל הצמתים יבוצעו ברצף או שהתהליך יופסק. כאשר נתקלים בצמתים הקשורים לבקרת זרימה, כגון ענפים, לולאות, ענפים מקבילים, השהיות וכו', זרימת הביצוע לצומת הבא נקבעת על בסיס התנאים שהוגדרו בצומת ונתוני הקונטקסט של זמן הריצה.

הסטטוסים האפשריים של צומת לאחר ביצוע מפורטים בטבלה הבאה:

| סטטוס | האם סטטוס סופי | מפסיק בטרם עת | משמעות |
| :----- | :------------: | :------------: | :------------------------------------------------------------------- |
| ממתין | לא | לא | הצומת דורש השהיה, ממתין לקלט נוסף או לקריאה חוזרת כדי להמשיך. |
| הושלם | כן | לא | לא נתקלו בבעיות, בוצע בהצלחה, וממשיך לצומת הבא עד לסיום. |
| נכשל | כן | כן | נכשל עקב אי-עמידה בתצורת הצומת. |
| שגיאה | כן | כן | הצומת נתקל בשגיאת תוכנה שלא טופלה והופסק בטרם עת. |
| בוטל | כן | כן | צומת ממתין בוטל חיצונית על ידי מנהל תהליך העבודה, והופסק בטרם עת. |
| נדחה | כן | כן | בצומת טיפול ידני, נדחה ידנית, והתהליך העוקב לא ימשיך. |

למעט סטטוס "ממתין", כל שאר הסטטוסים הם סטטוסים סופיים לביצוע צומת. רק כאשר הסטטוס הסופי הוא "הושלם" התהליך ימשיך; אחרת, כל ביצוע תהליך העבודה יופסק בטרם עת. כאשר צומת נמצא בזרימת ענף (ענף מקביל, תנאי, לולאה וכו'), הסטטוס הסופי שנוצר מביצוע הצומת יטופל על ידי הצומת שהפעיל את הענף, וזה קובע את זרימת תהליך העבודה כולו.

לדוגמה, כאשר אנו משתמשים בצומת תנאי במצב "'כן' להמשך", אם התוצאה היא "לא" במהלך הביצוע, תהליך העבודה כולו יופסק בטרם עת בסטטוס "נכשל", וצמתים עוקבים לא יבוצעו, כפי שמוצג באיור למטה:

![ביצוע צומת נכשל](https://static-docs.nocobase.com/993aecfa1465894bb574444f0a44313e.png)

:::info{title=טיפ}
כל הסטטוסים הסופיים שאינם "הושלם" יכולים להיחשב ככישלונות, אך הסיבות לכישלון שונות. ניתן לצפות בתוצאות הביצוע של הצומת כדי להבין טוב יותר את הסיבה לכישלון.
:::