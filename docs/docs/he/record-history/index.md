---
pkg: '@nocobase/plugin-record-history'
---
:::tip
מסמך זה תורגם על ידי בינה מלאכותית. לכל אי דיוק, אנא עיין ב[גרסה האנגלית](/en)
:::


# היסטוריית רשומות

## מבוא

תוסף **היסטוריית רשומות** עוקב אחר תהליך שינוי הנתונים, שומר אוטומטית תמונות מצב ורישומי הבדלים עבור פעולות **יצירה**, **עדכון** ו**מחיקה**. הוא מסייע למשתמשים לסקור במהירות שינויים בנתונים ולבקר פעולות שבוצעו.

![](https://static-docs.nocobase.com/202511011338499.png)

## הפעלת היסטוריית רשומות

### הוספת אוספים ושדות

ראשית, עברו לדף הגדרות תוסף היסטוריית הרשומות כדי להוסיף את ה**אוספים** והשדות שעבורם תרצו לתעד היסטוריה. כדי לשפר את יעילות התיעוד ולמנוע כפילות נתונים, מומלץ להגדיר רק את ה**אוספים** והשדות החיוניים. שדות כמו מזהה ייחודי (unique ID), תאריך יצירה (createdAt), תאריך עדכון (updatedAt), יוצר (createdBy) ומעדכן (updatedBy) בדרך כלל אינם דורשים תיעוד.

![](https://static-docs.nocobase.com/202511011315010.png)

![](https://static-docs.nocobase.com/202511011316342.png)

### סנכרון תמונות מצב היסטוריות

- עבור רשומות שנוצרו לפני הפעלת תיעוד ההיסטוריה, שינויים יתועדו רק לאחר שהעדכון הראשון ייצור תמונת מצב; לכן, העדכון או המחיקה הראשוניים לא יתועדו בהיסטוריה.
- כדי לשמר את ההיסטוריה של נתונים קיימים, תוכלו לבצע סנכרון תמונות מצב חד-פעמי.
- גודל תמונת המצב ל**אוסף** מחושב כך: מספר רשומות × מספר השדות המתועדים.
- עבור מערכי נתונים גדולים, מומלץ לסנן לפי טווח נתונים ולסנכרן רק רשומות חשובות.

![](https://static-docs.nocobase.com/202511011319386.png)

![](https://static-docs.nocobase.com/202511011319284.png)

לחצו על כפתור "סנכרון תמונות מצב היסטוריות", הגדירו את השדות וטווח הנתונים הדרושים לסנכרון, וכך תוכלו להתחיל את הסנכרון.

![](https://static-docs.nocobase.com/202511011320958.png)

משימת הסנכרון תעמוד בתור ותתבצע ברקע. תוכלו לרענן את הרשימה כדי לבדוק את סטטוס השלמתה.

## שימוש בבלוק היסטוריית רשומות

### הוספת בלוק

בחרו את **בלוק היסטוריית הרשומות** ובחרו **אוסף** כדי להוסיף את בלוק ההיסטוריה המתאים לדף שלכם.

![](https://static-docs.nocobase.com/202511011323410.png)

![](https://static-docs.nocobase.com/202511011331667.png)

אם אתם מוסיפים בלוק היסטוריה בתוך חלון קופץ של פרטי רשומה, תוכלו לבחור ב"רשומה נוכחית" כדי להציג את ההיסטוריה הספציפית לרשומה זו.

![](https://static-docs.nocobase.com/202511011338042.png)

![](https://static-docs.nocobase.com/202511011338499.png)

### עריכת תבניות תיאור

לחצו על "עריכת תבנית" בהגדרות הבלוק כדי להגדיר את טקסט התיאור עבור רשומות הפעולה.

![](https://static-docs.nocobase.com/202511011340406.png)

כרגע, המערכת תומכת בהגדרת תבניות תיאור נפרדות עבור פעולות **יצירה**, **עדכון** ו**מחיקה**. עבור רשומות עדכון, ניתן גם להגדיר תבניות תיאור לשינויים בשדות, הן כתבנית אחידה לכל השדות והן כתבנית נפרדת לשדות ספציפיים.

![](https://static-docs.nocobase.com/202511011346400.png)

ניתן להשתמש במשתנים בעת הגדרת הטקסט.

![](https://static-docs.nocobase.com/202511011347163.png)

לאחר ההגדרה, תוכלו לבחור אם ליישם את התבנית על "כל בלוקי היסטוריית הרשומות של ה**אוסף** הנוכחי" או "רק בלוק היסטוריית הרשומות הנוכחי".

![](https://static-docs.nocobase.com/202511011348885.png)