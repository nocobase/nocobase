---
pkg: '@nocobase/plugin-acl'
---
:::tip
מסמך זה תורגם על ידי בינה מלאכותית. לכל אי דיוק, אנא עיין ב[גרסה האנגלית](/en)
:::


# איחוד תפקידים

איחוד תפקידים הוא מצב ניהול הרשאות. בהתאם להגדרות המערכת, מפתחי המערכת יכולים לבחור להשתמש ב'תפקידים עצמאיים', 'לאפשר איחוד תפקידים', או 'איחוד תפקידים בלבד', כדי לענות על דרישות הרשאה שונות.

![20250312184651](https://static-docs.nocobase.com/20250312184651.png)

## תפקידים עצמאיים

כברירת מחדל, המערכת משתמשת בתפקידים עצמאיים: אין שימוש באיחוד תפקידים, ומשתמשים צריכים לעבור בין התפקידים שברשותם בנפרד.

![20250312184729](https://static-docs.nocobase.com/20250312184729.png)
![20250312184826](https://static-docs.nocobase.com/20250312184826.png)

## אפשר איחוד תפקידים

מפתחי המערכת יכולים לאפשר איחוד תפקידים, מה שמאפשר למשתמשים להשתמש בו-זמנית בהרשאות של כל התפקידים שברשותם, ובמקביל עדיין מאפשר להם לעבור בין התפקידים בנפרד.

![20250312185006](https://static-docs.nocobase.com/20250312185006.png)

## איחוד תפקידים בלבד

משתמשים מחויבים להשתמש באיחוד תפקידים בלבד ואינם יכולים לעבור בין תפקידים בנפרד.

![20250312185105](https://static-docs.nocobase.com/20250312185105.png)

## כללים לאיחוד תפקידים

איחוד תפקידים מעניק את ההרשאות המקסימליות מכל התפקידים יחד. להלן הסברים כיצד לפתור התנגשויות הרשאות כאשר לתפקידים יש הגדרות שונות עבור אותה הרשאה.

### מיזוג הרשאות פעולה

דוגמה: תפקיד 1 (role1) מוגדר לאפשר הגדרת ממשק, ותפקיד 2 (role2) מוגדר לאפשר התקנה, הפעלה ונטרול של תוספים.

![20250312190133](https://static-docs.nocobase.com/20250312190133.png)

![20250312190352](https://static-docs.nocobase.com/20250312190352.png)

כאשר משתמש מתחבר עם תפקיד בעל **הרשאות מלאות**, הוא יקבל את שתי ההרשאות הללו בו-זמנית.

![20250312190621](https://static-docs.nocobase.com/20250312190621.png)

### מיזוג טווח נתונים

#### שורות נתונים

תרחיש 1: מספר תפקידים מגדירים תנאים על אותו שדה

תפקיד A, מסנן: Age < 30

| UserID | Name | Age |
| ------ | ---- | --- |
| 1      | Jack | 23  |
| 2      | Lily | 29  |

תפקיד B, מסנן: Age > 25

| UserID | Name | Age |
| ------ | ---- | --- |
| 2      | Lily | 29  |
| 3      | Sam  | 32  |

**לאחר מיזוג:**

| UserID | Name | Age |
| ------ | ---- | --- |
| 1      | Jack | 23  |
| 2      | Lily | 29  |
| 3      | Sam  | 32  |

תרחיש 2: תפקידים שונים מגדירים תנאים על שדות שונים

תפקיד A, מסנן: Age < 30

| UserID | Name | Age |
| ------ | ---- | --- |
| 1      | Jack | 23  |
| 2      | Lily | 29  |

תפקיד B, מסנן: Name מכיל "Ja"

| UserID | Name   | Age |
| ------ | ------ | --- |
| 1      | Jack   | 23  |
| 3      | Jasmin | 27  |

**לאחר מיזוג:**

| UserID | Name   | Age |
| ------ | ------ | --- |
| 1      | Jack   | 23  |
| 2      | Lily   | 29  |
| 3      | Jasmin | 27  |

#### עמודות נתונים

תפקיד A, עמודות גלויות: Name, Age

| UserID | Name | Age |
| ------ | ---- | --- |
| 1      | Jack | 23  |
| 2      | Lily | 29  |

תפקיד B, עמודות גלויות: Name, Sex

| UserID | Name | Sex   |
| ------ | ---- | ----- |
| 1      | Jack | Man   |
| 2      | Lily | Woman |

**לאחר מיזוג:**

| UserID | Name | Age | Sex   |
| ------ | ---- | --- | ----- |
| 1      | Jack | 23  | Man   |
| 2      | Lily | 29  | Woman |

#### שורות ועמודות משולבות

תפקיד A, מסנן: Age < 30, עמודות: Name, Age

| UserID | Name | Age |
| ------ | ---- | --- |
| 1      | Jack | 23  |
| 2      | Lily | 29  |

תפקיד B, מסנן: Name מכיל "Ja", עמודות: Name, Sex

| UserID | Name  | Sex   |
| ------ | ----- | ----- |
| 3      | Jade  | Woman |
| 4      | James | Man   |

**לאחר מיזוג:**

| UserID | Name  | Age                                              | Sex                                                 |
| ------ | ----- | ------------------------------------------------ | --------------------------------------------------- |
| 1      | Jack  | 23                                               | <span style="background-color:#FFDDDD">Man</span>   |
| 2      | Lily  | 29                                               | <span style="background-color:#FFDDDD">Woman</span> |
| 3      | Jade  | <span style="background-color:#FFDDDD">27</span> | Woman                                               |
| 4      | James | <span style="background-color:#FFDDDD">31</span> | Man                                                 |

**הערה: תאים המסומנים ברקע אדום מצביעים על נתונים שאינם גלויים בתפקידים בודדים, אך גלויים בתפקיד הממוזג.**

#### סיכום

כללי מיזוג תפקידים בטווח נתונים:

1. בין שורות, אם אחד התנאים מתקיים, לשורה יש הרשאות.
2. בין עמודות, השדות מצטרפים.
3. כאשר שורות ועמודות מוגדרות בו-זמנית, השורות והעמודות מתמזגות בנפרד, ולא כשילוב של (שורה + עמודה) עם (שורה + עמודה).