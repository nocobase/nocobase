---
pkg: '@nocobase/plugin-auth-wecom'
---
:::tip
מסמך זה תורגם על ידי בינה מלאכותית. לכל אי דיוק, אנא עיין ב[גרסה האנגלית](/en)
:::


# הזדהות: WeCom

## מבוא

**תוסף WeCom** מאפשר למשתמשים להתחבר ל-NocoBase באמצעות חשבונות WeCom שלהם.

## הפעלת התוסף

![](https://static-docs.nocobase.com/202406272056962.png)

## יצירה והגדרה של יישום WeCom עצמאי

עברו למסוף הניהול של WeCom כדי ליצור יישום WeCom עצמאי.

![](https://static-docs.nocobase.com/202406272101321.png)

![](https://static-docs.nocobase.com/202406272102087.png)

לחצו על היישום כדי להיכנס לדף הפרטים שלו, גללו מטה את הדף, ולחצו על "התחברות מאושרת ל-WeCom".

![](https://static-docs.nocobase.com/202406272104655.png)

הגדירו את דומיין ה-callback המאושר כדומיין היישום של NocoBase.

![](https://static-docs.nocobase.com/202406272105662.png)

חזרו לדף פרטי היישום ולחצו על "אישור אינטרנט ו-JS-SDK".

![](https://static-docs.nocobase.com/202406272107063.png)

הגדירו ואמתו את דומיין ה-callback עבור תכונת אישור האינטרנט OAuth2.0 של היישום.

![](https://static-docs.nocobase.com/202406272107899.png)

בדף פרטי היישום, לחצו על "IP מהימן של החברה".

![](https://static-docs.nocobase.com/202406272108834.png)

הגדירו את כתובת ה-IP של יישום NocoBase.

![](https://static-docs.nocobase.com/202406272109805.png)

## קבלת פרטי זיהוי ממסוף הניהול של WeCom

במסוף הניהול של WeCom, תחת "החברה שלי", העתיקו את "מזהה החברה".

![](https://static-docs.nocobase.com/202406272111637.png)

במסוף הניהול של WeCom, תחת "ניהול יישומים", עברו לדף הפרטים של היישום שיצרתם בשלב הקודם והעתיקו את ה-AgentId וה-Secret.

![](https://static-docs.nocobase.com/202406272122322.png)

## הוספת הזדהות WeCom ב-NocoBase

עברו לדף ניהול תוספי הזדהות משתמשים.

![](https://static-docs.nocobase.com/202406272115044.png)

הוספה - WeCom

![](https://static-docs.nocobase.com/202406272115805.png)

### הגדרות

![](https://static-docs.nocobase.com/202412041459250.png)

| אפשרות                                                                                                | תיאור                                                                                                                                                                                   | דרישת גרסה |
| :---------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :--------- |
| כאשר מספר טלפון אינו תואם למשתמש קיים, <br />האם ליצור משתמש חדש באופן אוטומטי?                       | כאשר מספר טלפון אינו תואם למשתמש קיים, האם ליצור משתמש חדש באופן אוטומטי.                                                                                                               | -          |
| Company ID                                                                                            | מזהה חברה, המתקבל ממסוף הניהול של WeCom.                                                                                                                                                | -          |
| AgentId                                                                                               | מתקבל מהגדרות היישום העצמאי במסוף הניהול של WeCom.                                                                                                                                      | -          |
| Secret                                                                                                | מתקבל מהגדרות היישום העצמאי במסוף הניהול של WeCom.                                                                                                                                      | -          |
| Origin                                                                                                | דומיין היישום הנוכחי.                                                                                                                                                                   | -          |
| Workbench application redirect link                                                                   | נתיב היישום אליו יש לבצע הפניה מחדש לאחר התחברות מוצלחת.                                                                                                                                | `v1.4.0`   |
| Automatic login                                                                                       | התחברות אוטומטית כאשר קישור היישום נפתח בדפדפן WeCom. כאשר מוגדרים מספר מאמתי WeCom, רק אחד יכול להפעיל אפשרות זו.                                                                      | `v1.4.0`   |
| Workbench application homepage link                                                                   | קישור לדף הבית של יישום סביבת העבודה.                                                                                                                                                   | -          |

## הגדרת דף הבית של יישום WeCom

:::info
בגרסאות `v1.4.0` ומעלה, כאשר אפשרות "התחברות אוטומטית" מופעלת, קישור דף הבית של היישום יכול להיות פשוט: `https://<url>/<path>`, לדוגמה, `https://example.nocobase.com/admin`.

ניתן גם להגדיר קישורים נפרדים עבור נייד ומחשב שולחני, לדוגמה, `https://example.nocobase.com/m` ו-`https://example.nocobase.com/admin`.
:::

עברו למסוף הניהול של WeCom, והדביקו את קישור דף הבית של יישום סביבת העבודה שהועתק לשדה כתובת דף הבית של היישום המתאים.

![](https://static-docs.nocobase.com/202406272123631.png)

![](https://static-docs.nocobase.com/202406272123048.png)

## התחברות

בקרו בדף ההתחברות ולחצו על הכפתור שמתחת לטופס ההתחברות כדי ליזום התחברות צד שלישי.

![](https://static-docs.nocobase.com/202406272124608.png)

:::warning
בשל הגבלות הרשאות של WeCom על מידע רגיש כמו מספרי טלפון, אישור ההתחברות יכול להתבצע רק בתוך לקוח WeCom. כאשר מתחברים לראשונה באמצעות WeCom, אנא עקבו אחר השלבים הבאים כדי להשלים את אישור ההתחברות הראשוני בתוך לקוח WeCom.
:::

## התחברות ראשונית

מתוך לקוח WeCom, עברו לסביבת העבודה, גללו לתחתית, ולחצו על היישום כדי להיכנס לדף הבית שהגדרתם קודם לכן. פעולה זו תשלים את אישור ההתחברות הראשוני. לאחר מכן, תוכלו להשתמש ב-WeCom כדי להתחבר ליישום NocoBase שלכם.

<img src="https://static-docs.nocobase.com/202406272131113.png" width="400" />