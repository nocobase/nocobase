:::tip
מסמך זה תורגם על ידי בינה מלאכותית. לכל אי דיוק, אנא עיין ב[גרסה האנגלית](/en)
:::

# אימות שדות
כדי להבטיח דיוק, אבטחה ועקביות של נתונים ב**אוספים**, NocoBase מציעה פונקציונליות של אימות שדות. תכונה זו מחולקת לשני חלקים עיקריים: הגדרת כללים ואכיפת כללים.

## הגדרת כללים
![20250819181342](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819181342.png)

שדות המערכת של NocoBase משלבים כללים של [Joi](https://joi.dev/api/), עם תמיכה באופן הבא:

### סוג מחרוזת (String)
סוגי מחרוזת של Joi תואמים לסוגי השדות הבאים ב-NocoBase: טקסט חד-שורי, טקסט רב-שורי, מספר טלפון, אימייל, URL, סיסמה ו-UUID.
#### כללים נפוצים
- אורך מינימלי
- אורך מקסימלי
- אורך
- תבנית (Regular Expression)
- חובה

#### אימייל
![20250819192011](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819192011.png)
[צפו באפשרויות נוספות](https://joi.dev/api/?v=17.13.3#stringemailoptions)

#### URL
![20250819192409](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819192409.png)
[צפו באפשרויות נוספות](https://joi.dev/api/?v=17.13.3#stringurioptions)

#### UUID
![20250819192731](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819192731.png)
[צפו באפשרויות נוספות](https://joi.dev/api/?v=17.13.3#stringguid---aliases-uuid)

### סוג מספר (Number)
סוגי מספר של Joi תואמים לסוגי השדות הבאים ב-NocoBase: מספר שלם, מספר, ואחוז.
#### כללים נפוצים
- גדול מ-
- קטן מ-
- ערך מקסימלי
- ערך מינימלי
- כפולה של

#### מספר שלם
בנוסף לכללים הנפוצים, שדות מסוג מספר שלם תומכים גם ב[אימות מספר שלם](https://joi.dev/api/?v=17.13.3#numberinteger) וב[אימות מספר שלם לא בטוח](https://joi.dev/api/?v=17.13.3#numberunsafeenabled).
![20250819193758](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819193758.png)

#### מספר ואחוז
בנוסף לכללים הנפוצים, שדות מסוג מספר ואחוז תומכים גם ב[אימות דיוק](https://joi.dev/api/?v=17.13.3#numberinteger).
![20250819193954](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819193954.png)

### סוג תאריך (Date)
סוגי תאריך של Joi תואמים לסוגי השדות הבאים ב-NocoBase: תאריך (עם אזור זמן), תאריך (ללא אזור זמן), תאריך בלבד, וחותמת זמן Unix.

כללי האימות הנתמכים:
- גדול מ-
- קטן מ-
- ערך מקסימלי
- ערך מינימלי
- אימות פורמט חותמת זמן
- חובה

### שדות קישור (Association Fields)
שדות קישור תומכים רק באימות חובה. שימו לב, אימות חובה עבור שדות קישור אינו נתמך כרגע בתרחישים של טפסי משנה או טבלאות משנה.
![20250819184344](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819184344.png)

## אכיפת כללי אימות
לאחר הגדרת כללי השדות, כללי האימות המתאימים יופעלו בעת הוספה או שינוי של נתונים.
![20250819201027](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819201027.png)

כללי אימות חלים גם על רכיבי טבלת משנה וטופס משנה:
![20250819202514](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819202514.png)

![20250819202357](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819202357.png)

שימו לב, בתרחישים של טפסי משנה או טבלאות משנה, אימות חובה עבור שדות קישור אינו נכנס לתוקף.
![20250819203016](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819203016.png)

## הבדלים מאימות שדות בצד הלקוח
אימות שדות בצד הלקוח ובצד השרת מיושמים בתרחישים שונים, עם הבדלים משמעותיים בדרך היישום ובתזמון הפעלת הכללים, ולכן יש לנהל אותם בנפרד.

### הבדלים בשיטת ההגדרה
- **אימות בצד הלקוח**: הגדרת כללים בטפסי עריכה (כפי שמוצג בתמונה למטה)
- **אימות שדות בצד השרת**: הגדרת כללי שדות ב**מקור נתונים** ← הגדרות **אוסף**
![20250819203836](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819203836.png)

![20250819203845](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819203845.png)

### הבדלים בתזמון הפעלת האימות
- **אימות בצד הלקוח**: מפעיל אימות בזמן אמת כאשר משתמשים ממלאים שדות, ומציג הודעות שגיאה באופן מיידי.
- **אימות שדות בצד השרת**: מאמת בצד השרת לפני הזנת הנתונים למסד הנתונים לאחר שליחת הנתונים, כאשר הודעות השגיאה מוחזרות באמצעות תגובות API.
- **היקף יישום**: אימות שדות בצד השרת נכנס לתוקף לא רק בעת שליחת טפסים, אלא מופעל גם בכל התרחישים הכוללים הוספה או שינוי נתונים, כגון **תהליכי עבודה** וייבוא נתונים.
- **הודעות שגיאה**: אימות בצד הלקוח תומך בהודעות שגיאה מותאמות אישית, בעוד שאימות בצד השרת אינו תומך כרגע בהודעות שגיאה מותאמות אישית.