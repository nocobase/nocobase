---
pkg: "@nocobase/plugin-field-m2m-array"
---
:::tip
מסמך זה תורגם על ידי בינה מלאכותית. לכל אי דיוק, אנא עיין ב[גרסה האנגלית](/en)
:::


# רבים-לרבים (מערך)

## מבוא

תכונה זו מאפשרת לכם להשתמש בשדות מערך בתוך **אוסף** נתונים כדי לאחסן מפתחות ייחודיים מרובים מהטבלה היעד, ובכך ליצור קשר רבים-לרבים בין שתי הטבלאות. לדוגמה, נתייחס לישויות מאמרים ותגיות. מאמר יכול להיות מקושר למספר תגיות, כאשר טבלת המאמרים מאחסנת את מזהי הרשומות המתאימות מטבלת התגיות בשדה מערך.

:::warning{title=שימו לב}

- ככל הניתן, מומלץ להשתמש ב**אוסף** צומת (junction collection) כדי ליצור קשר [רבים-לרבים](../data-modeling/collection-fields/associations/m2m/index.md) סטנדרטי, במקום להסתמך על שיטה זו.
- נכון לעכשיו, רק PostgreSQL תומך בסינון נתוני **אוסף** המקור באמצעות שדות מטבלת היעד עבור קשרי רבים-לרבים שנוצרו עם שדות מערך. לדוגמה, בתרחיש שהוצג לעיל, תוכלו לסנן מאמרים על בסיס שדות אחרים בטבלת התגיות, כגון הכותרת.

  :::

### הגדרות שדה

![הגדרות שדה רבים-לרבים (מערך)](https://static-docs.nocobase.com/202407051108180.png)

## תיאור פרמטרים

### אוסף מקור

**אוסף** המקור, שבו נמצא השדה הנוכחי.

### אוסף יעד

**אוסף** היעד שאיתו נוצר הקשר.

### מפתח זר

שדה המערך ב**אוסף** המקור המאחסן את מפתח היעד (Target key) מטבלת היעד.

הקשרים המתאימים עבור סוגי שדות מערך הם כדלקמן:

| NocoBase | PostgreSQL | MySQL  | SQLite |
| -------- | ---------- | ------ | ------ |
| `set`    | `array`    | `JSON` | `JSON` |

### מפתח יעד

השדה ב**אוסף** היעד התואם לערכים המאוחסנים בשדה המערך של טבלת המקור. שדה זה חייב להיות ייחודי.