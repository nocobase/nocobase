:::tip
מסמך זה תורגם על ידי בינה מלאכותית. לכל אי דיוק, אנא עיין ב[גרסה האנגלית](/en)
:::

# אפשרויות תרשים

קבעו את אופן הצגת התרשימים. נתמכות שתי מצבים: Basic (חזותי) ו-Custom (התאמה אישית באמצעות JS). מצב Basic מתאים למיפוי מהיר ולמאפיינים נפוצים; מצב Custom מתאים לתרחישים מורכבים ולהתאמה אישית מתקדמת.

## מבנה החלונית

![clipboard-image-1761473695](https://static-docs.nocobase.com/clipboard-image-1761473695.png)

> טיפ: כדי להקל על הגדרת התוכן הנוכחי, תוכלו לקפל חלוניות אחרות תחילה.

סרגל הפעולות העליון
בחירת מצב:
- Basic: הגדרה חזותית. בחרו סוג והשלימו את מיפוי השדות; התאימו מאפיינים נפוצים באמצעות מתגים.
- Custom: כתבו קוד JS בעורך והחזירו אובייקט `option` של ECharts.

## מצב Basic

![20251026190615](https://static-docs.nocobase.com/20251026190615.png)

### בחירת סוג תרשים
- נתמכים: תרשים קו, תרשים שטח, תרשים עמודות, תרשים עמודות אופקיות, תרשים עוגה, תרשים טבעת, תרשים משפך, תרשים פיזור ועוד.
- השדות הנדרשים משתנים בהתאם לסוג התרשים. תחילה, ודאו את שמות העמודות והסוגים ב"שאילתת נתונים ← הצגת נתונים".

### מיפוי שדות
- קו/שטח/עמודות/עמודות אופקיות:
  - `xField`: מימד (לדוגמה: תאריך, קטגוריה, אזור)
  - `yField`: מדד (ערך מספרי מצטבר)
  - `seriesField` (אופציונלי): קיבוץ סדרות (לריבוי קווים/קבוצות עמודות)
- עוגה/טבעת:
  - `Category`: מימד קטגוריאלי
  - `Value`: מדד
- משפך:
  - `Category`: שלב/קטגוריה
  - `Value`: ערך (בדרך כלל כמות או אחוז)
- פיזור:
  - `xField`, `yField`: שני מדדים או מימדים, עבור צירי הקואורדינטות

> למידע נוסף על אפשרויות הגדרת תרשימים, עיינו בתיעוד של ECharts: [ציר](https://echarts.apache.org/handbook/en/concepts/axis) ו-[דוגמאות](https://echarts.apache.org/examples/en/index.html)

**שימו לב:**
- לאחר שינוי מימדים או מדדים, ודאו מחדש את המיפוי כדי למנוע תרשימים ריקים או לא מיושרים.
- תרשימי עוגה/טבעת ומשפך חייבים לספק שילוב של "קטגוריה + ערך".

### מאפיינים נפוצים

![20251026191332](https://static-docs.nocobase.com/20251026191332.png)

- ערימה, החלקה (קו/שטח)
- הצגת תוויות, טיפים (tooltip), מקרא (legend)
- סיבוב תוויות ציר, קווי הפרדה
- רדיוס ורדיוס פנימי של עוגה/טבעת, סדר מיון משפך

**המלצות:**
- השתמשו בתרשים קו/שטח עבור סדרות זמן עם החלקה מתונה; השתמשו בתרשים עמודות/עמודות אופקיות להשוואת קטגוריות גדולות.
- כאשר הנתונים צפופים, אין צורך להציג את כל התוויות כדי למנוע חפיפה.

## מצב Custom

משמש להחזרת אובייקט `option` מלא של ECharts. מתאים להתאמה אישית מתקדמת כגון מיזוג סדרות מרובות, טיפים מורכבים וסגנונות דינמיים. גישה מומלצת: לרכז את הנתונים ב-`dataset.source`. לפרטים נוספים, עיינו בתיעוד של ECharts: [Dataset](https://echarts.apache.org/handbook/en/concepts/dataset/#map-row-or-column-of-dataset-to-series)

![20251026191728](https://static-docs.nocobase.com/20251026191728.png)

### הקשר נתונים
- `ctx.data.objects`: מערך של אובייקטים (כל שורה כאובייקט, מומלץ)
- `ctx.data.rows`: מערך דו-ממדי (כולל כותרת טבלה)
- `ctx.data.columns`: מערך דו-ממדי מקובץ לפי עמודות

### דוגמה: תרשים קו של הזמנות חודשיות
```js
return {
  dataset: { source: ctx.data.objects || [] },
  xAxis: { type: 'category' },
  yAxis: {},
  series: [
    {
      type: 'line',
      smooth: true,
      showSymbol: false,
    },
  ],
}
```

### תצוגה מקדימה ושמירה
- במצב Custom, לאחר שתסיימו לערוך, תוכלו ללחוץ על כפתור "תצוגה מקדימה" בצד ימין כדי לעדכן את תצוגת התרשים.
- בתחתית, לחצו על "שמור" כדי להחיל ולשמור את ההגדרות; לחצו על "ביטול" כדי לבטל את כל השינויים שבוצעו הפעם.

![20251026192816](https://static-docs.nocobase.com/20251026192816.png)

> [!TIP]
> למידע נוסף על אפשרויות תרשים, ראו שימוש מתקדם — הגדרת תרשים מותאמת אישית.