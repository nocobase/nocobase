
:::tip –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–µ—Ä–µ–∫–ª–∞–¥ –®–Ü
–¶—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –±—É–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–∞ —à—Ç—É—á–Ω–∏–º —ñ–Ω—Ç–µ–ª–µ–∫—Ç–æ–º.
:::


# –û–≥–ª—è–¥ —Å–∏—Å—Ç–µ–º–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ–≤

–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ–≤ —Ä—É—à—ñ—è —Ä–æ–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤ NocoBase –ø–æ–¥—ñ–ª—è—î—Ç—å—Å—è –Ω–∞ —Ç—Ä–∏ —Ä—ñ–≤–Ω—ñ, –∫–æ–∂–µ–Ω –∑ —è–∫–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Ä—ñ–∑–Ω—ñ–π –æ–±–ª–∞—Å—Ç—ñ –≤–∏–¥–∏–º–æ—Å—Ç—ñ. –ü—Ä–∞–≤–∏–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–æ–∑–≤–æ–ª—è—î –≥–Ω—É—á–∫–æ –¥—ñ–ª–∏—Ç–∏—Å—è —Ç–∞ —ñ–∑–æ–ª—é–≤–∞—Ç–∏ —Å–µ—Ä–≤—ñ—Å–∏, –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —Ç–∞ –¥–∞–Ω—ñ, –ø—ñ–¥–≤–∏—â—É—é—á–∏ –∑—Ä—É—á–Ω—ñ—Å—Ç—å –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —Ç–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å –±—ñ–∑–Ω–µ—Å—É.

- **FlowEngineContext (–≥–ª–æ–±–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç)**: –ì–ª–æ–±–∞–ª—å–Ω–æ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π, –¥–æ—Å—Ç—É–ø–Ω–∏–π –¥–ª—è –≤—Å—ñ—Ö –º–æ–¥–µ–ª–µ–π —Ç–∞ —Ä–æ–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤, –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –≥–ª–æ–±–∞–ª—å–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤, –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π —Ç–æ—â–æ.
- **FlowModelContext (–∫–æ–Ω—Ç–µ–∫—Å—Ç –º–æ–¥–µ–ª—ñ)**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Å–ø—ñ–ª—å–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –¥–µ—Ä–µ–≤–∞ –º–æ–¥–µ–ª–µ–π. –î–æ—á—ñ—Ä–Ω—ñ –º–æ–¥–µ–ª—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–µ–ª–µ–≥—É—é—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ—ó –º–æ–¥–µ–ª—ñ, –ø—ñ–¥—Ç—Ä–∏–º—É—é—á–∏ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –æ–¥–Ω–∞–∫–æ–≤–∏–º —ñ–º'—è–º. –ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —ñ–∑–æ–ª—è—Ü—ñ—ó –ª–æ–≥—ñ–∫–∏ —Ç–∞ –¥–∞–Ω–∏—Ö –Ω–∞ —Ä—ñ–≤–Ω—ñ –º–æ–¥–µ–ª—ñ.
- **FlowRuntimeContext (–∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—á–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É)**: –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —â–æ—Ä–∞–∑—É –ø—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ —Ä–æ–±–æ—á–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É —ñ —ñ—Å–Ω—É—î –ø—Ä–æ—Ç—è–≥–æ–º —É—Å—å–æ–≥–æ —Ü–∏–∫–ª—É –π–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è. –ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ –¥–∞–Ω–∏—Ö, –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Ç–∞ –∑–∞–ø–∏—Å—É —Å—Ç–∞–Ω—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ä–æ–±–æ—á–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É. –ü—ñ–¥—Ç—Ä–∏–º—É—î –¥–≤–∞ —Ä–µ–∂–∏–º–∏: `mode: 'runtime' | 'settings'`, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å —Ä–µ–∂–∏–º—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–∞ —Ä–µ–∂–∏–º—É –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ.

–£—Å—ñ `FlowEngineContext` (–≥–ª–æ–±–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç), `FlowModelContext` (–∫–æ–Ω—Ç–µ–∫—Å—Ç –º–æ–¥–µ–ª—ñ), `FlowRuntimeContext` (–∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—á–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É) —Ç–æ—â–æ, —î –ø—ñ–¥–∫–ª–∞—Å–∞–º–∏ –∞–±–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ `FlowContext`.

---

## üóÇÔ∏è –°—Ö–µ–º–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—ó

```text
FlowEngineContext (–≥–ª–æ–±–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç)
‚îÇ
‚îú‚îÄ‚îÄ FlowModelContext (–∫–æ–Ω—Ç–µ–∫—Å—Ç –º–æ–¥–µ–ª—ñ)
‚îÇ     ‚îú‚îÄ‚îÄ Sub FlowModelContext (–¥–æ—á—ñ—Ä–Ω—è –º–æ–¥–µ–ª—å)
‚îÇ     ‚îÇ     ‚îú‚îÄ‚îÄ FlowRuntimeContext (–∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—á–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É)
‚îÇ     ‚îÇ     ‚îî‚îÄ‚îÄ FlowRuntimeContext (–∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—á–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É)
‚îÇ     ‚îî‚îÄ‚îÄ FlowRuntimeContext (–∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—á–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É)
‚îÇ
‚îú‚îÄ‚îÄ FlowModelContext (–∫–æ–Ω—Ç–µ–∫—Å—Ç –º–æ–¥–µ–ª—ñ)
‚îÇ     ‚îî‚îÄ‚îÄ FlowRuntimeContext (–∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—á–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É)
‚îÇ
‚îî‚îÄ‚îÄ FlowModelContext (–∫–æ–Ω—Ç–µ–∫—Å—Ç –º–æ–¥–µ–ª—ñ)
      ‚îú‚îÄ‚îÄ Sub FlowModelContext (–¥–æ—á—ñ—Ä–Ω—è –º–æ–¥–µ–ª—å)
      ‚îÇ     ‚îî‚îÄ‚îÄ FlowRuntimeContext (–∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—á–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É)
      ‚îî‚îÄ‚îÄ FlowRuntimeContext (–∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—á–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É)
```

- `FlowModelContext` –º–æ–∂–µ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π —Ç–∞ –º–µ—Ç–æ–¥—ñ–≤ `FlowEngineContext` —á–µ—Ä–µ–∑ –º–µ—Ö–∞–Ω—ñ–∑–º –¥–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è, –∑–∞–±–µ–∑–ø–µ—á—É—é—á–∏ —Å–ø—ñ–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≥–ª–æ–±–∞–ª—å–Ω–∏—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π.
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –º–æ–¥–µ–ª—ñ (`FlowModelContext`) –¥–æ—á—ñ—Ä–Ω—å–æ—ó –º–æ–¥–µ–ª—ñ –º–æ–∂–µ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ—ó –º–æ–¥–µ–ª—ñ (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π –∑–≤'—è–∑–æ–∫) —á–µ—Ä–µ–∑ –º–µ—Ö–∞–Ω—ñ–∑–º –¥–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è, –ø—ñ–¥—Ç—Ä–∏–º—É—é—á–∏ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –æ–¥–Ω–∞–∫–æ–≤–∏–º —ñ–º'—è–º.
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫—ñ —Ç–∞ –¥–æ—á—ñ—Ä–Ω—ñ –º–æ–¥–µ–ª—ñ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—é—Ç—å –∑–≤'—è–∑–æ–∫ –¥–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –∑–∞–±—Ä—É–¥–Ω–µ–Ω–Ω—è —Å—Ç–∞–Ω—É.
- `FlowRuntimeContext` –∑–∞–≤–∂–¥–∏ –æ—Ç—Ä–∏–º—É—î –¥–æ—Å—Ç—É–ø –¥–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ `FlowModelContext` —á–µ—Ä–µ–∑ –º–µ—Ö–∞–Ω—ñ–∑–º –¥–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è, –∞–ª–µ –Ω–µ –ø–µ—Ä–µ–¥–∞—î –∑–º—ñ–Ω–∏ –≤–≥–æ—Ä—É.

## üß≠ –†–µ–∂–∏–º –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–∞ —Ä–µ–∂–∏–º –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (mode)

`FlowRuntimeContext` –ø—ñ–¥—Ç—Ä–∏–º—É—î –¥–≤–∞ —Ä–µ–∂–∏–º–∏, —è–∫—ñ —Ä–æ–∑—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `mode`:

- `mode: 'runtime'` (—Ä–µ–∂–∏–º –≤–∏–∫–æ–Ω–∞–Ω–Ω—è): –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –Ω–∞ –µ—Ç–∞–ø—ñ —Ñ–∞–∫—Ç–∏—á–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—á–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É. –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ —Ç–∞ –º–µ—Ç–æ–¥–∏ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ. –ù–∞–ø—Ä–∏–∫–ª–∞–¥:
  ```js
  console.log(runtimeCtx.steps.step1.result); // 42
  ```

- `mode: 'settings'` (—Ä–µ–∂–∏–º –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è): –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –Ω–∞ –µ—Ç–∞–ø—ñ –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä–æ–±–æ—á–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É. –î–æ—Å—Ç—É–ø –¥–æ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π –ø–æ–≤–µ—Ä—Ç–∞—î —Ä—è–¥–∫–∏-—à–∞–±–ª–æ–Ω–∏ –∑–º—ñ–Ω–Ω–∏—Ö, —â–æ –ø–æ–ª–µ–≥—à—É—î –≤–∏–±—ñ—Ä –≤–∏—Ä–∞–∑—ñ–≤ —Ç–∞ –∑–º—ñ–Ω–Ω–∏—Ö. –ù–∞–ø—Ä–∏–∫–ª–∞–¥:
  ```js
  console.log(settingsCtx.steps.step1.result); // '{{ ctx.steps.step1.result }}'
  ```

–¢–∞–∫–∞ –¥–≤–æ—Ä—ñ–∂–∏–º–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–∞ —Å–ø—Ä–æ—â—É—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∑–º—ñ–Ω–Ω—ñ –π –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é –≤–∏—Ä–∞–∑—ñ–≤ –ø—ñ–¥ —á–∞—Å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è, –ø—ñ–¥–≤–∏—â—É—é—á–∏ –≥–Ω—É—á–∫—ñ—Å—Ç—å —Ç–∞ –∑—Ä—É—á–Ω—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä—É—à—ñ—è —Ä–æ–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤.