:::tip Повідомлення про переклад ШІ
Ця документація була автоматично перекладена штучним інтелектом.
:::


# Опції діаграм

Налаштуйте спосіб відображення діаграм. Підтримуються два режими: Basic (візуальний) та Custom (JS-налаштування). Режим Basic ідеально підходить для швидкого зіставлення та використання поширених властивостей; Custom — для складних сценаріїв та розширених налаштувань.

## Структура панелі

![clipboard-image-1761473695](https://static-docs.nocobase.com/clipboard-image-1761473695.png)

> Порада: Щоб спростити налаштування поточного вмісту, спочатку згорніть інші панелі.

У верхній частині розташована панель дій
Вибір режиму:
- Basic: Візуальне налаштування. Виберіть тип і виконайте зіставлення полів; поширені властивості можна налаштувати за допомогою перемикачів.
- Custom: Напишіть JS в редакторі та поверніть об'єкт `option` ECharts.

## Режим Basic

![20251026190615](https://static-docs.nocobase.com/20251026190615.png)

### Вибір типу діаграми
- Підтримуються: лінійна діаграма, діаграма з областями, стовпчаста діаграма, гістограма, кругова діаграма, кільцева діаграма, воронкоподібна діаграма, точкова діаграма тощо.
- Необхідні поля можуть відрізнятися залежно від типу діаграми. Спочатку перевірте назви та типи стовпців у розділі «Запит даних → Переглянути дані».

### Зіставлення полів
- Для лінійних діаграм, діаграм з областями, стовпчастих діаграм та гістограм:
  - `xField`: вимір (наприклад, дата, категорія, регіон)
  - `yField`: показник (агреговане числове значення)
  - `seriesField` (необов'язково): групування серій (для кількох ліній/груп стовпців)
- Для кругових/кільцевих діаграм:
  - `Category`: категоріальний вимір
  - `Value`: показник
- Для воронкоподібних діаграм:
  - `Category`: етап/категорія
  - `Value`: значення (зазвичай кількість або відсоток)
- Для точкових діаграм:
  - `xField`, `yField`: два показники або виміри для осей координат

> Для отримання додаткових опцій діаграм зверніться до документації ECharts: [Осі](https://echarts.apache.org/handbook/en/concepts/axis) та [Приклади](https://echarts.apache.org/examples/en/index.html)

**Примітка:**
- Після зміни вимірів або показників повторно перевірте зіставлення, щоб уникнути порожніх або неправильно розташованих діаграм.
- Кругові/кільцеві та воронкоподібні діаграми повинні мати комбінацію «категорія + значення».

### Поширені властивості

![20251026191332](https://static-docs.nocobase.com/20251026191332.png)

- Накопичення, згладжування (лінійна діаграма/діаграма з областями)
- Відображення міток, підказки (tooltip), легенда (legend)
- Обертання міток осей, розділові лінії
- Радіус та внутрішній радіус кругових/кільцевих діаграм, порядок сортування воронкоподібних діаграм

**Рекомендації:**
- Для часових рядів використовуйте лінійні діаграми/діаграми з областями з помірним згладжуванням; для порівняння великих категорій — стовпчасті діаграми/гістограми.
- При щільних даних не обов'язково вмикати всі мітки, щоб уникнути їх перекриття.

## Режим Custom

Використовується для повернення повного об'єкта `option` ECharts. Підходить для розширених налаштувань, таких як об'єднання кількох серій, складні підказки та динамічні стилі. Рекомендований підхід: об'єднайте дані в `dataset.source`. Детальну інформацію дивіться в документації ECharts: [Dataset](https://echarts.apache.org/handbook/en/concepts/dataset/#map-row-or-column-of-dataset-to-series)

![20251026191728](https://static-docs.nocobase.com/20251026191728.png)

### Контекст даних
- `ctx.data.objects`: масив об'єктів (кожен рядок як об'єкт, рекомендовано)
- `ctx.data.rows`: двовимірний масив (з заголовком)
- `ctx.data.columns`: двовимірний масив, згрупований за стовпцями

### Приклад: лінійна діаграма місячних замовлень
```js
return {
  dataset: { source: ctx.data.objects || [] },
  xAxis: { type: 'category' },
  yAxis: {},
  series: [
    {
      type: 'line',
      smooth: true,
      showSymbol: false,
    },
  ],
}
```

### Попередній перегляд та збереження
- У режимі Custom після редагування можна натиснути кнопку «Попередній перегляд» праворуч, щоб оновити попередній перегляд діаграми.
- Внизу натисніть «Зберегти», щоб застосувати та зберегти налаштування; натисніть «Скасувати», щоб відхилити всі зміни, внесені цього разу.

![20251026192816](https://static-docs.nocobase.com/clipboard-image-1761473695.png)

> [!TIP]
> Щоб дізнатися більше про опції діаграм, дивіться розділ Розширене використання — Налаштування діаграм.