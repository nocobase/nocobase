---
pkg: '@nocobase/plugin-workflow-subflow'
---
:::tip Повідомлення про переклад ШІ
Ця документація була автоматично перекладена штучним інтелектом.
:::

# Виклик робочого процесу

## Вступ

Цей функціонал дозволяє викликати інші робочі процеси з поточного. Ви можете використовувати змінні поточного процесу як вхідні дані для дочірнього робочого процесу, а вихідні дані дочірнього процесу – як змінні в поточному процесі для подальшого використання в наступних вузлах.

Процес виклику робочого процесу показано на зображенні нижче:

![20241230134634](https://static-docs.nocobase.com/20241230134634.png)

Використання виклику робочих процесів дозволяє повторно використовувати загальну логіку процесів, наприклад, надсилання електронних листів, SMS тощо. Також це дає змогу розбивати складні процеси на кілька дочірніх робочих процесів для спрощення управління та підтримки.

По суті, робочий процес не розрізняє, чи є він дочірнім. Будь-який робочий процес може бути викликаний як дочірній іншими процесами, і сам може викликати інші процеси. Усі робочі процеси рівні; існує лише зв'язок "викликаючий" та "викликаний".

Аналогічно, використання виклику робочого процесу відбувається у двох місцях:

1.  У головному робочому процесі: як ініціатор, він викликає інші робочі процеси через вузол "Виклик робочого процесу".
2.  У дочірньому робочому процесі: як викликаний об'єкт, він зберігає змінні, які потрібно вивести з поточного процесу, через вузол "Вихід робочого процесу". Ці змінні можуть бути використані наступними вузлами в робочому процесі, який його викликав.

## Створення вузла

В інтерфейсі конфігурації робочого процесу натисніть кнопку "плюс" ("+") у процесі, щоб додати вузол "Виклик робочого процесу":

![Add Invoke Workflow Node](https://static-docs.nocobase.com/20241230001323.png)

## Налаштування вузла

### Вибір робочого процесу

Виберіть робочий процес, який потрібно викликати. Ви можете скористатися полем пошуку для швидкого знаходження:

![Select Workflow](https://static-docs.nocobase.com/20241230001534.png)

:::info{title=Підказка}
*   Вимкнені робочі процеси також можуть бути викликані як дочірні.
*   Якщо поточний робочий процес працює в синхронному режимі, він може викликати лише дочірні робочі процеси, які також працюють у синхронному режимі.
:::

### Налаштування змінних тригера робочого процесу

Після вибору робочого процесу вам також потрібно налаштувати змінні тригера як вхідні дані для запуску дочірнього робочого процесу. Ви можете безпосередньо вибрати статичні дані або змінні з поточного робочого процесу:

![Configure Trigger Variables](https://static-docs.nocobase.com/20241230162722.png)

Різні типи тригерів вимагають різних змінних, які можна налаштувати у формі за потреби.

## Вузол "Вихід робочого процесу"

Зверніться до вмісту вузла [Вихід робочого процесу](./output.md), щоб налаштувати вихідні змінні дочірнього робочого процесу.

## Використання вихідних даних робочого процесу

Повернувшись до головного робочого процесу, в інших вузлах під вузлом "Виклик робочого процесу", коли ви хочете використати вихідне значення дочірнього робочого процесу, ви можете вибрати результат вузла "Виклик робочого процесу". Якщо дочірній робочий процес виводить просте значення, таке як рядок, число, логічне значення, дата (дата у форматі UTC), його можна використовувати безпосередньо. Якщо це складний об'єкт (наприклад, об'єкт з колекції), його потрібно спочатку зіставити за допомогою вузла "Розбір JSON", перш ніж можна буде використовувати його властивості; інакше його можна використовувати лише як цілий об'єкт.

Якщо дочірній робочий процес не має налаштованого вузла "Вихід робочого процесу" або не має вихідного значення, то при використанні результату вузла "Виклик робочого процесу" в головному робочому процесі ви отримаєте лише нульове значення (`null`).