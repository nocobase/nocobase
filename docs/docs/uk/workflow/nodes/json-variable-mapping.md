---
pkg: '@nocobase/plugin-workflow-json-variable-mapping'
---
:::tip Повідомлення про переклад ШІ
Ця документація була автоматично перекладена штучним інтелектом.
:::

# Зіставлення змінних JSON

> v1.6.0

## Вступ

Використовується для зіставлення складних структур JSON з результатів попередніх вузлів у змінні, які можна використовувати в наступних вузлах. Наприклад, після зіставлення результатів вузлів "Операція SQL" та "HTTP-запит" їхні значення властивостей стануть доступними для подальшого використання.

:::info{title=Підказка}
На відміну від вузла "Обчислення JSON", вузол "Зіставлення змінних JSON" не підтримує користувацькі вирази та не базується на сторонньому рушії. Він призначений лише для зіставлення значень властивостей у структурі JSON, але є значно простішим у використанні.
:::

## Створення вузла

В інтерфейсі конфігурації робочого процесу натисніть кнопку плюс ("+") у потоці, щоб додати вузол "Зіставлення змінних JSON":

![Create Node](https://static-docs.nocobase.com/20250113173635.png)

## Конфігурація вузла

### Джерело даних

Джерелом даних може бути результат попереднього вузла або об'єкт даних у контексті робочого процесу. Зазвичай це неструктурований об'єкт даних, такий як результат вузла SQL або вузла "HTTP-запит".

![Data Source](https://static-docs.nocobase.com/20250113173720.png)

### Введення зразка даних

Вставте зразок даних і натисніть кнопку "Парсити", щоб автоматично згенерувати список змінних:

![Input Sample Data](https://static-docs.nocobase.com/20250113182327.png)

Якщо в автоматично згенерованому списку є змінні, які вам не потрібні, ви можете натиснути кнопку "Видалити", щоб їх видалити.

:::info{title=Підказка}
Зразок даних не є кінцевим результатом виконання; він використовується лише для допомоги у генерації списку змінних.
:::

### Шлях включає індекс масиву

Якщо цей параметр не позначено, вміст масиву буде зіставлено відповідно до стандартного способу обробки змінних у робочих процесах NocoBase. Наприклад, введіть такий зразок:

```json
{
  "a": 1,
  "b": [
    {
      "c": 2
    },
    {
      "c": 3
    }
  ]
}
```

У згенерованих змінних `b.c` представлятиме масив `[2, 3]`.

Якщо цей параметр позначено, шлях змінної включатиме індекс масиву, наприклад, `b.0.c` та `b.1.c`.

![20250113184056](https://static-docs.nocobase.com/20250113184056.png)

При включенні індексів масиву вам потрібно переконатися, що індекси масиву у вхідних даних є узгодженими; інакше це призведе до помилки парсингу.

## Використання в наступних вузлах

У конфігурації наступних вузлів ви можете використовувати змінні, згенеровані вузлом "Зіставлення змінних JSON":

![20250113203658](https://static-docs.nocobase.com/20250113203658.png)

Хоча структура JSON може бути складною, після зіставлення вам потрібно лише вибрати змінну для відповідного шляху.