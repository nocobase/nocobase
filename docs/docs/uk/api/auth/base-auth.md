:::tip Повідомлення про переклад ШІ
Ця документація була автоматично перекладена штучним інтелектом.
:::


# BaseAuth

## Огляд

`BaseAuth` успадковує від абстрактного класу [Auth](./auth) і є базовою реалізацією для типів автентифікації користувачів, використовуючи JWT як метод авторизації. У більшості випадків ви можете розширювати типи автентифікації користувачів, успадковуючи від `BaseAuth`, і немає потреби успадковувати безпосередньо від абстрактного класу `Auth`.

```ts
class BasicAuth extends BaseAuth {
  constructor(config: AuthConfig) {
    // Встановлює колекцію користувачів
    const userCollection = config.ctx.db.getCollection('users');
    super({ ...config, userCollection });
  }

  // Логіка автентифікації користувача, викликається `auth.signIn`
  // Повертає дані користувача
  async validate() {
    const ctx = this.ctx;
    const { values } = ctx.action.params;
    // ...
    return user;
  }
}
```

## Методи класу

### `constructor()`

Конструктор, створює екземпляр `BaseAuth`.

#### Підпис

- `constructor(config: AuthConfig & { userCollection: Collection })`

#### Деталі

| Параметр         | Тип          | Опис                                                                                                |
| :--------------- | :----------- | :-------------------------------------------------------------------------------------------------- |
| `config`         | `AuthConfig` | Дивіться [Auth - AuthConfig](./auth#authconfig)                                                     |
| `userCollection` | `Collection` | Колекція користувачів, наприклад: `db.getCollection('users')`. Дивіться [DataBase - Collection](../database/collection) |

### `user()`

Аксесор, встановлює та отримує інформацію про користувача. За замовчуванням використовує об'єкт `ctx.state.currentUser` для доступу.

#### Підпис

- `set user()`
- `get user()`

### `check()`

Автентифікує за допомогою токена запиту та повертає інформацію про користувача.

### `signIn()`

Вхід користувача, генерує токен.

### `signUp()`

Реєстрація користувача.

### `signOut()`

Вихід користувача, термін дії токена закінчується.

### `validate()` \*

Основна логіка автентифікації, викликається інтерфейсом `signIn`, щоб визначити, чи може користувач успішно увійти в систему.