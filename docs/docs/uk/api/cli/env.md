:::tip Повідомлення про переклад ШІ
Ця документація була автоматично перекладена штучним інтелектом.
:::


# Глобальні змінні середовища

## TZ

Використовується для встановлення часового поясу застосунку, за замовчуванням використовується часовий пояс операційної системи.

https://en.wikipedia.org/wiki/List_of_tz_database_time_zones

:::warning
Операції, пов'язані з часом, оброблятимуться відповідно до цього часового поясу. Зміна TZ може вплинути на значення дати в базі даних. Детальніше дивіться в розділі «[Огляд дати та часу](#)».
:::

## APP_ENV

Середовище застосунку, значення за замовчуванням `development`. Доступні варіанти:

- `production` – виробниче середовище
- `development` – середовище розробки

```bash
APP_ENV=production
```

## APP_KEY

Секретний ключ застосунку, що використовується для генерації токенів користувачів тощо. Змініть його на власний ключ застосунку та переконайтеся, що він не розголошується.

:::warning
Якщо APP_KEY змінено, старі токени стануть недійсними.
:::

```bash
APP_KEY=app-key-test
```

## APP_PORT

Порт застосунку, значення за замовчуванням `13000`.

```bash
APP_PORT=13000
```

## API_BASE_PATH

Префікс адреси NocoBase API, значення за замовчуванням `/api/`.

```bash
API_BASE_PATH=/api/
```

## API_BASE_URL

## CLUSTER_MODE

> `v1.6.0+`

Режим запуску з підтримкою багатоядерності (кластерний режим). Якщо цю змінну налаштовано, вона буде передана команді `pm2 start` як параметр `-i <instances>`. Доступні варіанти відповідають параметру `pm2 -i` (див. [PM2: Cluster Mode](https://pm2.keymetrics.io/docs/usage/cluster-mode/)), зокрема:

- `max`: використовувати максимальну кількість ядер CPU
- `-1`: використовувати максимальну кількість ядер CPU мінус 1
- `<number>`: вказати кількість ядер

Значення за замовчуванням порожнє, що означає, що режим не ввімкнено.

:::warning{title="Примітка"}
Цей режим необхідно використовувати разом із плагінами, що підтримують кластерний режим, інакше функціональність застосунку може працювати некоректно.
:::

Докладніше дивіться: [Кластерний режим](#).

## PLUGIN_PACKAGE_PREFIX

Префікс імені пакета плагіна, за замовчуванням: `@nocobase/plugin-,@nocobase/preset-`.

Наприклад, щоб додати плагін `hello` до проєкту `my-nocobase-app`, повне ім'я пакета плагіна буде `@my-nocobase-app/plugin-hello`.

PLUGIN_PACKAGE_PREFIX можна налаштувати так:

```bash
PLUGIN_PACKAGE_PREFIX=@nocobase/plugin-,@nocobase-preset-,@my-nocobase-app/plugin-
```

Тоді відповідність між назвами плагінів та іменами пакетів буде такою:

- Ім'я пакета для плагіна `users` – `@nocobase/plugin-users`
- Ім'я пакета для плагіна `nocobase` – `@nocobase/preset-nocobase`
- Ім'я пакета для плагіна `hello` – `@my-nocobase-app/plugin-hello`

## DB_DIALECT

Тип бази даних. Доступні варіанти:

- `mariadb`
- `mysql`
- `postgres`

```bash
DB_DIALECT=mysql
```

## DB_HOST

Хост бази даних (необхідно налаштувати при використанні баз даних MySQL або PostgreSQL).

Значення за замовчуванням `localhost`.

```bash
DB_HOST=localhost
```

## DB_PORT

Порт бази даних (необхідно налаштувати при використанні баз даних MySQL або PostgreSQL).

- Порт за замовчуванням для MySQL, MariaDB: 3306
- Порт за замовчуванням для PostgreSQL: 5432

```bash
DB_PORT=3306
```

## DB_DATABASE

Ім'я бази даних (необхідно налаштувати при використанні баз даних MySQL або PostgreSQL).

```bash
DB_DATABASE=nocobase
```

## DB_USER

Користувач бази даних (необхідно налаштувати при використанні баз даних MySQL або PostgreSQL).

```bash
DB_USER=nocobase
```

## DB_PASSWORD

Пароль бази даних (необхідно налаштувати при використанні баз даних MySQL або PostgreSQL).

```bash
DB_PASSWORD=nocobase
```

## DB_TABLE_PREFIX

Префікс таблиці бази даних.

```bash
DB_TABLE_PREFIX=nocobase_
```

## DB_UNDERSCORED

Чи слід перетворювати імена таблиць та полів бази даних у стиль snake_case, за замовчуванням `false`. Якщо ви використовуєте базу даних MySQL (MariaDB) і `lower_case_table_names=1`, то DB_UNDERSCORED має бути `true`.

:::warning
Коли `DB_UNDERSCORED=true`, фактичні імена таблиць та полів у базі даних не збігатимуться з тими, що відображаються в інтерфейсі. Наприклад, `orderDetails` у базі даних буде `order_details`.
:::

## DB_LOGGING

Перемикач логування бази даних, значення за замовчуванням `off`. Доступні варіанти:

- `on` – увімкнено
- `off` – вимкнено

```bash
DB_LOGGING=on
```

## LOGGER_TRANSPORT

Спосіб виведення логів, кілька значень розділяються комою `,`. Значення за замовчуванням у середовищі розробки `console`, у виробничому середовищі `console,dailyRotateFile`. Доступні варіанти:

- `console` - `console.log`
- `file` – `Файл`
- `dailyRotateFile` – `Щоденний ротований файл`

```bash
LOGGER_TRANSPORT=console,dailyRotateFile
```

## LOGGER_BASE_PATH

Шлях для зберігання логів на основі файлів, за замовчуванням `storage/logs`.

```bash
LOGGER_BASE_PATH=storage/logs
```

## LOGGER_LEVEL

Рівень виведення логів. Значення за замовчуванням у середовищі розробки `debug`, у виробничому середовищі `info`. Доступні варіанти:

- `error`
- `warn`
- `info`
- `debug`
- `trace`

```bash
LOGGER_LEVEL=info
```

Рівень виведення логів бази даних – `debug`, і те, чи будуть вони виводитися, контролюється `DB_LOGGING`, а не `LOGGER_LEVEL`.

## LOGGER_MAX_FILES

Максимальна кількість файлів логів для збереження.

- Якщо `LOGGER_TRANSPORT` встановлено на `file`, значення за замовчуванням `10`.
- Якщо `LOGGER_TRANSPORT` встановлено на `dailyRotateFile`, використовуйте `[n]d` для позначення кількості днів. Значення за замовчуванням `14d`.

```bash
LOGGER_MAX_FILES=14d
```

## LOGGER_MAX_SIZE

Ротація логів за розміром.

- Якщо `LOGGER_TRANSPORT` встановлено на `file`, одиниця виміру – `байти`, значення за замовчуванням `20971520 (20 * 1024 * 1024)`.
- Якщо `LOGGER_TRANSPORT` встановлено на `dailyRotateFile`, можна використовувати `[n]k`, `[n]m`, `[n]g`. За замовчуванням не налаштовано.

```bash
LOGGER_MAX_SIZE=20971520
```

## LOGGER_FORMAT

Формат виведення логів. За замовчуванням у середовищі розробки `console`, у виробничому середовищі `json`. Доступні варіанти:

- `console`
- `json`
- `logfmt`
- `delimiter`

```bash
LOGGER_FORMAT=json
```

Дивіться також: [Формат логів](#)

## CACHE_DEFAULT_STORE

Унікальний ідентифікатор для способу кешування, що визначає типовий спосіб кешування на стороні сервера. Значення за замовчуванням `memory`. Вбудовані варіанти:

- `memory`
- `redis`

```bash
CACHE_DEFAULT_STORE=memory
```

## CACHE_MEMORY_MAX

Максимальна кількість елементів у кеші в пам'яті, значення за замовчуванням `2000`.

```bash
CACHE_MEMORY_MAX=2000
```

## CACHE_REDIS_URL

Підключення до Redis, необов'язково. Приклад: `redis://localhost:6379`

```bash
CACHE_REDIS_URL=redis://localhost:6379
```

## TELEMETRY_ENABLED

Увімкнути збір телеметричних даних, за замовчуванням `off`.

```bash
TELEMETRY_ENABLED=on
```

## TELEMETRY_METRIC_READER

Увімкнені збирачі метрик моніторингу, за замовчуванням `console`. Інші значення повинні відповідати зареєстрованим назвам відповідних плагінів збирачів, наприклад `prometheus`. Кілька значень розділяються комою `,`.

```bash
TELEMETRY_METRIC_READER=console,prometheus
```

## TELEMETRY_TRACE_PROCESSOR

Увімкнені обробники даних трасування, за замовчуванням `console`. Інші значення повинні відповідати зареєстрованим назвам відповідних плагінів обробників. Кілька значень розділяються комою `,`.

```bash
TELEMETRY_TRACE_PROCESSOR=console
```