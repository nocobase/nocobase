:::tip Повідомлення про переклад ШІ
Ця документація була автоматично перекладена штучним інтелектом.
:::


# Валідація полів
Щоб забезпечити точність, безпеку та узгодженість даних у колекціях, NocoBase пропонує функцію валідації полів. Ця функція складається з двох основних частин: налаштування правил та застосування правил валідації.

## Налаштування правил
![20250819181342](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819181342.png)

Системні поля NocoBase інтегрують правила [Joi](https://joi.dev/api/), з підтримкою наступних типів:

### Рядок
Типи рядків Joi відповідають наступним типам полів NocoBase: Однорядковий текст, Багаторядковий текст, Номер телефону, Електронна пошта, URL, Пароль та UUID.
#### Загальні правила
- Мінімальна довжина
- Максимальна довжина
- Довжина
- Регулярний вираз
- Обов'язкове поле

#### Електронна пошта
![20250819192011](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819192011.png)
[Переглянути більше опцій](https://joi.dev/api/?v=17.13.3#stringemailoptions)

#### URL
![20250819192409](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819192409.png)
[Переглянути більше опцій](https://joi.dev/api/?v=17.13.3#stringurioptions)

#### UUID
![20250819192731](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819192731.png)
[Переглянути більше опцій](https://joi.dev/api/?v=17.13.3#stringguid---aliases-uuid)

### Число
Типи чисел Joi відповідають наступним типам полів NocoBase: Ціле число, Число та Відсоток.
#### Загальні правила
- Більше ніж
- Менше ніж
- Максимальне значення
- Мінімальне значення
- Кратне

#### Ціле число
Окрім загальних правил, поля цілих чисел додатково підтримують [валідацію цілих чисел](https://joi.dev/api/?v=17.13.3#numberinteger) та [валідацію небезпечних цілих чисел](https://joi.dev/api/?v=17.13.3#numberunsafeenabled).
![20250819193758](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819193758.png)

#### Число та Відсоток
Окрім загальних правил, поля чисел та відсотків додатково підтримують [валідацію точності](https://joi.dev/api/?v=17.13.3#numberinteger).
![20250819193954](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819193954.png)

### Дата
Типи дат Joi відповідають наступним типам полів NocoBase: Дата (з часовим поясом), Дата (без часового поясу), Тільки дата та Мітка часу Unix.

Підтримувані правила валідації:
- Більше ніж
- Менше ніж
- Максимальне значення
- Мінімальне значення
- Валідація формату мітки часу
- Обов'язкове поле

### Поля зв'язків
Поля зв'язків підтримують лише валідацію обов'язковості. Зверніть увагу, що валідація обов'язковості для полів зв'язків наразі не підтримується в сценаріях підформ або підтаблиць.
![20250819184344](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819184344.png)

## Застосування правил валідації
Після налаштування правил для полів, відповідні правила валідації будуть спрацьовувати при додаванні або зміні даних.
![20250819201027](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819201027.png)

Правила валідації також застосовуються до компонентів підтаблиць та підформ:
![20250819202514](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819202514.png)

![20250819202357](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819202357.png)

Зверніть увагу, що у сценаріях підформ або підтаблиць валідація обов'язковості для полів зв'язків не діє.
![20250819203016](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819203016.png)

## Відмінності від клієнтської валідації полів
Клієнтська та серверна валідація полів застосовуються в різних сценаріях, і між ними існують значні відмінності у способах реалізації та моментах спрацьовування правил, тому ними потрібно керувати окремо.

### Відмінності у способі налаштування
- **Клієнтська валідація**: Налаштування правил у формах редагування (як показано на зображенні нижче)
- **Серверна валідація полів**: Налаштування правил для полів у Джерелі даних → Конфігурація колекції
![20250819203836](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819203836.png)

![20250819203845](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20250819203845.png)

### Відмінності у моментах спрацьовування валідації
- **Клієнтська валідація**: Спрацьовує в реальному часі, коли користувачі заповнюють поля, і негайно відображає повідомлення про помилку.
- **Серверна валідація полів**: Виконується на стороні сервера після надсилання даних, перед їх збереженням, а повідомлення про помилки повертаються через відповіді API.
- **Область застосування**: Серверна валідація полів діє не лише під час надсилання форм, але й спрацьовує в усіх сценаріях, що передбачають додавання або зміну даних, таких як робочі процеси та імпорт даних.
- **Повідомлення про помилки**: Клієнтська валідація підтримує власні повідомлення про помилки, тоді як серверна валідація наразі не підтримує власні повідомлення про помилки.