:::tip Повідомлення про переклад ШІ
Ця документація була автоматично перекладена штучним інтелектом.
:::


# Багато-до-багатьох

У системі реєстрації на курси існують дві сутності: студенти та курси. Один студент може записатися на кілька курсів, і один курс може мати кількох студентів, що створює зв'язок багато-до-багатьох. У реляційній базі даних для представлення зв'язку багато-до-багатьох між студентами та курсами зазвичай використовується проміжна колекція, наприклад, колекція реєстрації. Ця колекція може записувати, які курси обрав кожен студент і які студенти записалися на кожен курс. Такий підхід ефективно відображає зв'язок багато-до-багатьох між студентами та курсами.

Діаграма сутність-зв'язок (ER-діаграма):

![alt text](https://static-docs.nocobase.com/0e9921228e1ee375dc639431bb89782c.png)

Конфігурація полів:

![alt text](https://static-docs.nocobase.com/8e2739ac5d44fb46f30e2da42ca87a82.png)

## Опис параметрів

### Source collection

Вихідна колекція — це колекція, де розташоване поточне поле.

### Target collection

Цільова колекція, з якою буде встановлено зв'язок.

### Through collection

Проміжна колекція використовується, коли між двома сутностями існує зв'язок багато-до-багатьох. Вона має два зовнішні ключі, які підтримують зв'язок між цими двома сутностями.

### Source key

Поле у вихідній колекції, на яке посилається зовнішній ключ. Воно має бути унікальним.

### Foreign key 1

Поле в проміжній колекції, яке встановлює зв'язок з вихідною колекцією.

### Foreign key 2

Поле в проміжній колекції, яке встановлює зв'язок з цільовою колекцією.

### Target key

Поле в цільовій колекції, на яке посилається зовнішній ключ. Воно має бути унікальним.

### ON DELETE

ON DELETE — це правила, які застосовуються до посилань зовнішніх ключів у пов'язаних дочірніх колекціях при видаленні записів у батьківській колекції. Це опція, що використовується при визначенні обмеження зовнішнього ключа. Поширені опції ON DELETE включають:

- **CASCADE**: При видаленні запису в батьківській колекції автоматично видаляються всі пов'язані записи в дочірній колекції.
- **SET NULL**: При видаленні запису в батьківській колекції значення зовнішнього ключа в пов'язаних записах дочірньої колекції встановлюються на NULL.
- **RESTRICT**: Опція за замовчуванням. Вона запобігає видаленню запису батьківської колекції, якщо існують пов'язані записи в дочірній колекції.
- **NO ACTION**: Схоже на RESTRICT. Запобігає видаленню запису батьківської колекції, якщо існують пов'язані записи в дочірній колекції.