---
pkg: "@nocobase/plugin-collection-sql"
---
:::tip Повідомлення про переклад ШІ
Ця документація була автоматично перекладена штучним інтелектом.
:::



# SQL колекція

## Вступ

SQL колекція надає потужний метод отримання даних за допомогою SQL-запитів. Витягуючи поля даних через SQL-запити та налаштовуючи відповідні метадані полів, користувачі можуть використовувати ці поля так, ніби вони працюють зі звичайною таблицею. Ця функція особливо корисна для сценаріїв, що включають складні запити з об'єднанням, статистичний аналіз тощо.

## Посібник користувача

### Створення нової SQL колекції

<img src="https://static-docs.nocobase.com/202405191452918.png"/>

1. Введіть ваш SQL-запит у відповідне поле введення та натисніть «Виконати» (Execute). Система проаналізує запит, щоб визначити задіяні таблиці та поля, автоматично витягуючи відповідні метадані полів з вихідних таблиць.

<img src="https://static-docs.nocobase.com/202405191453556.png"/>

2. Якщо аналіз вихідних таблиць і полів, виконаний системою, є некоректним, ви можете вручну вибрати відповідні таблиці та поля, щоб забезпечити використання правильних метаданих. Спочатку виберіть вихідну таблицю, а потім оберіть відповідні поля в розділі джерела полів нижче.

<img src="https://static-docs.nocobase.com/202405191453579.png"/>

3. Для полів, які не мають прямого джерела, система виведе тип поля на основі типу даних. Якщо цей висновок є некоректним, ви можете вручну вибрати правильний тип поля.

<img src="https://static-docs.nocobase.com/202405191454703.png"/>

4. Під час налаштування кожного поля ви можете переглядати його відображення в області попереднього перегляду, що дозволяє одразу бачити вплив ваших налаштувань.

<img src="https://static-docs.nocobase.com/202405191455439.png"/>

5. Після завершення налаштування та підтвердження, що все правильно, натисніть кнопку «Підтвердити» (Confirm) під полем введення SQL, щоб завершити подання.

<img src="https://static-docs.nocobase.com/202405191455302.png"/>

### Редагування

1. Якщо вам потрібно змінити SQL-запит, натисніть кнопку «Редагувати» (Edit), щоб безпосередньо змінити SQL-оператор і переналаштувати поля за потреби.

2. Щоб налаштувати метадані поля, скористайтеся опцією «Налаштувати поля» (Configure fields), яка дозволяє оновити налаштування поля так само, як для звичайної таблиці.

### Синхронізація

Якщо SQL-запит залишається незмінним, але структура базової таблиці бази даних була змінена, ви можете синхронізувати та переналаштувати поля, вибравши «Налаштувати поля» (Configure fields) - «Синхронізувати з бази даних» (Sync from database).

<img src="https://static-docs.nocobase.com/202405191456216.png"/>

### SQL колекція проти пов'язаних представлень бази даних

| Тип шаблону | Найкраще підходить для | Метод реалізації | Підтримка операцій CRUD |
| :--- | :--- | :--- | :--- |
| SQL | Прості моделі, легкі сценарії використання<br />Обмежена взаємодія з базою даних<br />Уникнення підтримки представлень<br />Перевага операціям, керованим інтерфейсом користувача | SQL-підзапит | Не підтримується |
| Підключення до представлення бази даних | Складні моделі<br />Потребує взаємодії з базою даних<br />Потрібна зміна даних<br />Потребує сильнішої та стабільнішої підтримки бази даних | Представлення бази даних | Частково підтримується |

:::warning
При використанні SQL колекції обов'язково вибирайте таблиці, якими можна керувати в NocoBase. Використання таблиць з тієї ж бази даних, які не підключені до NocoBase, може призвести до неточного розбору SQL-запитів. Якщо це викликає занепокоєння, розгляньте можливість створення та підключення до представлення.
:::