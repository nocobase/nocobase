
:::tip
यह दस्तावेज़ AI द्वारा अनुवादित किया गया है। किसी भी अशुद्धि के लिए, कृपया [अंग्रेजी संस्करण](/en) देखें
:::


# "टेम्पलेट प्रिंट" फ़ंक्शन का उपयोग करके "आपूर्ति और खरीद अनुबंध" का उदाहरण जनरेट करें

आपूर्ति श्रृंखला या व्यापार परिदृश्यों में, अक्सर एक मानकीकृत "आपूर्ति और खरीद अनुबंध" को तेज़ी से जनरेट करने की आवश्यकता होती है, और डेटा स्रोत से खरीदारों, विक्रेताओं और उत्पाद विवरण जैसी जानकारी के आधार पर सामग्री को गतिशील रूप से भरना होता है। नीचे, हम एक सरलीकृत "अनुबंध" उपयोग-मामले का उदाहरण देंगे ताकि आपको यह दिखाया जा सके कि "टेम्पलेट प्रिंट" फ़ंक्शन को कैसे कॉन्फ़िगर और उपयोग किया जाए, डेटा जानकारी को अनुबंध टेम्पलेट में प्लेसहोल्डर से कैसे मैप किया जाए, जिससे अंतिम अनुबंध दस्तावेज़ स्वचालित रूप से जनरेट हो सके।

---

## 1. पृष्ठभूमि और डेटा संरचना का अवलोकन

हमारे उदाहरण में, मोटे तौर पर निम्नलिखित मुख्य संग्रह (अन्य अप्रासंगिक फ़ील्ड को छोड़कर) मौजूद हैं:

-   **parties**: पार्टी ए/पार्टी बी इकाइयों या व्यक्तियों की जानकारी संग्रहीत करता है, जिसमें नाम, पता, संपर्क व्यक्ति, फ़ोन आदि शामिल हैं।
-   **contracts**: विशिष्ट अनुबंध रिकॉर्ड संग्रहीत करता है, जिसमें अनुबंध संख्या, खरीदार/विक्रेता विदेशी कुंजी, हस्ताक्षरकर्ता जानकारी, शुरू/समाप्ति की तारीखें, बैंक खाता आदि शामिल हैं।
-   **contract_line_items**: अनुबंध के तहत कई आइटम (उत्पाद का नाम, विनिर्देश, मात्रा, प्रति इकाई मूल्य, डिलीवरी की तारीख आदि) संग्रहीत करता है।

![template_print-2025-11-01-16-34-04](https://static-docs.nocobase.com/template_print-2025-11-01-16-34-04.png)

चूंकि वर्तमान सिस्टम केवल एकल रिकॉर्ड प्रिंट करने का समर्थन करता है, हम "अनुबंध विवरण" पृष्ठ पर "प्रिंट" पर क्लिक करेंगे, और सिस्टम स्वचालित रूप से संबंधित अनुबंध रिकॉर्ड, साथ ही संबंधित पार्टियों और अन्य जानकारी को पुनः प्राप्त करेगा, और उन्हें Word या PDF दस्तावेज़ों में भरेगा।

## 2. तैयारी

### 2.1 प्लगइन की तैयारी

ध्यान दें, हमारा "टेम्पलेट प्रिंट" एक व्यावसायिक प्लगइन है जिसे प्रिंटिंग कार्य करने से पहले खरीदना और सक्रिय करना होगा।

![template_print-2025-11-01-17-31-51](https://static-docs.nocobase.com/template_print-2025-11-01-17-31-51.png)

**प्लगइन सक्रियण की पुष्टि करें:**

किसी भी पृष्ठ पर, एक विवरण ब्लॉक (जैसे उपयोगकर्ता) बनाएं और जांचें कि क्या कार्य कॉन्फ़िगरेशन में संबंधित टेम्पलेट कॉन्फ़िगरेशन विकल्प है:

![template_print-2025-11-01-17-32-09](https://static-docs.nocobase.com/template_print-2025-11-01-17-32-09.png)

![template_print-2025-11-01-17-32-30](https://static-docs.nocobase.com/template_print-2025-11-01-17-32-30.png)

### 2.2 संग्रह बनाना

ऊपर डिज़ाइन किए गए मुख्य इकाई संग्रह, अनुबंध संग्रह और उत्पाद आइटम संग्रह बनाएं (केवल मुख्य फ़ील्ड चुनें)।

#### अनुबंध संग्रह (Contracts)

| फ़ील्ड श्रेणी | Field Display Name | Field Name | Field Interface |
|---------|-------------------|------------|-----------------|
| **PK & FK Fields** | | | |
| | ID | id | Integer |
| | Buyer ID | buyer_id | Integer |
| | Seller ID | seller_id | Integer |
| **Association Fields** | | | |
| | Contract Items | contract_items | One to many |
| | Buyer (Party A) | buyer | Many to one |
| | Seller (Party B) | seller | Many to one |
| **General Fields** | | | |
| | Contract Number | contract_no | Single line text |
| | Delivery Start Date | start_date | Datetime (with time zone) |
| | Delivery End Date | end_date | Datetime (with time zone) |
| | Deposit Ratio (%) | deposit_ratio | Percent |
| | Payment Days After Delivery | payment_days_after | Integer |
| | Bank Account Name (Beneficiary) | bank_account_name | Single line text |
| | Bank Name | bank_name | Single line text |
| | Bank Account Number (Beneficiary) | bank_account_number | Single line text |
| | Total Amount | total_amount | Number |
| | Currency Codes | currency_codes | Single select |
| | Balance Ratio (%) | balance_ratio | Percent |
| | Balance Days After Delivery | balance_days_after | Integer |
| | Delivery Place | delivery_place | Long text |
| | Party A Signatory Name | party_a_signatory_name | Single line text |
| | Party A Signatory Title | party_a_signatory_title | Single line text |
| | Party B Signatory Name | party_b_signatory_name | Single line text |
| | Party B Signatory Title | party_b_signatory_title | Single line text |
| **System Fields** | | | |
| | Created At | createdAt | Created at |
| | Created By | createdBy | Created by |
| | Last Updated At | updatedAt | Last updated at |
| | Last Updated By | updatedBy | Last updated by |

#### पार्टी संग्रह (Parties)

| फ़ील्ड श्रेणी | Field Display Name | Field Name | Field Interface |
|---------|-------------------|------------|-----------------|
| **PK & FK Fields** | | | |
| | ID | id | Integer |
| **General Fields** | | | |
| | Party Name | party_name | Single line text |
| | Address | address | Single line text |
| | Contact Person | contact_person | Single line text |
| | Contact Phone | contact_phone | Phone |
| | Position | position | Single line text |
| | Email | email | Email |
| | Website | website | URL |
| **System Fields** | | | |
| | Created At | createdAt | Created at |
| | Created By | createdBy | Created by |
| | Last Updated At | updatedAt | Last updated at |
| | Last Updated By | updatedBy | Last updated by |

#### अनुबंध आइटम संग्रह (Contract Line Items)

| फ़ील्ड श्रेणी | Field Display Name | Field Name | Field Interface |
|---------|-------------------|------------|-----------------|
| **PK & FK Fields** | | | |
| | ID | id | Integer |
| | Contract ID | contract_id | Integer |
| **Association Fields** | | | |
| | Contract | contract | Many to one |
| **General Fields** | | | |
| | Product Name | product_name | Single line text |
| | Specification / Model | spec | Single line text |
| | Quantity | quantity | Integer |
| | Unit Price | unit_price | Number |
| | Total Amount | total_amount | Number |
| | Delivery Date | delivery_date | Datetime (with time zone) |
| | Remark | remark | Long text |
| **System Fields** | | | |
| | Created At | createdAt | Created at |
| | Created By | createdBy | Created by |
| | Last Updated At | updatedAt | Last updated at |
| | Last Updated By | updatedBy | Last updated by |

### 2.3 इंटरफ़ेस कॉन्फ़िगरेशन

**नमूना डेटा दर्ज करें:**

![template_print-2025-11-01-17-32-59](https://static-docs.nocobase.com/template_print-2025-11-01-17-32-59.png)

![template_print-2025-11-01-17-33-11](https://static-docs.nocobase.com/template_print-2025-11-01-17-33-11.png)

**कुल मूल्य और शेष भुगतान की स्वचालित रूप से गणना करने के लिए लिंकेज नियम इस प्रकार कॉन्फ़िगर करें:**

![template_print-2025-11-01-17-33-21](https://static-docs.nocobase.com/template_print-2025-11-01-17-33-21.png)

**एक दृश्य ब्लॉक बनाएं, डेटा की पुष्टि करने के बाद, "टेम्पलेट प्रिंट" कार्य सक्षम करें:**

![template_print-2025-11-01-17-33-33](https://static-docs.nocobase.com/template_print-2025-11-01-17-33-33.png)

### 2.4 टेम्पलेट प्रिंट प्लगइन कॉन्फ़िगरेशन

![template_print-2025-11-01-17-33-45](https://static-docs.nocobase.com/template_print-2025-11-01-17-33-45.png)

एक टेम्पलेट कॉन्फ़िगरेशन जोड़ें, जैसे "आपूर्ति और खरीद अनुबंध":

![template_print-2025-11-01-17-33-57](https://static-docs.nocobase.com/template_print-2025-11-01-17-33-57.png)

![template_print-2025-11-01-17-34-08](https://static-docs.nocobase.com/template_print-2025-11-01-17-34-08.png)

इसके बाद, हम फ़ील्ड सूची टैब पर जाएंगे, जहाँ हम वर्तमान ऑब्जेक्ट के सभी फ़ील्ड देख सकते हैं। "कॉपी" पर क्लिक करने के बाद, हम टेम्पलेट भरना शुरू कर सकते हैं।

![template_print-2025-11-01-17-35-19](https://static-docs.nocobase.com/template_print-2025-11-01-17-35-19.png)

### 2.5 अनुबंध फ़ाइल की तैयारी

**Word अनुबंध टेम्पलेट फ़ाइल**

अनुबंध टेम्पलेट (.docx फ़ाइल) पहले से तैयार रखें, उदाहरण के लिए: `SUPPLY AND PURCHASE CONTRACT.docx`

इस उदाहरण में, हमने "आपूर्ति और खरीद अनुबंध" का एक सरलीकृत संस्करण दिया है, जिसमें नमूना प्लेसहोल्डर शामिल हैं:

-   `{d.contract_no}`: अनुबंध संख्या
-   `{d.buyer.party_name}`、`{d.seller.party_name}`: खरीदार और विक्रेता के नाम
-   `{d.total_amount}`: अनुबंध की कुल राशि
-   और अन्य प्लेसहोल्डर जैसे "संपर्क व्यक्ति", "पता", "फ़ोन" आदि।

इसके बाद, आप अपने संग्रह से फ़ील्ड को कॉपी करके Word में पेस्ट कर सकते हैं।

---

## 3. टेम्पलेट वेरिएबल ट्यूटोरियल

### 3.1 मूल चर और सहयोगी ऑब्जेक्ट प्रॉपर्टी भरना

**मूल फ़ील्ड भरना:**

उदाहरण के लिए, सबसे ऊपर अनुबंध संख्या, या हमारे अनुबंध पर हस्ताक्षर करने वाली इकाई का ऑब्जेक्ट। हम कॉपी पर क्लिक करते हैं और इसे सीधे अनुबंध में संबंधित खाली स्थान पर पेस्ट कर देते हैं।

![template_print-2025-11-01-17-31-11](https://static-docs.nocobase.com/template_print-2025-11-01-17-31-11.gif)

![template_print-2025-11-01-17-30-51](https://static-docs.nocobase.com/template_print-2025-11-01-17-30-51.png)

### 3.2 डेटा फ़ॉर्मेटिंग

#### दिनांक फ़ॉर्मेटिंग

टेम्पलेट में, हमें अक्सर फ़ील्ड को फ़ॉर्मेट करने की आवश्यकता होती है, खासकर दिनांक फ़ील्ड को। सीधे कॉपी किया गया दिनांक फ़ॉर्मेट आमतौर पर लंबा होता है (जैसे Wed Jan 01 2025 00:00:00 GMT), और हमें वांछित शैली प्रदर्शित करने के लिए इसे फ़ॉर्मेट करना होता है।

दिनांक फ़ील्ड के लिए, आप आउटपुट फ़ॉर्मेट निर्दिष्ट करने के लिए `formatD()` फ़ंक्शन का उपयोग कर सकते हैं:

```
{फ़ील्ड का नाम:formatD(फ़ॉर्मेटिंग शैली)}
```

**उदाहरण:**

उदाहरण के लिए, यदि हमारा कॉपी किया गया मूल फ़ील्ड `{d.created_at}` है, और हमें दिनांक को `2025-01-01` इस फ़ॉर्मेट में फ़ॉर्मेट करना है, तो इस फ़ील्ड को इस प्रकार बदलें:

```
{d.created_at:formatD(YYYY-MM-DD)}  // आउटपुट: 2025-01-01
```

**सामान्य दिनांक फ़ॉर्मेटिंग शैलियाँ:**

-   `YYYY` - वर्ष (चार अंक)
-   `MM` - माह (दो अंक)
-   `DD` - दिन (दो अंक)
-   `HH` - घंटा (24 घंटे का फ़ॉर्मेट)
-   `mm` - मिनट
-   `ss` - सेकंड

**उदाहरण 2:**

```
{d.created_at:formatD(YYYY-MM-DD HH:mm:ss)}  // आउटपुट: 2025-01-01 14:30:00
```

#### संख्या फ़ॉर्मेटिंग

मान लीजिए कि अनुबंध में `{d.total_amount}` जैसा कोई राशि फ़ील्ड है। हम संख्याओं को फ़ॉर्मेट करने के लिए `formatN()` फ़ंक्शन का उपयोग कर सकते हैं, जिसमें दशमलव स्थान और हजारों का विभाजक निर्दिष्ट किया जाता है।

**सिंटैक्स:**

```
{फ़ील्ड का नाम:formatN(दशमलव स्थान, हजारों का विभाजक)}
```

-   **दशमलव स्थान**: आप निर्दिष्ट कर सकते हैं कि कितने दशमलव स्थान रखने हैं। उदाहरण के लिए, `2` का अर्थ है दो दशमलव स्थान रखना।
-   **हजारों का विभाजक**: निर्दिष्ट करें कि हजारों का विभाजक उपयोग करना है या नहीं, आमतौर पर `true` या `false`।

**उदाहरण 1: हजारों के विभाजक और दो दशमलव स्थानों के साथ राशि को फ़ॉर्मेट करें**

```
{d.amount:formatN(2, true)}  // आउटपुट: 1,234.56
```

यह `d.amount` को दो दशमलव स्थानों में फ़ॉर्मेट करेगा और हजारों का विभाजक जोड़ेगा।

**उदाहरण 2: राशि को दशमलव स्थानों के बिना पूर्णांक में फ़ॉर्मेट करें**

```
{d.amount:formatN(0, true)}  // आउटपुट: 1,235
```

यह `d.amount` को एक पूर्णांक में फ़ॉर्मेट करेगा और हजारों का विभाजक जोड़ेगा।

**उदाहरण 3: दो दशमलव स्थानों के साथ लेकिन हजारों के विभाजक के बिना राशि को फ़ॉर्मेट करें**

```
{d.amount:formatN(2, false)}  // आउटपुट: 1234.56
```

यहां हजारों का विभाजक अक्षम कर दिया गया है, और केवल दो दशमलव स्थान रखे गए हैं।

**अन्य राशि फ़ॉर्मेटिंग आवश्यकताएँ:**

-   **मुद्रा प्रतीक**: Carbone स्वयं सीधे मुद्रा प्रतीक फ़ॉर्मेटिंग फ़ंक्शन प्रदान नहीं करता है, लेकिन आप सीधे डेटा या टेम्पलेट में मुद्रा प्रतीक जोड़कर इसे प्राप्त कर सकते हैं। उदाहरण के लिए:
    ```
    {d.amount:formatN(2, true)} रुपये  // आउटपुट: 1,234.56 रुपये
    ```

#### स्ट्रिंग फ़ॉर्मेटिंग

स्ट्रिंग फ़ील्ड के लिए, आप टेक्स्ट के फ़ॉर्मेट को निर्दिष्ट करने के लिए `:upperCase` का उपयोग कर सकते हैं, जैसे केस रूपांतरण।

**सिंटैक्स:**

```
{फ़ील्ड का नाम:upperCase:अन्य कमांड}
```

**सामान्य रूपांतरण विधियाँ:**

-   `upperCase` - सभी बड़े अक्षरों में बदलें
-   `lowerCase` - सभी छोटे अक्षरों में बदलें
-   `upperCase:ucFirst` - पहला अक्षर बड़ा करें

**उदाहरण:**

```
{d.party_a_signatory_name:upperCase}  // आउटपुट: JOHN DOE
```

### 3.3 लूप प्रिंटिंग

#### चाइल्ड ऑब्जेक्ट सूचियाँ (जैसे उत्पाद विवरण) कैसे प्रिंट करें

जब हमें कई उप-आइटम (जैसे उत्पाद विवरण) वाली एक तालिका प्रिंट करने की आवश्यकता होती है, तो आमतौर पर लूप प्रिंटिंग का उपयोग करना पड़ता है। इस तरह, सिस्टम सूची में प्रत्येक आइटम के लिए एक पंक्ति सामग्री जनरेट करेगा, जब तक कि सभी आइटमों को पार न कर लिया जाए।

मान लीजिए हमारे पास एक उत्पाद सूची (उदाहरण के लिए, `contract_items`) है, जिसमें कई उत्पाद ऑब्जेक्ट शामिल हैं। प्रत्येक उत्पाद ऑब्जेक्ट में कई विशेषताएँ होती हैं, जैसे उत्पाद का नाम, विनिर्देश, मात्रा, प्रति इकाई मूल्य, कुल राशि और टिप्पणी।

**चरण 1: तालिका की पहली पंक्ति में फ़ील्ड भरें**

सबसे पहले, तालिका की पहली पंक्ति (हेडर नहीं) में, हम सीधे टेम्पलेट चर को कॉपी करके भरते हैं। ये चर संबंधित डेटा द्वारा प्रतिस्थापित किए जाएंगे और आउटपुट में प्रदर्शित होंगे।

उदाहरण के लिए, तालिका की पहली पंक्ति इस प्रकार है:

| Product Name | Specification / Model | Quantity | Unit Price | Total Amount | Remark |
|--------------|----------------------|----------|------------|--------------|--------|
| {d.contract_items[i].product_name} | {d.contract_items[i].spec} | {d.contract_items[i].quantity} | {d.contract_items[i].unit_price} | {d.contract_items[i].total_amount} | {d.contract_items[i].remark} |

यहां, `d.contract_items[i]` उत्पाद सूची में i-वें आइटम का प्रतिनिधित्व करता है, और `i` एक सूचकांक है, जो वर्तमान उत्पाद के क्रम को दर्शाता है।

**चरण 2: दूसरी पंक्ति में सूचकांक संशोधित करें**

इसके बाद, तालिका की दूसरी पंक्ति में, हम फ़ील्ड के सूचकांक को `i+1` में संशोधित करेंगे और केवल पहली विशेषता भरेंगे। ऐसा इसलिए है क्योंकि लूप प्रिंटिंग के दौरान, हमें सूची से डेटा का अगला आइटम निकालना होगा और उसे अगली पंक्ति में प्रदर्शित करना होगा।

उदाहरण के लिए, दूसरी पंक्ति इस प्रकार भरी जाती है:
| Product Name | Specification / Model | Quantity | Unit Price | Total Amount | Remark |
|--------------|----------------------|----------|------------|--------------|--------|
| {d.contract_items[i+1].product_name} | | |  | |  |

इस उदाहरण में, हमने `[i]` को `[i+1]` में बदल दिया, ताकि हम सूची में अगला उत्पाद डेटा प्राप्त कर सकें।

**चरण 3: टेम्पलेट रेंडरिंग के दौरान स्वचालित लूप प्रिंटिंग**

जब सिस्टम इस टेम्पलेट को संसाधित करेगा, तो यह निम्नलिखित तर्क के अनुसार कार्य करेगा:

1.  पहली पंक्ति को टेम्पलेट में आपके द्वारा सेट किए गए फ़ील्ड के अनुसार भरा जाएगा।
2.  फिर, सिस्टम स्वचालित रूप से दूसरी पंक्ति को हटा देगा और `d.contract_items` से डेटा निकालना शुरू कर देगा, तालिका के प्रारूप में प्रत्येक पंक्ति को लूप करके भरेगा, जब तक कि सभी उत्पाद विवरण प्रिंट नहीं हो जाते।

प्रत्येक पंक्ति में `i` बढ़ेगा, जिससे यह सुनिश्चित होगा कि प्रत्येक पंक्ति में अलग-अलग उत्पाद जानकारी प्रदर्शित हो।

---

## 4. अनुबंध टेम्पलेट अपलोड और कॉन्फ़िगर करें

### 4.1 टेम्पलेट अपलोड करें

1.  "टेम्पलेट जोड़ें" बटन पर क्लिक करें, और टेम्पलेट का नाम दर्ज करें, जैसे "आपूर्ति और खरीद अनुबंध टेम्पलेट"।
2.  तैयार की गई [Word अनुबंध फ़ाइल (.docx)](https://static-docs.nocobase.com/template_print-2025-11-01-17-37-11.docx) अपलोड करें, जिसमें पहले से ही सभी प्लेसहोल्डर शामिल हैं।

![template_print-2025-11-01-17-36-06](https://static-docs.nocobase.com/template_print-2025-11-01-17-36-06.png)

3.  पूरा होने के बाद, सिस्टम इस टेम्पलेट को वैकल्पिक टेम्पलेट सूची में सूचीबद्ध करेगा, ताकि भविष्य में इसका उपयोग किया जा सके।
4.  हम इस टेम्पलेट को सक्रिय करने के लिए "उपयोग करें" पर क्लिक करते हैं।

![template_print-2025-11-01-17-36-13](https://static-docs.nocobase.com/template_print-2025-11-01-17-36-13.png)

इस बिंदु पर, वर्तमान पॉपअप से बाहर निकलें और जनरेट किया गया पूर्ण टेम्पलेट प्राप्त करने के लिए "टेम्पलेट डाउनलोड करें" पर क्लिक करें।

**टिप्स:**

-   यदि टेम्पलेट `.doc` या अन्य फ़ॉर्मेट का उपयोग करता है, तो इसे `.docx` में बदलने की आवश्यकता हो सकती है, जो प्लगइन समर्थन पर निर्भर करता है।
-   Word फ़ाइलों में, ध्यान रखें कि प्लेसहोल्डर को कई पैराग्राफ या टेक्स्ट बॉक्स में विभाजित न करें, ताकि रेंडरिंग अपवादों से बचा जा सके।

---

आपको सफल उपयोग की शुभकामनाएँ! "टेम्पलेट प्रिंट" फ़ंक्शन के साथ, आप अनुबंध प्रबंधन में दोहराए जाने वाले काम को बहुत बचा सकते हैं, मैन्युअल कॉपी-पेस्ट त्रुटियों से बच सकते हैं, और मानकीकृत और स्वचालित अनुबंध आउटपुट प्राप्त कर सकते हैं।