---
pkg: '@nocobase/plugin-workflow-sql'
---
:::tip
यह दस्तावेज़ AI द्वारा अनुवादित किया गया है। किसी भी अशुद्धि के लिए, कृपया [अंग्रेजी संस्करण](/en) देखें
:::


# SQL एक्शन

## परिचय

कुछ विशेष परिदृश्यों में, ऊपर बताए गए साधारण संग्रह एक्शन नोड जटिल ऑपरेशनों को संभाल नहीं पाते हैं। ऐसे मामलों में, आप सीधे SQL नोड का उपयोग कर सकते हैं ताकि डेटाबेस जटिल SQL स्टेटमेंट को सीधे निष्पादित करके डेटा में हेरफेर कर सके।

इस और एप्लिकेशन के बाहर सीधे डेटाबेस से जुड़कर SQL ऑपरेशन करने में अंतर यह है कि वर्कफ़्लो के भीतर, आप प्रक्रिया संदर्भ से वेरिएबल्स को SQL स्टेटमेंट में पैरामीटर के रूप में उपयोग कर सकते हैं।

## इंस्टॉलेशन

यह एक बिल्ट-इन प्लगइन है, इसे इंस्टॉल करने की आवश्यकता नहीं है।

## नोड बनाएँ

वर्कफ़्लो कॉन्फ़िगरेशन इंटरफ़ेस में, फ़्लो में प्लस ("+") बटन पर क्लिक करके "SQL एक्शन" नोड जोड़ें:

![SQL एक्शन_जोड़ें](https://static-docs.nocobase.com/0ce40a226d7a5bf3717813e27da40e62.png)

## नोड कॉन्फ़िगरेशन

![SQL नोड_नोड कॉन्फ़िगरेशन](https://static-docs.nocobase.com/20240904002334.png)

### डेटा स्रोत

SQL निष्पादित करने के लिए डेटा स्रोत चुनें।

डेटा स्रोत डेटाबेस प्रकार का होना चाहिए, जैसे मुख्य डेटा स्रोत, PostgreSQL, या अन्य Sequelize-संगत डेटा स्रोत।

### SQL सामग्री

SQL स्टेटमेंट संपादित करें। वर्तमान में, केवल एक SQL स्टेटमेंट समर्थित है।

संपादक के ऊपरी-दाएँ कोने में स्थित वेरिएबल बटन का उपयोग करके आवश्यक वेरिएबल्स डालें। निष्पादन से पहले, इन वेरिएबल्स को टेक्स्ट प्रतिस्थापन के माध्यम से उनके संबंधित मानों से बदल दिया जाएगा। फिर परिणामी टेक्स्ट को अंतिम SQL स्टेटमेंट के रूप में उपयोग किया जाएगा और क्वेरी के लिए डेटाबेस को भेजा जाएगा।

## नोड निष्पादन परिणाम

`v1.3.15-beta` से, SQL नोड निष्पादन का परिणाम शुद्ध डेटा से बना एक ऐरे होता है। इससे पहले, यह क्वेरी मेटाडेटा वाली Sequelize की मूल रिटर्न संरचना थी (देखें: [`sequelize.query()`](https://sequelize.org/api/v6/class/src/sequelize.js~sequelize#instance-method-query))।

उदाहरण के लिए, निम्नलिखित क्वेरी:

```sql
select count(id) from posts;
```

`v1.3.15-beta` से पहले का परिणाम:

```json
[
    [
        { "count": 1 }
    ],
    {
        // meta
    }
]
```

`v1.3.15-beta` के बाद का परिणाम:

```json
[
    { "count": 1 }
]
```

## अक्सर पूछे जाने वाले प्रश्न

### SQL नोड के परिणाम का उपयोग कैसे करें?

यदि `SELECT` स्टेटमेंट का उपयोग किया जाता है, तो क्वेरी परिणाम Sequelize के JSON फॉर्मेट में नोड में सहेजा जाएगा। इसे [JSON-query](./json-query.md) प्लगइन के साथ पार्स और उपयोग किया जा सकता है।

### क्या SQL एक्शन संग्रह इवेंट ट्रिगर करता है?

**नहीं**। SQL एक्शन सीधे SQL स्टेटमेंट को डेटाबेस में प्रोसेसिंग के लिए भेजता है। संबंधित `CREATE` / `UPDATE` / `DELETE` ऑपरेशन डेटाबेस में होते हैं, जबकि संग्रह इवेंट Node.js के एप्लिकेशन लेयर (ORM द्वारा हैंडल किए जाते हैं) पर होते हैं, इसलिए संग्रह इवेंट ट्रिगर नहीं होंगे।