:::tip
यह दस्तावेज़ AI द्वारा अनुवादित किया गया है। किसी भी अशुद्धि के लिए, कृपया [अंग्रेजी संस्करण](/en) देखें
:::

# HTTP API के ज़रिए उपयोगकर्ता डेटा सिंक करें

## API कुंजी प्राप्त करें

[API कुंजी](/auth-verification/api-keys) देखें। सुनिश्चित करें कि API कुंजी से जुड़ी भूमिका के पास उपयोगकर्ता डेटा सिंक करने के लिए आवश्यक अनुमतियाँ हैं।

## API अवलोकन

### उदाहरण

```bash
curl 'https://localhost:13000/api/userData:push' \
  -H 'Authorization: Bearer <token>' \
  --data-raw '{"dataType":"user","records":[]}' # अनुरोध बॉडी का विस्तृत विवरण नीचे देखें
```

### एंडपॉइंट

```bash
POST /api/userData:push
```

### उपयोगकर्ता डेटा प्रारूप

#### UserData

| पैरामीटर  | प्रकार                               | विवरण                                                                 |
| ---------- | ---------------------------------- | --------------------------------------------------------------------------- |
| `dataType` | `'user' \| 'department'`           | आवश्यक। पुश किए जा रहे डेटा का प्रकार। उपयोगकर्ता डेटा पुश करने के लिए `user` का उपयोग करें।      |
| `matchKey` | `'username' \| 'email' \| 'phone'` | वैकल्पिक। निर्दिष्ट फ़ील्ड के आधार पर मौजूदा सिस्टम उपयोगकर्ताओं का मिलान करने के लिए उपयोग किया जाता है। |
| `records`  | `UserRecord[]`                     | आवश्यक। उपयोगकर्ता डेटा रिकॉर्ड का ऐरे।                                       |

#### UserRecord

| पैरामीटर     | प्रकार       | विवरण                                                                                                 |
| ------------- | ---------- | ----------------------------------------------------------------------------------------------------------- |
| `uid`         | `string`   | आवश्यक। स्रोत उपयोगकर्ता डेटा के लिए अद्वितीय पहचानकर्ता, स्रोत डेटा को सिस्टम उपयोगकर्ता से जोड़ने के लिए उपयोग किया जाता है। एक उपयोगकर्ता के लिए अपरिवर्तनीय। |
| `nickname`    | `string`   | वैकल्पिक। उपयोगकर्ता का उपनाम।                                                                                  |
| `username`    | `string`   | वैकल्पिक। उपयोगकर्ता नाम।                                                                                         |
| `email`       | `string`   | वैकल्पिक। उपयोगकर्ता का ईमेल पता।                                                                             |
| `phone`       | `string`   | वैकल्पिक। उपयोगकर्ता का फ़ोन नंबर।                                                                              |
| `departments` | `string[]` | वैकल्पिक। उन विभागों के UID का ऐरे जिनसे उपयोगकर्ता संबंधित है।                                                     |
| `isDeleted`   | `boolean`  | वैकल्पिक। इंगित करता है कि रिकॉर्ड हटा दिया गया है या नहीं।                                                                  |
| `<field>`     | `any`      | वैकल्पिक। उपयोगकर्ता तालिका में कस्टम फ़ील्ड।                                                                  |

### विभाग डेटा प्रारूप

:::info
विभाग डेटा पुश करने के लिए [विभाग](../../departments) प्लगइन का इंस्टॉल और सक्षम होना आवश्यक है।
:::

#### DepartmentData

| पैरामीटर  | प्रकार                     | विवरण                                                                |
| ---------- | ------------------------ | -------------------------------------------------------------------------- |
| `dataType` | `'user' \| 'department'` | आवश्यक। पुश किए जा रहे डेटा का प्रकार। विभाग डेटा के लिए `department` का उपयोग करें। |
| `records`  | `DepartmentRecord[]`     | आवश्यक। विभाग डेटा रिकॉर्ड का ऐरे।                                |

#### DepartmentRecord

| पैरामीटर   | प्रकार      | विवरण                                                                                                       |
| ----------- | --------- | ------------------------------------------------------------------------------------------------------------------- |
| `uid`       | `string`  | आवश्यक। स्रोत विभाग डेटा के लिए अद्वितीय पहचानकर्ता, स्रोत डेटा को सिस्टम विभाग से जोड़ने के लिए उपयोग किया जाता है। अपरिवर्तनीय। |
| `title`     | `string`  | आवश्यक। विभाग का शीर्षक।                                                                                         |
| `parentUid` | `string`  | वैकल्पिक। मूल विभाग का UID।                                                                             |
| `isDeleted` | `boolean` | वैकल्पिक। इंगित करता है कि रिकॉर्ड हटा दिया गया है या नहीं।                                                                  |
| `<field>`   | `any`     | वैकल्पिक। विभाग तालिका में कस्टम फ़ील्ड।                                                                    |

:::info

1. डेटा को कई बार पुश करना एक आइडम्पोटेंट ऑपरेशन है।
2. यदि विभाग डेटा पुश करते समय कोई मूल विभाग मौजूद नहीं है, तो जुड़ाव नहीं हो पाएगा। आप मूल विभाग बनने के बाद डेटा को फिर से पुश कर सकते हैं।
3. यदि उपयोगकर्ता डेटा पुश करते समय किसी उपयोगकर्ता का विभाग मौजूद नहीं है, तो उपयोगकर्ता को उस विभाग से नहीं जोड़ा जा सकता है। आप विभाग डेटा पुश करने के बाद उपयोगकर्ता डेटा को फिर से पुश कर सकते हैं।

:::