---
pkg: '@nocobase/plugin-workflow-parallel'
---

# 并行分支

并行分支节点可以将流程分为多个分支，每个分支可以配置不同的节点，根据分支的模式不同，分支的执行方式也不同。在需要在同时执行多个操作的场景下，可以使用并行分支节点。

## 安装

内置插件，无需安装。

## 创建节点

在工作流配置界面中，点击流程中的加号（“+”）按钮，添加“并行分支”节点：

![并行分支_添加](https://static-docs.nocobase.com/9e0f3faa0b9335270647a30477559eac.png)

在流程中增加并行分支节点后，会默认增加两个子分支，同时也可以点击增加分支的按钮增加任意多个分支，每个分支都可以增加任意的节点，不需要的分支可以点击分支开始处的删除按钮删除。

![并行分支_分支管理](https://static-docs.nocobase.com/36088a8b7970c8a1771eb3ee9bc2a757.png)

## 节点配置

### 分支模式

并行分支节点有以下三种模式：

- **全部成功**：所有分支都执行成功，流程才会继续执行分支结束后的节点。否则任意分支提前终止，无论是失败、出错还是其他非成功状态，都导致整个并行分支节点以该状态提前终止，也称作“All 模式”。
- **任意成功**：任意分支执行成功，流程就会继续执行分支结束后的节点。除非所有分支都提前终止，无论是失败、出错还是其他非成功状态，才会导致整个并行分支节点以该状态提前终止，也称作“Any 模式”。
- **任意成功和失败**：任意分支执行成功后流程就会继续执行分支结束后的节点，但任意节点失败后，会导致整个并行以该状态提前终止，也称作“Race 模式”。

不论哪种模式，都会从左到右依次尝试执行每个分支，直到满足分支预设模式的相关条件后，继续执行后续节点或提前退出。

## 示例

参考 [延时节点](./delay.md) 中的例子。
