# 查询数据

用于对某个数据表的满足条件的数据进行查询并获取数据记录。

可以配置查询单条数据或多条数据，查询结果可以作为变量在后续节点使用。当查询多条数据时，查询结果为一个数组。当查询结果为空时，可以选择是否继续执行后续节点。

## 创建节点

在工作流配置界面中，点击流程中的加号（“+”）按钮，添加“查询数据”节点：

![查询数据_添加](https://static-docs.nocobase.com/c1ef2b851b437806faf7a39c6ab9d33a.png)

## 节点配置

![查询节点_节点配置](https://static-docs.nocobase.com/20240520131324.png)

### 数据表

选择要查询数据的数据表。

### 结果类型

结果类型分为“单数据”和“多行数据”两种：

- 单条数据：结果是一个对象，仅为首条匹配的记录，或空值。
- 多条数据：结果会是一个数组，包含匹配条件的记录，没有匹配记录则为空数组。可以通过循环节点逐个处理。

### 筛选条件

与普通的数据表查询时的筛选条件类似，可以使用流程的上下文变量。

### 排序

查询一条或多条数据时均可通过排序规则来控制需要的结果。例如查询最新的一条数据，可以通过“创建时间”字段降序排序。

### 分页

当结果集可能会很大时，可以使用分页来控制查询结果的数量。例如查询最新的 10 条数据，可以通过“创建时间”字段降序排序，然后设置分页为 1 页 10 条数据。

### 结果为空的处理

在单条结果模式下，没有符合条件的数据的话查询结果会是 `null`，多条结果的模式下是空数组（`[]`）。可以根据需要是否勾选“查询结果为空是，退出流程”，勾选后，如果查询结果为空，则不会执行后续节点，以失败的状态提前退出。
