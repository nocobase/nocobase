# 子表格（弹窗编辑）

## 介绍

子表格（弹窗编辑）用于在表单里管理对多关联数据（如一对多、多对多）。表格本体展示已关联记录，新增/编辑通过弹窗完成。

## 使用说明

![20260212152204](https://static-docs.nocobase.com/20260212152204.png)

适用场景

- 关联字段：o2m / m2m / mbm（目标集合非 file 目标表）
- 典型用途：订单明细、子项列表、关联标签/成员等

基础使用流程

1. 在表单字段中选择组件“子表格（弹窗编辑）”
2. 配置列（子表字段列、关联字段列等）
3. 运行时使用：
   - 点击 Add new 打开弹窗配置新增表单
   - 点击 Select record 选择已有记录
   - 行内 Edit / Remove 操作管理单条记录

## 字段配置项

### 允许选择已有数据（默认：开启）

支持从已有数据选择关联。

![20260212152312](https://static-docs.nocobase.com/20260212152312.png)

![20260212152343](https://static-docs.nocobase.com/20260212152343.gif)

### 字段组件

[字段组件](/interface-builder/fields/association-field)：切换为其他关系字段组件，如下拉选择、数据选择器等。

### 允许解除已有数据关联（默认：开启）

> 编辑表单中的关系字段数据是否允许解除已有数据的关联
> 新增的数据允许移除

![20251028153425](https://static-docs.nocobase.com/20251028153425.gif)

### 允许新增（默认：开启）

控制是否显示 Add new 按钮。当用户无当前目标表的 create 权限时，按钮会禁用并提示无权限。

### 允许快速编辑（默认：关闭）

开启后，鼠标移入单元格会出现编辑图标，可快速编辑单元格内容。

### 分页大小（默认：10）

设置子表格每页显示的条数。

### 弹窗设置（新增/选择）

可分别配置新增弹窗与选择弹窗的打开方式与大小：

- 打开方式：Drawer / Dialog
- 弹窗大小：Small / Medium / Large
- 移动端选择弹窗通常会使用嵌入式（embed）方式展
  示

## 行为说明

- 选择已有记录时会按主键去重，避免同一记录重复关联
- 新增记录会直接回填到子表格，默认跳转到包含新增记录的分页
- 行内 Edit 仅修改当前行数据
- Remove 只会解除当前表单中的关联，不删除源数据
